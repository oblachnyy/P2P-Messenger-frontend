/*! For license information please see videosdk.js.LICENSE.txt */
!(function (e, t) {
  if ("object" == typeof exports && "object" == typeof module)
    module.exports = t();
  else if ("function" == typeof define && define.amd) define([], t);
  else {
    var r = t();
    for (var n in r) ("object" == typeof exports ? exports : e)[n] = r[n];
  }
})(self, () =>
  (() => {
    var e = {
        7757: (e, t, r) => {
          e.exports = r(5666);
        },
        4180: (e) => {
          self,
            (e.exports = (() => {
              var e = {
                  43: function (e, t, r) {
                    var n, a;
                    !(function (i, s) {
                      "use strict";
                      (n = function () {
                        var e = function () {},
                          t = "undefined",
                          r =
                            typeof window !== t &&
                            typeof window.navigator !== t &&
                            /Trident\/|MSIE /.test(window.navigator.userAgent),
                          n = ["trace", "debug", "info", "warn", "error"];
                        function a(e, t) {
                          var r = e[t];
                          if ("function" == typeof r.bind) return r.bind(e);
                          try {
                            return Function.prototype.bind.call(r, e);
                          } catch (t) {
                            return function () {
                              return Function.prototype.apply.apply(r, [
                                e,
                                arguments,
                              ]);
                            };
                          }
                        }
                        function i() {
                          console.log &&
                            (console.log.apply
                              ? console.log.apply(console, arguments)
                              : Function.prototype.apply.apply(console.log, [
                                  console,
                                  arguments,
                                ])),
                            console.trace && console.trace();
                        }
                        function s(n) {
                          return (
                            "debug" === n && (n = "log"),
                            typeof console !== t &&
                              ("trace" === n && r
                                ? i
                                : void 0 !== console[n]
                                ? a(console, n)
                                : void 0 !== console.log
                                ? a(console, "log")
                                : e)
                          );
                        }
                        function o(t, r) {
                          for (var a = 0; a < n.length; a++) {
                            var i = n[a];
                            this[i] = a < t ? e : this.methodFactory(i, t, r);
                          }
                          this.log = this.debug;
                        }
                        function c(e, r, n) {
                          return function () {
                            typeof console !== t &&
                              (o.call(this, r, n),
                              this[e].apply(this, arguments));
                          };
                        }
                        function d(e, t, r) {
                          return s(e) || c.apply(this, arguments);
                        }
                        function p(e, r, a) {
                          var i,
                            s = this,
                            c = "loglevel";
                          function p() {
                            var e;
                            if (typeof window !== t && c) {
                              try {
                                e = window.localStorage[c];
                              } catch (e) {}
                              if (typeof e === t)
                                try {
                                  var r = window.document.cookie,
                                    n = r.indexOf(encodeURIComponent(c) + "=");
                                  -1 !== n &&
                                    (e = /^([^;]+)/.exec(r.slice(n))[1]);
                                } catch (e) {}
                              return void 0 === s.levels[e] && (e = void 0), e;
                            }
                          }
                          "string" == typeof e
                            ? (c += ":" + e)
                            : "symbol" == typeof e && (c = void 0),
                            (s.name = e),
                            (s.levels = {
                              TRACE: 0,
                              DEBUG: 1,
                              INFO: 2,
                              WARN: 3,
                              ERROR: 4,
                              SILENT: 5,
                            }),
                            (s.methodFactory = a || d),
                            (s.getLevel = function () {
                              return i;
                            }),
                            (s.setLevel = function (r, a) {
                              if (
                                ("string" == typeof r &&
                                  void 0 !== s.levels[r.toUpperCase()] &&
                                  (r = s.levels[r.toUpperCase()]),
                                !(
                                  "number" == typeof r &&
                                  r >= 0 &&
                                  r <= s.levels.SILENT
                                ))
                              )
                                throw (
                                  "log.setLevel() called with invalid level: " +
                                  r
                                );
                              if (
                                ((i = r),
                                !1 !== a &&
                                  (function (e) {
                                    var r = (n[e] || "silent").toUpperCase();
                                    if (typeof window !== t && c) {
                                      try {
                                        return void (window.localStorage[c] =
                                          r);
                                      } catch (e) {}
                                      try {
                                        window.document.cookie =
                                          encodeURIComponent(c) + "=" + r + ";";
                                      } catch (e) {}
                                    }
                                  })(r),
                                o.call(s, r, e),
                                typeof console === t && r < s.levels.SILENT)
                              )
                                return "No console available for logging";
                            }),
                            (s.setDefaultLevel = function (e) {
                              p() || s.setLevel(e, !1);
                            }),
                            (s.enableAll = function (e) {
                              s.setLevel(s.levels.TRACE, e);
                            }),
                            (s.disableAll = function (e) {
                              s.setLevel(s.levels.SILENT, e);
                            });
                          var l = p();
                          null == l && (l = null == r ? "WARN" : r),
                            s.setLevel(l, !1);
                        }
                        var l = new p(),
                          u = {};
                        l.getLogger = function (e) {
                          if (
                            ("symbol" != typeof e && "string" != typeof e) ||
                            "" === e
                          )
                            throw new TypeError(
                              "You must supply a name when creating a logger."
                            );
                          var t = u[e];
                          return (
                            t ||
                              (t = u[e] =
                                new p(e, l.getLevel(), l.methodFactory)),
                            t
                          );
                        };
                        var h = typeof window !== t ? window.log : void 0;
                        return (
                          (l.noConflict = function () {
                            return (
                              typeof window !== t &&
                                window.log === l &&
                                (window.log = h),
                              l
                            );
                          }),
                          (l.getLoggers = function () {
                            return u;
                          }),
                          (l.default = l),
                          l
                        );
                      }),
                        void 0 === (a = n.call(t, r, t, e)) || (e.exports = a);
                    })();
                  },
                },
                t = {};
              function r(n) {
                var a = t[n];
                if (void 0 !== a) return a.exports;
                var i = (t[n] = { exports: {} });
                return e[n].call(i.exports, i, i.exports, r), i.exports;
              }
              (r.d = (e, t) => {
                for (var n in t)
                  r.o(t, n) &&
                    !r.o(e, n) &&
                    Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
              }),
                (r.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
                (r.r = (e) => {
                  "undefined" != typeof Symbol &&
                    Symbol.toStringTag &&
                    Object.defineProperty(e, Symbol.toStringTag, {
                      value: "Module",
                    }),
                    Object.defineProperty(e, "__esModule", { value: !0 });
                });
              var n = {};
              return (
                (() => {
                  "use strict";
                  r.r(n), r.d(n, { VideoSDKMetrics: () => ae });
                  const e = "inbound",
                    t = "outbound",
                    a = {
                      codec_id_in: "",
                      codec_in: {
                        mime_type: null,
                        clock_rate: null,
                        sdp_fmtp_line: null,
                      },
                      delta_jitter_ms_in: 0,
                      delta_rtt_ms_out: null,
                      percent_packets_lost_in: 0,
                      delta_packets_in: 0,
                      delta_packets_lost_in: 0,
                      total_packets_in: 0,
                      total_packets_lost_in: 0,
                      total_KBytes_in: 0,
                      delta_KBytes_in: 0,
                      delta_kbs_in: 0,
                      timestamp_in: null,
                      ssrc: "",
                      total_concealment_events: 0,
                      delta_concealment_events: 0,
                      total_inserted_samples_for_decelaration: 0,
                      delta_inserted_samples_for_decelaration: 0,
                      total_removed_samples_for_accelaration: 0,
                      delta_removed_samples_for_accelaration: 0,
                      direction: e,
                    },
                    i = {
                      codec_id_out: "",
                      codec_out: {
                        mime_type: null,
                        clock_rate: null,
                        sdp_fmtp_line: null,
                      },
                      delta_jitter_ms_out: 0,
                      delta_rtt_ms_out: null,
                      percent_packets_lost_out: 0,
                      delta_packets_out: 0,
                      delta_packets_lost_out: 0,
                      total_packets_out: 0,
                      total_packets_lost_out: 0,
                      total_KBytes_out: 0,
                      delta_KBytes_out: 0,
                      delta_kbs_out: 0,
                      timestamp_out: null,
                      ssrc: "",
                      direction: t,
                    },
                    s = {
                      codec_id_in: "",
                      size_in: { width: null, height: null, framerate: null },
                      codec_in: { mime_type: null, clock_rate: null },
                      delta_jitter_ms_in: 0,
                      percent_packets_lost_in: 0,
                      delta_packets_in: 0,
                      delta_packets_lost_in: 0,
                      total_packets_in: 0,
                      total_packets_lost_in: 0,
                      total_KBytes_in: 0,
                      delta_KBytes_in: 0,
                      delta_kbs_in: 0,
                      ssrc: "",
                      direction: e,
                    },
                    o = {
                      codec_id_out: "",
                      size_out: { width: null, height: null, framerate: null },
                      codec_out: { mime_type: null, clock_rate: null },
                      delta_jitter_ms_out: 0,
                      delta_rtt_ms_out: null,
                      percent_packets_lost_out: 0,
                      delta_packets_out: 0,
                      delta_packets_lost_out: 0,
                      total_packets_out: 0,
                      total_packets_lost_out: 0,
                      total_KBytes_out: 0,
                      delta_KBytes_out: 0,
                      delta_kbs_out: 0,
                      limitation_out: {
                        reason: null,
                        durations: null,
                        resolutionChanges: 0,
                      },
                      timestamp_out: null,
                      ssrc: "",
                      direction: t,
                    },
                    c = "inbound-rtp",
                    d = "bytesReceived",
                    p = "bytesSent",
                    l = "currentRoundTripTime",
                    u = "roundTripTime",
                    h = "fractionLost",
                    m = "frameHeight",
                    f = "frameWidth",
                    _ = "qualityLimitationReason",
                    g = "qualityLimitationDurations",
                    v = "qualityLimitationResolutionChanges",
                    y = "jitter",
                    b = "packetsLost",
                    S = "packetsReceived",
                    w = "packetsSent",
                    T = "responsesReceived",
                    E = "selected",
                    R = "totalRoundTripTime",
                    P = "roundTripTimeMeasurements",
                    C = "framesDecoded",
                    k = "framesEncoded",
                    O = "totalDecodeTime",
                    x = "totalEncodeTime",
                    D = "pliCount",
                    I = "nackCount",
                    L = "audio",
                    M = "video",
                    A = {
                      0: "ETHERNET",
                      2: "CELLULAR_5G",
                      3: "WIFI",
                      5: "CELLULAR_4G",
                      10: "CELLULAR",
                    },
                    N = "audio",
                    j = "video",
                    F = "network",
                    B = "data";
                  var U = r(43);
                  const Z = () => `${new Date().toISOString()} | metrics`,
                    H = (e, t, r) => `${e} | ${t} | ${r}`;
                  U.setDefaultLevel(U.levels.TRACE);
                  const z = (e, t, r) => {
                      r ? U.debug(H(Z(), e, t), r) : U.debug(H(Z(), e, t));
                    },
                    V = (e, t) => {
                      U.warn(H(Z(), e, t));
                    },
                    W = (e, t) => {
                      U.error(H(Z(), e, t));
                    },
                    G = "extractor   ",
                    q = (t, r, n) => {
                      if (!r) return null;
                      const c = {};
                      let d = r.audio[t];
                      d || (d = n === e ? { ...a } : { ...i }), (c.audio = d);
                      let p = r.video[t];
                      return (
                        p || (p = n === e ? { ...s } : { ...o }),
                        (c.video = p),
                        c
                      );
                    },
                    K = (e, t, r, n) => {
                      let a = !1;
                      const i = n[t].total_rtt_ms_out,
                        s = n[t].total_rtt_measure_out,
                        o = r ? r[t].total_rtt_ms_out : 0,
                        c = r ? r[t].total_rtt_measure_out : 0,
                        d = { rtt: null, totalRTT: i, totalRTTMeasurements: s };
                      if (e.timestamp === n[t].timestamp_out) return d;
                      if (!Object.prototype.hasOwnProperty.call(e, u)) return d;
                      if (
                        Object.prototype.hasOwnProperty.call(e, P) &&
                        ((a = !0),
                        0 === Number(e.roundTripTimeMeasurements) ||
                          Number(e.roundTripTimeMeasurements) - c === s)
                      )
                        return d;
                      const p = Number(1e3) * Number(e.roundTripTime);
                      let l = i + p,
                        h = s + 1;
                      return (
                        a &&
                          ((l = Number(1e3) * Number(e.totalRoundTripTime) - o),
                          (h = Number(e.roundTripTimeMeasurements) - c)),
                        { rtt: p, totalRTT: l, totalRTTMeasurements: h }
                      );
                    },
                    $ = (e, t, r) =>
                      e.timestamp === r[t].timestamp_out
                        ? null
                        : Object.prototype.hasOwnProperty.call(e, y)
                        ? Number(1e3) * (Number(e.jitter) || 0)
                        : null,
                    X = (e, t, r, n) => {
                      if (
                        !Object.prototype.hasOwnProperty.call(e, w) ||
                        !Object.prototype.hasOwnProperty.call(e, p)
                      )
                        return {
                          packetsSent: r[t].total_packets_out,
                          packetsLost: r[t].total_packets_lost_out,
                          bytesSent: r[t].total_KBytes_out,
                        };
                      const a =
                          Number(e.packetsSent) ||
                          0 - (n ? n[t].total_packets_out : 0),
                        i = a - r[t].total_packets_out,
                        s =
                          Number(e.bytesSent) / 1024 -
                          (n ? n[t].total_KBytes_out : 0),
                        o = s - r[t].total_KBytes_out,
                        c = e.timestamp || Date.now(),
                        d = n ? n.timestamp : null;
                      let l = r.timestamp;
                      !l && d && (l = d);
                      const u = l ? c - l : 0;
                      return {
                        packetsSent: a,
                        deltaPacketsSent: i,
                        KBytesSent: s,
                        deltaKBytesSent: o,
                        kbsSent: u > 0 ? ((0.008 * o * 1024) / u) * 1e3 : 0,
                      };
                    },
                    J = (e, t, r, n) => {
                      let a = r[t].total_packets_lost_out,
                        i = 0,
                        s = 0;
                      return (
                        Object.prototype.hasOwnProperty.call(e, b) &&
                          ((a =
                            Number(e.packetsLost) ||
                            0 - (n ? n[t].total_packets_lost_out : 0)),
                          (i = a - r[t].total_packets_lost_out)),
                        Object.prototype.hasOwnProperty.call(e, h) &&
                          (s = Number(100 * e.fractionLost)),
                        { packetsLost: a, deltaPacketsLost: i, fractionLost: s }
                      );
                    },
                    Q = (e, t, r, n) => {
                      if (
                        !Object.prototype.hasOwnProperty.call(e, S) ||
                        !Object.prototype.hasOwnProperty.call(e, b) ||
                        !Object.prototype.hasOwnProperty.call(e, d)
                      )
                        return {
                          percent_packets_lost: r[t].percent_packets_lost_in,
                          packetsReceived: r[t].total_packets_in,
                          packetsLost: r[t].total_packets_lost_in,
                          bytesReceived: r[t].total_KBytes_in,
                        };
                      const a =
                          (Number(e.packetsReceived) || 0) -
                          (n ? n[t].total_packets_in : 0),
                        i =
                          (Number(e.packetsLost) || 0) -
                          (n ? n[t].total_packets_lost_in : 0),
                        s = i - r[t].total_packets_lost_in,
                        o = a - r[t].total_packets_in,
                        c =
                          a !== r[t].total_packets_in ? (100 * s) / (s + o) : 0,
                        p =
                          Number(e.bytesReceived) / 1024 -
                          (n ? n[t].total_KBytes_in : 0),
                        l = p - r[t].total_KBytes_in,
                        u = e.timestamp || Date.now(),
                        h = n ? n.timestamp : null;
                      let m = r.timestamp;
                      !m && h && (m = h);
                      const f = m ? u - m : 0;
                      return {
                        percentPacketsLost: c,
                        packetsReceived: a,
                        deltaPacketsReceived: o,
                        packetsLost: i,
                        deltaPacketsLost: s,
                        KBytesReceived: p,
                        deltaKBytesReceived: l,
                        kbsReceived: f > 0 ? ((0.008 * l * 1024) / f) * 1e3 : 0,
                      };
                    },
                    Y = (e) =>
                      "relay" !== e.candidateType ? "" : e.relayProtocol || "",
                    ee = (e) =>
                      Object.prototype.hasOwnProperty.call(e, m) &&
                      Object.prototype.hasOwnProperty.call(e, f)
                        ? {
                            width: e.frameWidth || null,
                            height: e.frameHeight || null,
                            framerate: e.framesPerSecond,
                          }
                        : { width: null, height: null, framerate: null };
                  class te {
                    constructor(e, t) {
                      (this._callbacks = { onStatsCollected: null }),
                        (this._id = `collector-${t}`),
                        (this._moduleName = this._id),
                        (this._probeId = t),
                        (this._config = e),
                        (this._state = "idle"),
                        (this._statsReports = []);
                    }
                    registerCallback(e, t, r) {
                      e in this._callbacks
                        ? ((this._callbacks[e] = { callback: t, context: r }),
                          z(this._moduleName, `registered callback '${e}'`))
                        : W(
                            this._moduleName,
                            `can't register callback for '${e}' - not found`
                          );
                    }
                    unregisterCallback(e) {
                      e in this._callbacks
                        ? ((this._callbacks[e] = null),
                          delete this._callbacks[e],
                          z(this._moduleName, `unregistered callback '${e}'`))
                        : W(
                            this._moduleName,
                            `can't unregister callback for '${e}' - not found`
                          );
                    }
                    analyze(r, n) {
                      const d = ((e) => {
                        const t = {
                          name: "",
                          meetingId: "",
                          peerId: "",
                          timestamp: null,
                          count: 0,
                          audio: {},
                          video: {},
                          network: { infrastructure: 3 },
                          data: {
                            delta_kbs_bandwidth_in: 0,
                            delta_kbs_bandwidth_out: 0,
                            delta_rtt_connectivity_ms: null,
                            total_rtt_connectivity_ms: 0,
                          },
                        };
                        if (e) {
                          const t = {
                            ...e,
                            audio: {},
                            video: {},
                            data: { ...e.data },
                            network: { ...e.network },
                          };
                          return (
                            Object.keys(e.audio).forEach((r) => {
                              t.audio[r] = { ...e.audio[r] };
                            }),
                            Object.keys(e.video).forEach((r) => {
                              t.video[r] = { ...e.video[r] };
                            }),
                            t
                          );
                        }
                        return {
                          ...t,
                          audio: {},
                          video: {},
                          data: { ...t.data },
                          network: { ...t.network },
                        };
                      })(n);
                      (d.name = this._config.name),
                        (d.meetingId = this._config.meetingId),
                        (d.peerId = this._config.peerId),
                        (d.count = n ? n.count + 1 : 1);
                      let p = null;
                      return (
                        r.forEach((r) => {
                          !p && r.timestamp && (p = r.timestamp),
                            ((r, n, a, i) => {
                              if (!r) return [];
                              switch (r.type) {
                                case "candidate-pair":
                                  let s = !1;
                                  if (
                                    (r.nominated &&
                                      "succeeded" === r.state &&
                                      ((s = !0),
                                      z(
                                        G,
                                        `analyze() - got stats ${r.type} for ${a}`,
                                        r
                                      ),
                                      E in r && !r.selected && (s = !1)),
                                    s)
                                  ) {
                                    r.localCandidateId, r.remoteCandidateId;
                                    const e = ((e, t, r) => {
                                        const n =
                                            (e.bytesReceived || 0) / 1024 -
                                            (r ? r.data.total_KBytes_in : 0),
                                          a =
                                            (e.bytesSent || 0) / 1024 -
                                            (r ? r.data.total_KBytes_out : 0),
                                          i = e.timestamp || Date.now(),
                                          s = n - t.data.total_KBytes_in,
                                          o = a - t.data.total_KBytes_out,
                                          c = r ? r.timestamp : null;
                                        let d = t.timestamp;
                                        !d && c && (d = c);
                                        const p = d ? i - d : 0;
                                        return {
                                          total_KBytes_received: n,
                                          total_KBytes_sent: a,
                                          delta_KBytes_received: s,
                                          delta_KBytes_sent: o,
                                          kbs_speed_received:
                                            p > 0
                                              ? ((0.008 * s * 1024) / p) * 1e3
                                              : 0,
                                          kbs_speed_sent:
                                            p > 0
                                              ? ((0.008 * o * 1024) / p) * 1e3
                                              : 0,
                                        };
                                      })(r, n, i),
                                      t =
                                        (((e) => {
                                          e.availableIncomingBitrate,
                                            e.availableOutgoingBitrate;
                                        })(r),
                                        ((e, t, r, n) => {
                                          if (
                                            !Object.prototype.hasOwnProperty.call(
                                              e,
                                              l
                                            )
                                          )
                                            return {
                                              rtt: null,
                                              totalRTT:
                                                n.data
                                                  .total_rtt_connectivity_ms,
                                              totalRTTMeasurements:
                                                n.data
                                                  .total_rtt_connectivity_measure,
                                            };
                                          const a =
                                            Number(1e3) *
                                            Number(e.currentRoundTripTime);
                                          let i =
                                              n.data.total_rtt_connectivity_ms +
                                              a,
                                            s =
                                              n.data
                                                .total_rtt_connectivity_measure +
                                              1;
                                          return (
                                            Object.prototype.hasOwnProperty.call(
                                              e,
                                              R
                                            ) &&
                                              (i =
                                                Number(1e3) *
                                                  Number(e.totalRoundTripTime) -
                                                (r
                                                  ? r.data
                                                      .total_rtt_connectivity_ms
                                                  : 0)),
                                            Object.prototype.hasOwnProperty.call(
                                              e,
                                              T
                                            ) &&
                                              (s =
                                                Number(e.responsesReceived) -
                                                (r
                                                  ? r.data
                                                      .total_rtt_connectivity_measure
                                                  : 0)),
                                            {
                                              rtt: a,
                                              totalRTT: i,
                                              totalRTTMeasurements: s,
                                            }
                                          );
                                        })(r, 0, i, n));
                                    return [
                                      {
                                        type: B,
                                        value: {
                                          total_KBytes_in:
                                            e.total_KBytes_received,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          total_KBytes_out: e.total_KBytes_sent,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          delta_KBytes_in:
                                            e.delta_KBytes_received,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          delta_KBytes_out: e.delta_KBytes_sent,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          delta_kbs_in: e.kbs_speed_received,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          delta_kbs_out: e.kbs_speed_sent,
                                        },
                                      },
                                      {
                                        type: B,
                                        value: {
                                          delta_rtt_connectivity_ms: t.rtt,
                                        },
                                      },
                                    ];
                                  }
                                  break;
                                case "local-candidate":
                                  if (r.id === n.network.local_candidate_id)
                                    return [
                                      {
                                        type: F,
                                        value: {
                                          infrastructure: r.networkType,
                                        },
                                      },
                                      {
                                        type: F,
                                        value: {
                                          local_candidate_protocol:
                                            r.protocol || "",
                                        },
                                      },
                                      {
                                        type: F,
                                        value: {
                                          local_candidate_relay_protocol: Y(r),
                                        },
                                      },
                                    ];
                                  break;
                                case c: {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const t = r.ssrc,
                                    s = q(t, n, e);
                                  s && (s.timestamp = n.timestamp);
                                  const o = q(t, i, e);
                                  if (
                                    (o && (o.timestamp = i.timestamp),
                                    r.mediaType === L)
                                  ) {
                                    const e = Q(r, L, s, o),
                                      n = $(r, L, s),
                                      a = r.codecId || "",
                                      i = ((e, t, r, n) => {
                                        const a =
                                            Number(e.concealmentEvents) || 0,
                                          i =
                                            a -
                                            (r.audio.total_concealment_events ||
                                              0),
                                          s =
                                            Number(
                                              e.insertedSamplesForDeceleration
                                            ) || 0,
                                          o =
                                            s -
                                            (r.audio
                                              .total_inserted_samples_for_decelaration ||
                                              0),
                                          c =
                                            Number(
                                              e.removedSamplesForAcceleration
                                            ) || 0;
                                        return {
                                          totalConcealmentEvents: a,
                                          deltaConcealmentEvents: i,
                                          totalInsertedSamplesForDecelaration:
                                            s,
                                          deltaInsertedSamplesForDecelaration:
                                            o,
                                          totalRemovedSamplesForAccelaration: c,
                                          deltaRemovedSampleForAccelaration:
                                            c -
                                            (r.audio
                                              .total_removed_samples_for_accelaration ||
                                              0),
                                        };
                                      })(r, 0, s);
                                    return [
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: { codec_id_in: a },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_packets_in: e.packetsReceived,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_packets_in:
                                            e.deltaPacketsReceived,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_packets_lost_in: e.packetsLost,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_packets_lost_in:
                                            e.deltaPacketsLost,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          percent_packets_lost_in:
                                            e.percentPacketsLost,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_KBytes_in: e.KBytesReceived,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_KBytes_in:
                                            e.deltaKBytesReceived,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: { delta_kbs_in: e.kbsReceived },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: { delta_jitter_ms_in: n },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_concealment_events:
                                            i.totalConcealmentEvents,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_concealment_events:
                                            i.deltaConcealmentEvents,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_inserted_samples_for_decelaration:
                                            i.totalInsertedSamplesForDecelaration,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_inserted_samples_for_decelaration:
                                            i.deltaInsertedSamplesForDecelaration,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          total_removed_samples_for_accelaration:
                                            i.totalRemovedSamplesForAccelaration,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          delta_removed_samples_for_accelaration:
                                            i.deltaRemovedSampleForAccelaration,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: { track_in: r.trackId },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          track_id_in: r.trackIdentifier,
                                        },
                                      },
                                      {
                                        ssrc: t,
                                        type: N,
                                        value: {
                                          media_source_id: r.mediaSourceId,
                                        },
                                      },
                                    ];
                                  }
                                  if (r.mediaType === M) {
                                    ((e, t) => {
                                      if (
                                        !Object.prototype.hasOwnProperty.call(
                                          e,
                                          C
                                        ) ||
                                        !Object.prototype.hasOwnProperty.call(
                                          e,
                                          O
                                        )
                                      )
                                        return {
                                          delta_ms_decode_frame:
                                            t.video.delta_ms_decode_frame_in,
                                          frames_decoded:
                                            t.video.total_frames_decoded_in,
                                          total_decode_time:
                                            t.video.total_time_decoded_in,
                                        };
                                      e.framesDecoded,
                                        e.totalDecodeTime,
                                        t.video.total_time_decoded_in,
                                        t.video.total_frames_decoded_in;
                                    })(r, s);
                                    const e = Q(r, M, s, o),
                                      n = $(r, M, s),
                                      a =
                                        (r.decoderImplementation,
                                        r.codecId || null),
                                      i = ee(r);
                                    return (
                                      ((e, t, r) => {
                                        if (
                                          !Object.prototype.hasOwnProperty.call(
                                            e,
                                            D
                                          ) ||
                                          !Object.prototype.hasOwnProperty.call(
                                            e,
                                            I
                                          )
                                        )
                                          return {
                                            pliCount: t.total_pli_sent_in,
                                            nackCount: t.total_nack_sent_in,
                                            deltaPliCount: 0,
                                            deltaNackCount: 0,
                                          };
                                        e.pliCount,
                                          r && r.video.total_pli_sent_in,
                                          e.nackCount,
                                          r && r.video.total_nack_sent_in,
                                          t.video.total_pli_sent_in,
                                          t.video.total_nack_sent_in;
                                      })(r, s, o),
                                      [
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: { codec_id_in: a },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            total_packets_in: e.packetsReceived,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            delta_packets_in:
                                              e.deltaPacketsReceived,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            total_packets_lost_in:
                                              e.packetsLost,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            delta_packets_lost_in:
                                              e.deltaPacketsLost,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            percent_packets_lost_in:
                                              e.percentPacketsLost,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            total_KBytes_in: e.KBytesReceived,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            delta_KBytes_in:
                                              e.deltaKBytesReceived,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            delta_kbs_in: e.kbsReceived,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: { delta_jitter_ms_in: n },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: { size_in: i },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: { track_in: r.trackId },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            track_id_in: r.trackIdentifier,
                                          },
                                        },
                                        {
                                          ssrc: t,
                                          type: j,
                                          value: {
                                            media_source_id: r.mediaSourceId,
                                          },
                                        },
                                      ]
                                    );
                                  }
                                  break;
                                }
                                case "outbound-rtp": {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const e = r.ssrc,
                                    s = q(e, n, t);
                                  s && (s.timestamp = n.timestamp);
                                  const o = q(e, i, t);
                                  if (
                                    (o && (o.timestamp = i.timestamp),
                                    r.mediaType === L)
                                  ) {
                                    const t = r.codecId || null,
                                      n = X(r, L, s, o);
                                    return [
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { codec_id_out: t },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          total_packets_out: n.packetsSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          delta_packets_out: n.deltaPacketsSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          total_KBytes_out: n.KBytesSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          delta_KBytes_out: n.deltaKBytesSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { delta_kbs_out: n.kbsSent },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { track_out: r.trackId },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          track_id_out: r.trackIdentifier,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          media_source_id: r.mediaSourceId,
                                        },
                                      },
                                    ];
                                  }
                                  if (r.mediaType === M) {
                                    r.encoderImplementation;
                                    const t = r.codecId || null,
                                      n =
                                        (((e, t) => {
                                          if (
                                            !Object.prototype.hasOwnProperty.call(
                                              e,
                                              k
                                            ) ||
                                            !Object.prototype.hasOwnProperty.call(
                                              e,
                                              x
                                            )
                                          )
                                            return {
                                              delta_ms_encode_frame:
                                                t.video
                                                  .delta_ms_encode_frame_out,
                                              frames_encoded:
                                                t.video
                                                  .total_frames_encoded_out,
                                              total_encode_time:
                                                t.video.total_time_encoded_out,
                                            };
                                          e.framesEncoded,
                                            e.totalEncodeTime,
                                            t.video.total_time_encoded_out,
                                            t.video.total_frames_encoded_out;
                                        })(r, s),
                                        ee(r)),
                                      a = ((e) => {
                                        const t =
                                            Object.prototype.hasOwnProperty.call(
                                              e,
                                              _
                                            )
                                              ? e.qualityLimitationReason
                                              : null,
                                          r =
                                            Object.prototype.hasOwnProperty.call(
                                              e,
                                              v
                                            )
                                              ? e.qualityLimitationResolutionChanges
                                              : null,
                                          n =
                                            Object.prototype.hasOwnProperty.call(
                                              e,
                                              g
                                            )
                                              ? e.qualityLimitationDurations
                                              : null;
                                        return (
                                          n &&
                                            Object.keys(n).forEach((e) => {
                                              n[e] > 1e3 &&
                                                (n[e] = Number(n[e] / 1e3));
                                            }),
                                          {
                                            reason: t,
                                            durations: n,
                                            resolutionChanges: r,
                                          }
                                        );
                                      })(r),
                                      i =
                                        (((e, t, r) => {
                                          if (
                                            !Object.prototype.hasOwnProperty.call(
                                              e,
                                              D
                                            ) ||
                                            !Object.prototype.hasOwnProperty.call(
                                              e,
                                              I
                                            )
                                          )
                                            return {
                                              pliCount:
                                                t.total_pli_received_out,
                                              nackCount:
                                                t.total_nack_received_out,
                                              deltaPliCount: 0,
                                              deltaNackCount: 0,
                                            };
                                          e.pliCount,
                                            r && r.video.total_pli_received_out,
                                            e.nackCount,
                                            r &&
                                              r.video.total_nack_received_out,
                                            t.video.total_pli_received_out,
                                            t.video.total_nack_received_out;
                                        })(r, s, o),
                                        X(r, M, s, o));
                                    return [
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { codec_id_out: t },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          total_packets_out: i.packetsSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          delta_packets_out: i.deltaPacketsSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          total_KBytes_out: i.KBytesSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          delta_KBytes_out: i.deltaKBytesSent,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { delta_kbs_out: i.kbsSent },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { size_out: n },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { limitation_out: a },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { track_out: r.trackId },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          track_id_out: r.trackIdentifier,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          media_source_id: r.mediaSourceId,
                                        },
                                      },
                                    ];
                                  }
                                  break;
                                }
                                case "media-source": {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const e = [];
                                  return (
                                    Object.keys(n.audio).forEach((t) => {
                                      const i = n.audio[t];
                                      if (i.media_source_id === r.id) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        var s = r.trackIdentifier;
                                        e.push({
                                          ssrc: i.ssrc,
                                          type: N,
                                          value: { track_id_out: s },
                                        });
                                      }
                                    }),
                                    Object.keys(n.video).forEach((t) => {
                                      const i = n.video[t];
                                      if (i.media_source_id === r.id) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        var s = r.trackIdentifier;
                                        e.push({
                                          ssrc: i.ssrc,
                                          type: j,
                                          value: { track_id_out: s },
                                        });
                                      }
                                    }),
                                    e
                                  );
                                }
                                case "track": {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const e = [];
                                  return (
                                    Object.keys(n.audio).forEach((t) => {
                                      const i = n.audio[t];
                                      if (
                                        i.track_in === r.id ||
                                        i.track_out === r.id
                                      ) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        var s = r.trackIdentifier;
                                        r.id === i.track_in
                                          ? e.push({
                                              ssrc: i.ssrc,
                                              type: N,
                                              value: { track_id_in: s },
                                            })
                                          : e.push({
                                              ssrc: i.ssrc,
                                              type: N,
                                              value: { track_id_out: s },
                                            });
                                      }
                                    }),
                                    Object.keys(n.video).forEach((t) => {
                                      const i = n.video[t];
                                      if (
                                        i.track_in === r.id ||
                                        i.track_out === r.id
                                      ) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        var s = r.trackIdentifier;
                                        r.id === i.track_in
                                          ? e.push({
                                              ssrc: i.ssrc,
                                              type: j,
                                              value: { track_id_in: s },
                                            })
                                          : e.push({
                                              ssrc: i.ssrc,
                                              type: j,
                                              value: { track_id_out: s },
                                            });
                                      }
                                    }),
                                    e
                                  );
                                }
                                case "codec":
                                  const o = [];
                                  return (
                                    Object.keys(n.audio).forEach((e) => {
                                      const t = n.audio[e];
                                      if (
                                        t.codec_id_in === r.id ||
                                        t.codec_id_out === r.id
                                      ) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        const e = ((e) => ({
                                          channels: e.channels || null,
                                          clock_rate: e.clockRate || null,
                                          mime_type: e.mimeType || null,
                                          sdp_fmtp_line: e.sdpFmtpLine || null,
                                        }))(r);
                                        r.id === t.codec_id_in
                                          ? o.push({
                                              ssrc: t.ssrc,
                                              type: N,
                                              value: { codec_in: e },
                                            })
                                          : o.push({
                                              ssrc: t.ssrc,
                                              type: N,
                                              value: { codec_out: e },
                                            });
                                      }
                                    }),
                                    Object.keys(n.video).forEach((e) => {
                                      const t = n.video[e];
                                      if (
                                        t.codec_id_in === r.id ||
                                        t.codec_id_out === r.id
                                      ) {
                                        z(
                                          G,
                                          `analyze() - got stats ${r.type} for ${a}`,
                                          r
                                        );
                                        const e = ((e) => ({
                                          clock_rate: e.clockRate || null,
                                          mime_type: e.mimeType || null,
                                        }))(r);
                                        r.id === t.codec_id_in
                                          ? o.push({
                                              ssrc: t.ssrc,
                                              type: j,
                                              value: { codec_in: e },
                                            })
                                          : o.push({
                                              ssrc: t.ssrc,
                                              type: j,
                                              value: { codec_out: e },
                                            });
                                      }
                                    }),
                                    o
                                  );
                                case "remote-inbound-rtp": {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const e = r.ssrc,
                                    s = q(e, n, t),
                                    o = q(e, i, t);
                                  if (r.kind === L) {
                                    const t = K(r, L, o, s),
                                      n = $(r, L, s),
                                      a = J(r, L, s, o);
                                    return [
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { delta_rtt_ms_out: t.rtt },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { delta_jitter_ms_out: n },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { timestamp_out: r.timestamp },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          total_packets_lost_out: a.packetsLost,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          delta_packets_lost_out:
                                            a.deltaPacketsLost,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: {
                                          percent_packets_lost_out:
                                            a.fractionLost,
                                        },
                                      },
                                    ];
                                  }
                                  if (r.kind === M) {
                                    const t = K(r, M, o, s),
                                      n = $(r, M, s),
                                      a = J(r, M, s, o);
                                    return [
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { delta_rtt_ms_out: t.rtt },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { delta_jitter_ms_out: n },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: { timestamp_out: r.timestamp },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          total_packets_lost_out: a.packetsLost,
                                        },
                                      },
                                      {
                                        ssrc: e,
                                        type: j,
                                        value: {
                                          delta_packets_lost_out:
                                            a.deltaPacketsLost,
                                        },
                                      },
                                    ];
                                  }
                                  break;
                                }
                                case "remote-outbound-rtp": {
                                  z(
                                    G,
                                    `analyze() - got stats ${r.type} for ${a}`,
                                    r
                                  );
                                  const e = r.ssrc,
                                    s = q(e, n, t),
                                    o = q(e, i, t);
                                  if (r.kind === L) {
                                    const t = K(r, L, o, s);
                                    return [
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { delta_rtt_ms_in: t.rtt },
                                      },
                                      {
                                        ssrc: e,
                                        type: N,
                                        value: { timestamp_in: r.timestamp },
                                      },
                                    ];
                                  }
                                  break;
                                }
                              }
                              return [];
                            })(r, d, d.name, null).forEach((e) => {
                              if (e.value && e.type)
                                if (e.ssrc) {
                                  let p = d[e.type][e.ssrc];
                                  p ||
                                    ((t = e.type),
                                    (n = r.type),
                                    (p =
                                      t === L
                                        ? n === c
                                          ? { ...a }
                                          : { ...i }
                                        : n === c
                                        ? { ...s }
                                        : { ...o }),
                                    (p.ssrc = e.ssrc),
                                    (d[e.type][e.ssrc] = p)),
                                    Object.keys(e.value).forEach((t) => {
                                      void 0 !== e.value[t] &&
                                        (p[t] = e.value[t]);
                                    });
                                } else
                                  Object.keys(e.value).forEach((t) => {
                                    void 0 !== e.value[t] &&
                                      (d[e.type][t] = e.value[t]);
                                  });
                              var t, n;
                            });
                        }),
                        (d.timestamp = p),
                        d
                      );
                    }
                    async collectStats() {
                      try {
                        const e =
                            await this._config.monitoringObject.getStats(),
                          t = this.analyze(
                            e,
                            this._statsReports.slice().pop() || null
                          );
                        return (
                          this._statsReports.push(t),
                          this.fireOnStatsCollected(t),
                          e
                        );
                      } catch (e) {
                        return W(this._moduleName, `got error ${e}`), null;
                      }
                    }
                    fireOnStatsCollected(r) {
                      if (this._callbacks.onStatsCollected) {
                        const n = {};
                        (n.meetingId = r.meetingId),
                          (n.peerId = r.peerId),
                          (n.name = r.name),
                          (n.audio = []),
                          (n.video = []),
                          Object.values(r.audio).forEach((a) => {
                            const i = {};
                            (i.network = A[r.network.infrastructure]),
                              (i.timestamp = r.timestamp),
                              a.direction == e
                                ? ((i.codec = a.codec_in.mime_type),
                                  (i.jitter = a.delta_jitter_ms_in),
                                  (i.bitrate = a.delta_kbs_in),
                                  (i.packetsLost = a.delta_packets_lost_in),
                                  (i.rtt =
                                    r.data.delta_rtt_connectivity_ms || 0),
                                  (i.totalPackets = a.delta_packets_in),
                                  (i.concealmentEvents =
                                    a.delta_concealment_events),
                                  (i.removedSampleForAccelaration =
                                    a.delta_removed_samples_for_accelaration),
                                  (i.insertedSamplesForDecelaration =
                                    a.delta_inserted_samples_for_decelaration),
                                  (i.trackId = a.track_id_in))
                                : a.direction == t &&
                                  ((i.codec = a.codec_out.mime_type),
                                  (i.jitter = a.delta_jitter_ms_out),
                                  (i.bitrate = a.delta_kbs_out),
                                  (i.packetsLost = a.delta_packets_lost_out),
                                  (i.rtt =
                                    r.data.delta_rtt_connectivity_ms || 0),
                                  (i.totalPackets = a.delta_packets_out),
                                  (i.trackId = a.track_id_out)),
                              n.audio.push(i);
                          }),
                          Object.values(r.video).forEach((a) => {
                            const i = {};
                            (i.network = A[r.network.infrastructure]),
                              (i.timestamp = r.timestamp),
                              a.direction == e
                                ? ((i.codec = a.codec_in.mime_type),
                                  (i.jitter = a.delta_jitter_ms_in),
                                  (i.bitrate = a.delta_kbs_in),
                                  (i.packetsLost = a.delta_packets_lost_in),
                                  (i.rtt =
                                    r.data.delta_rtt_connectivity_ms || 0),
                                  (i.totalPackets = a.delta_packets_in),
                                  (i.size = a.size_in),
                                  (i.trackId = a.track_id_in))
                                : a.direction == t &&
                                  ((i.codec = a.codec_out.mime_type),
                                  (i.jitter = a.delta_jitter_ms_out),
                                  (i.bitrate = a.delta_kbs_out),
                                  (i.packetsLost = a.delta_packets_lost_out),
                                  (i.rtt =
                                    r.data.delta_rtt_connectivity_ms || 0),
                                  (i.totalPackets = a.delta_packets_out),
                                  (i.limitation = a.limitation_out),
                                  (i.size = a.size_out),
                                  (i.trackId = a.track_id_out)),
                              n.video.push(i);
                          }),
                          this._callbacks.onStatsCollected.callback(n);
                      }
                    }
                  }
                  class re {
                    constructor(e) {
                      (this._id =
                        e.name && e.name.substr(0, 12).padEnd(12, " ")),
                        (this._moduleName = this._id),
                        (this._config = e),
                        (this._collector = new te(this._config, this._id));
                    }
                    get id() {
                      return this._id;
                    }
                    start() {
                      this._collectorIntervalId
                        ? V("Probe already started.")
                        : (z(this._moduleName, "Probe Started"),
                          (this._collectorIntervalId = setInterval(() => {
                            z(this._moduleName, "Collector collecting stats"),
                              this._collector.collectStats();
                          }, this._config.refreshEvery)));
                    }
                    stop() {
                      this._collectorIntervalId
                        ? (clearInterval(this._collectorIntervalId),
                          z(this._moduleName, "Probe Stopped"))
                        : V("Probe not running, Please start first.");
                    }
                    set onStatsCollected(e) {
                      e
                        ? this._collector.registerCallback(
                            "onStatsCollected",
                            e
                          )
                        : this._collector.unregisterCallback(
                            "onStatsCollected"
                          );
                    }
                  }
                  const ne = {
                    refreshEvery: 2e3,
                    startAfter: 0,
                    stopAfter: -1,
                    verbose: !1,
                    peerId: "peerId",
                    meetingId: "meetingId",
                    name: "name",
                  };
                  class ae {
                    constructor(e) {
                      var t;
                      (this._config = { defaultConfig: ne, ...e }),
                        (this._probes = []),
                        (t = this._config.verbose || !1),
                        U.setLevel(t ? U.levels.TRACE : U.levels.INFO),
                        z("VideoSDKMetrics", "VideoSDKMetrics initialized");
                    }
                    get probes() {
                      return this._probes;
                    }
                    addNewProbe(e, t) {
                      if (!e) throw new Error("undefined monitoring object");
                      const r = { monitoringObject: e, ...t, ...this._config },
                        n = new re(r);
                      return this._probes.push(n), n;
                    }
                    removeExistingProbe(e) {
                      if (!e) throw new Error("undefined probe");
                      e.stop(),
                        (this._probes = this._probes.filter(
                          (t) => e.id !== t.id
                        ));
                    }
                    startAllProbes() {
                      this._probes.forEach((e, t) => {
                        e.start();
                      });
                    }
                    stopAllProbes() {
                      this._probes.forEach((e) => e.stop());
                    }
                  }
                })(),
                n
              );
            })());
        },
        7329: function (e, t, r) {
          "use strict";
          var n =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Logger = void 0);
          const a = n(r(2035)),
            i = "awaitqueue";
          t.Logger = class {
            constructor(e) {
              e
                ? ((this._debug = (0, a.default)(`awaitqueue:${e}`)),
                  (this._warn = (0, a.default)(`awaitqueue:WARN:${e}`)),
                  (this._error = (0, a.default)(`awaitqueue:ERROR:${e}`)))
                : ((this._debug = (0, a.default)(i)),
                  (this._warn = (0, a.default)("awaitqueue:WARN")),
                  (this._error = (0, a.default)("awaitqueue:ERROR"))),
                (this._debug.log = console.info.bind(console)),
                (this._warn.log = console.warn.bind(console)),
                (this._error.log = console.error.bind(console));
            }
            get debug() {
              return this._debug;
            }
            get warn() {
              return this._warn;
            }
            get error() {
              return this._error;
            }
          };
        },
        2186: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.AwaitQueue =
              t.AwaitQueueRemovedTaskError =
              t.AwaitQueueStoppedError =
                void 0);
          const n = new (r(7329).Logger)();
          class a extends Error {
            constructor(e) {
              super(null != e ? e : "AwaitQueue stopped"),
                (this.name = "AwaitQueueStoppedError"),
                "function" == typeof Error.captureStackTrace &&
                  Error.captureStackTrace(this, a);
            }
          }
          t.AwaitQueueStoppedError = a;
          class i extends Error {
            constructor(e) {
              super(null != e ? e : "AwaitQueue task removed"),
                (this.name = "AwaitQueueRemovedTaskError"),
                "function" == typeof Error.captureStackTrace &&
                  Error.captureStackTrace(this, i);
            }
          }
          t.AwaitQueueRemovedTaskError = i;
          t.AwaitQueue = class {
            constructor() {
              (this.pendingTasks = new Map()),
                (this.nextTaskId = 0),
                (this.stopping = !1);
            }
            get size() {
              return this.pendingTasks.size;
            }
            async push(e, t) {
              if (
                ((t = null != t ? t : e.name),
                n.debug(`push() [name:${t}]`),
                "function" != typeof e)
              )
                throw new TypeError("given task is not a function");
              if (t)
                try {
                  Object.defineProperty(e, "name", { value: t });
                } catch (e) {}
              return new Promise((r, a) => {
                const i = {
                  id: this.nextTaskId++,
                  task: e,
                  name: t,
                  enqueuedAt: Date.now(),
                  executedAt: void 0,
                  completed: !1,
                  resolve: (e) => {
                    if (i.completed) return;
                    (i.completed = !0),
                      this.pendingTasks.delete(i.id),
                      n.debug(`resolving task [name:${i.name}]`),
                      r(e);
                    const [t] = this.pendingTasks.values();
                    t && !t.executedAt && this.execute(t);
                  },
                  reject: (e) => {
                    if (
                      !i.completed &&
                      ((i.completed = !0),
                      this.pendingTasks.delete(i.id),
                      n.debug(`rejecting task [name:${i.name}]: %s`, String(e)),
                      a(e),
                      !this.stopping)
                    ) {
                      const [e] = this.pendingTasks.values();
                      e && !e.executedAt && this.execute(e);
                    }
                  },
                };
                this.pendingTasks.set(i.id, i),
                  1 === this.pendingTasks.size && this.execute(i);
              });
            }
            stop() {
              n.debug("stop()"), (this.stopping = !0);
              for (const e of this.pendingTasks.values())
                n.debug(`stop() | stopping task [name:${e.name}]`),
                  e.reject(new a());
              this.stopping = !1;
            }
            remove(e) {
              n.debug(`remove() [taskIdx:${e}]`);
              const t = Array.from(this.pendingTasks.values())[e];
              t
                ? t.reject(new i())
                : n.debug(`stop() | no task with given idx [taskIdx:${e}]`);
            }
            dump() {
              const e = Date.now();
              let t = 0;
              return Array.from(this.pendingTasks.values()).map((r) => ({
                idx: t++,
                task: r.task,
                name: r.name,
                enqueuedTime: r.executedAt
                  ? r.executedAt - r.enqueuedAt
                  : e - r.enqueuedAt,
                executionTime: r.executedAt ? e - r.executedAt : 0,
              }));
            }
            async execute(e) {
              if ((n.debug(`execute() [name:${e.name}]`), e.executedAt))
                throw new Error("task already being executed");
              e.executedAt = Date.now();
              try {
                const t = await e.task();
                e.resolve(t);
              } catch (t) {
                e.reject(t);
              }
            }
          };
        },
        2035: (e, t, r) => {
          (t.formatArgs = function (t) {
            if (
              ((t[0] =
                (this.useColors ? "%c" : "") +
                this.namespace +
                (this.useColors ? " %c" : " ") +
                t[0] +
                (this.useColors ? "%c " : " ") +
                "+" +
                e.exports.humanize(this.diff)),
              !this.useColors)
            )
              return;
            const r = "color: " + this.color;
            t.splice(1, 0, r, "color: inherit");
            let n = 0,
              a = 0;
            t[0].replace(/%[a-zA-Z%]/g, (e) => {
              "%%" !== e && (n++, "%c" === e && (a = n));
            }),
              t.splice(a, 0, r);
          }),
            (t.save = function (e) {
              try {
                e
                  ? t.storage.setItem("debug", e)
                  : t.storage.removeItem("debug");
              } catch (e) {}
            }),
            (t.load = function () {
              let e;
              try {
                e = t.storage.getItem("debug");
              } catch (e) {}
              !e &&
                "undefined" != typeof process &&
                "env" in process &&
                (e = process.env.DEBUG);
              return e;
            }),
            (t.useColors = function () {
              if (
                "undefined" != typeof window &&
                window.process &&
                ("renderer" === window.process.type || window.process.__nwjs)
              )
                return !0;
              if (
                "undefined" != typeof navigator &&
                navigator.userAgent &&
                navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)
              )
                return !1;
              return (
                ("undefined" != typeof document &&
                  document.documentElement &&
                  document.documentElement.style &&
                  document.documentElement.style.WebkitAppearance) ||
                ("undefined" != typeof window &&
                  window.console &&
                  (window.console.firebug ||
                    (window.console.exception && window.console.table))) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
                  parseInt(RegExp.$1, 10) >= 31) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
              );
            }),
            (t.storage = (function () {
              try {
                return localStorage;
              } catch (e) {}
            })()),
            (t.destroy = (() => {
              let e = !1;
              return () => {
                e ||
                  ((e = !0),
                  console.warn(
                    "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                  ));
              };
            })()),
            (t.colors = [
              "#0000CC",
              "#0000FF",
              "#0033CC",
              "#0033FF",
              "#0066CC",
              "#0066FF",
              "#0099CC",
              "#0099FF",
              "#00CC00",
              "#00CC33",
              "#00CC66",
              "#00CC99",
              "#00CCCC",
              "#00CCFF",
              "#3300CC",
              "#3300FF",
              "#3333CC",
              "#3333FF",
              "#3366CC",
              "#3366FF",
              "#3399CC",
              "#3399FF",
              "#33CC00",
              "#33CC33",
              "#33CC66",
              "#33CC99",
              "#33CCCC",
              "#33CCFF",
              "#6600CC",
              "#6600FF",
              "#6633CC",
              "#6633FF",
              "#66CC00",
              "#66CC33",
              "#9900CC",
              "#9900FF",
              "#9933CC",
              "#9933FF",
              "#99CC00",
              "#99CC33",
              "#CC0000",
              "#CC0033",
              "#CC0066",
              "#CC0099",
              "#CC00CC",
              "#CC00FF",
              "#CC3300",
              "#CC3333",
              "#CC3366",
              "#CC3399",
              "#CC33CC",
              "#CC33FF",
              "#CC6600",
              "#CC6633",
              "#CC9900",
              "#CC9933",
              "#CCCC00",
              "#CCCC33",
              "#FF0000",
              "#FF0033",
              "#FF0066",
              "#FF0099",
              "#FF00CC",
              "#FF00FF",
              "#FF3300",
              "#FF3333",
              "#FF3366",
              "#FF3399",
              "#FF33CC",
              "#FF33FF",
              "#FF6600",
              "#FF6633",
              "#FF9900",
              "#FF9933",
              "#FFCC00",
              "#FFCC33",
            ]),
            (t.log = console.debug || console.log || (() => {})),
            (e.exports = r(1811)(t));
          const { formatters: n } = e.exports;
          n.j = function (e) {
            try {
              return JSON.stringify(e);
            } catch (e) {
              return "[UnexpectedJSONParseError]: " + e.message;
            }
          };
        },
        1811: (e, t, r) => {
          e.exports = function (e) {
            function t(e) {
              let r,
                a,
                i,
                s = null;
              function o(...e) {
                if (!o.enabled) return;
                const n = o,
                  a = Number(new Date()),
                  i = a - (r || a);
                (n.diff = i),
                  (n.prev = r),
                  (n.curr = a),
                  (r = a),
                  (e[0] = t.coerce(e[0])),
                  "string" != typeof e[0] && e.unshift("%O");
                let s = 0;
                (e[0] = e[0].replace(/%([a-zA-Z%])/g, (r, a) => {
                  if ("%%" === r) return "%";
                  s++;
                  const i = t.formatters[a];
                  if ("function" == typeof i) {
                    const t = e[s];
                    (r = i.call(n, t)), e.splice(s, 1), s--;
                  }
                  return r;
                })),
                  t.formatArgs.call(n, e);
                (n.log || t.log).apply(n, e);
              }
              return (
                (o.namespace = e),
                (o.useColors = t.useColors()),
                (o.color = t.selectColor(e)),
                (o.extend = n),
                (o.destroy = t.destroy),
                Object.defineProperty(o, "enabled", {
                  enumerable: !0,
                  configurable: !1,
                  get: () =>
                    null !== s
                      ? s
                      : (a !== t.namespaces &&
                          ((a = t.namespaces), (i = t.enabled(e))),
                        i),
                  set: (e) => {
                    s = e;
                  },
                }),
                "function" == typeof t.init && t.init(o),
                o
              );
            }
            function n(e, r) {
              const n = t(this.namespace + (void 0 === r ? ":" : r) + e);
              return (n.log = this.log), n;
            }
            function a(e) {
              return e
                .toString()
                .substring(2, e.toString().length - 2)
                .replace(/\.\*\?$/, "*");
            }
            return (
              (t.debug = t),
              (t.default = t),
              (t.coerce = function (e) {
                if (e instanceof Error) return e.stack || e.message;
                return e;
              }),
              (t.disable = function () {
                const e = [
                  ...t.names.map(a),
                  ...t.skips.map(a).map((e) => "-" + e),
                ].join(",");
                return t.enable(""), e;
              }),
              (t.enable = function (e) {
                let r;
                t.save(e), (t.namespaces = e), (t.names = []), (t.skips = []);
                const n = ("string" == typeof e ? e : "").split(/[\s,]+/),
                  a = n.length;
                for (r = 0; r < a; r++)
                  n[r] &&
                    ("-" === (e = n[r].replace(/\*/g, ".*?"))[0]
                      ? t.skips.push(new RegExp("^" + e.slice(1) + "$"))
                      : t.names.push(new RegExp("^" + e + "$")));
              }),
              (t.enabled = function (e) {
                if ("*" === e[e.length - 1]) return !0;
                let r, n;
                for (r = 0, n = t.skips.length; r < n; r++)
                  if (t.skips[r].test(e)) return !1;
                for (r = 0, n = t.names.length; r < n; r++)
                  if (t.names[r].test(e)) return !0;
                return !1;
              }),
              (t.humanize = r(7824)),
              (t.destroy = function () {
                console.warn(
                  "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                );
              }),
              Object.keys(e).forEach((r) => {
                t[r] = e[r];
              }),
              (t.names = []),
              (t.skips = []),
              (t.formatters = {}),
              (t.selectColor = function (e) {
                let r = 0;
                for (let t = 0; t < e.length; t++)
                  (r = (r << 5) - r + e.charCodeAt(t)), (r |= 0);
                return t.colors[Math.abs(r) % t.colors.length];
              }),
              t.enable(t.load()),
              t
            );
          };
        },
        8962: (e, t, r) => {
          "use strict";
          r.d(t, { v: () => n });
          var n = {
            networkPriorities: {
              audio: "high",
              dominatingVideo: "high",
              otherVideos: "medium",
              screenShare: "medium",
            },
            aspectRatios: {
              fourThree: { label: "fourThree", value: 1.333 },
              oneSixNine: { label: "oneSixNine", value: 1.777 },
            },
            audioProfiles: {
              speech_low_quality: {
                sampleRate: 16e3,
                bitRate: 24,
                sampleSize: 16,
                stereo: !1,
                dtx: !0,
                fec: !0,
                maxPlaybackRate: 16e3,
                packetTime: 20,
                autoGainControl: !0,
                echoCancellation: !0,
                noiseSuppression: !0,
                channelCount: 1,
              },
              speech_standard: {
                sampleRate: 32e3,
                bitRate: 24,
                sampleSize: 24,
                stereo: !1,
                dtx: !0,
                fec: !0,
                maxPlaybackRate: 32e3,
                packetTime: 30,
                autoGainControl: !0,
                echoCancellation: !0,
                noiseSuppression: !0,
                channelCount: 1,
              },
              music_standard: {
                sampleRate: 48e3,
                bitRate: 40,
                sampleSize: 32,
                stereo: !1,
                dtx: !1,
                fec: !0,
                maxPlaybackRate: 48e3,
                packetTime: 40,
                autoGainControl: !1,
                echoCancellation: !1,
                noiseSuppression: !1,
                channelCount: 1,
              },
              standard_stereo: {
                sampleRate: 48e3,
                sampleSize: 32,
                bitRate: 64,
                stereo: !0,
                dtx: !1,
                fec: !0,
                maxPlaybackRate: 48e3,
                packetTime: 40,
                autoGainControl: !1,
                echoCancellation: !1,
                noiseSuppression: !1,
                channelCount: 2,
              },
              high_quality: {
                sampleRate: 48e3,
                sampleSize: 32,
                bitRate: 128,
                stereo: !1,
                dtx: !1,
                fec: !0,
                maxPlaybackRate: 48e3,
                packetTime: 60,
                autoGainControl: !1,
                echoCancellation: !1,
                noiseSuppression: !1,
                channelCount: 1,
              },
              high_quality_stereo: {
                sampleRate: 48e3,
                sampleSize: 32,
                bitRate: 192,
                stereo: !0,
                dtx: !1,
                fec: !0,
                maxPlaybackRate: 48e3,
                packetTime: 60,
                autoGainControl: !1,
                echoCancellation: !1,
                noiseSuppression: !1,
                channelCount: 2,
              },
            },
            videoProfiles: {
              h90p_w160p: {
                width: 160,
                height: 90,
                bitRate: 6e4,
                frameRate: 15,
                aspectRatio: "oneSixNine",
              },
              h180p_w320p: {
                width: 320,
                height: 180,
                bitRate: 12e4,
                frameRate: 15,
                aspectRatio: "oneSixNine",
              },
              h216p_w384p: {
                width: 384,
                height: 216,
                bitRate: 18e4,
                frameRate: 15,
                aspectRatio: "oneSixNine",
              },
              h360p_w640p: {
                width: 640,
                height: 360,
                bitRate: 3e5,
                frameRate: 20,
                aspectRatio: "oneSixNine",
              },
              h540p_w960p: {
                width: 960,
                height: 540,
                bitRate: 6e5,
                frameRate: 25,
                aspectRatio: "oneSixNine",
              },
              h720p_w1280p: {
                width: 1280,
                height: 720,
                bitRate: 2e6,
                frameRate: 30,
                aspectRatio: "oneSixNine",
              },
              h1080p_w1920p: {
                width: 1920,
                height: 1080,
                bitRate: 3e6,
                frameRate: 30,
                aspectRatio: "oneSixNine",
              },
              h1440p_w2560p: {
                width: 2560,
                height: 1440,
                bitRate: 5e6,
                frameRate: 30,
                aspectRatio: "oneSixNine",
              },
              h2160p_w3840p: {
                width: 3840,
                height: 2160,
                bitRate: 8e6,
                frameRate: 30,
                aspectRatio: "oneSixNine",
              },
              h120p_w160p: {
                width: 160,
                height: 120,
                bitRate: 8e4,
                frameRate: 15,
                aspectRatio: "fourThree",
              },
              h180p_w240p: {
                width: 240,
                height: 180,
                bitRate: 1e5,
                frameRate: 15,
                aspectRatio: "fourThree",
              },
              h240p_w320p: {
                width: 320,
                height: 240,
                bitRate: 15e4,
                frameRate: 15,
                aspectRatio: "fourThree",
              },
              h360p_w480p: {
                width: 480,
                height: 360,
                bitRate: 225e3,
                frameRate: 20,
                aspectRatio: "fourThree",
              },
              h480p_w640p: {
                width: 640,
                height: 480,
                bitRate: 3e5,
                frameRate: 25,
                aspectRatio: "fourThree",
              },
              h540p_w720p: {
                width: 720,
                height: 540,
                bitRate: 45e4,
                frameRate: 30,
                aspectRatio: "fourThree",
              },
              h720p_w960p: {
                width: 960,
                height: 720,
                bitRate: 15e5,
                frameRate: 30,
                aspectRatio: "fourThree",
              },
              h1080p_w1440p: {
                width: 1440,
                height: 1080,
                bitRate: 25e5,
                frameRate: 30,
                aspectRatio: "fourThree",
              },
              h1440p_w1920p: {
                width: 1920,
                height: 1440,
                bitRate: 35e5,
                frameRate: 30,
                aspectRatio: "fourThree",
              },
            },
            screenShareProfiles: {
              h360p_30fps: {
                width: 640,
                height: 360,
                bitRate: 2e5,
                frameRate: 3,
              },
              h720p_5fps: {
                width: 1280,
                height: 720,
                bitRate: 4e5,
                frameRate: 5,
              },
              h720p_15fps: {
                width: 1280,
                height: 720,
                bitRate: 1e6,
                frameRate: 15,
              },
              h1080p_15fps: {
                width: 1920,
                height: 1080,
                bitRate: 15e5,
                frameRate: 15,
              },
              h1080p_30fps: {
                width: 1920,
                height: 1080,
                bitRate: 1e6,
                frameRate: 15,
              },
            },
            simulcastProfiles: {
              3840: [
                { scaleResolutionDownBy: 12, maxBitRate: 15e4 },
                { scaleResolutionDownBy: 6, maxBitRate: 5e5 },
                { scaleResolutionDownBy: 1, maxBitRate: 1e7 },
              ],
              1920: [
                { scaleResolutionDownBy: 6, maxBitRate: 15e4 },
                { scaleResolutionDownBy: 3, maxBitRate: 5e5 },
                { scaleResolutionDownBy: 1, maxBitRate: 35e5 },
              ],
              1280: [
                { scaleResolutionDownBy: 4, maxBitRate: 15e4 },
                { scaleResolutionDownBy: 2, maxBitRate: 5e5 },
                { scaleResolutionDownBy: 1, maxBitRate: 12e5 },
              ],
              640: [
                { scaleResolutionDownBy: 2, maxBitRate: 15e4 },
                { scaleResolutionDownBy: 1, maxBitRate: 5e5 },
              ],
              320: [{ scaleResolutionDownBy: 1, maxBitRate: 15e4 }],
            },
            requestTimeout: 2e4,
            requestRetries: 3,
            transportOptions: { tcp: !0 },
            videoKSVCEncodings: [{ scalabilityMode: "S3T3_KEY" }],
            videoSVCEncodings: [{ scalabilityMode: "S3T3", dtx: !0 }],
          };
        },
        6900: (e, t, r) => {
          "use strict";
          r.d(t, { H: () => a, R: () => n });
          var n = {
              INVALID_API_KEY: 4001,
              INVALID_TOKEN: 4002,
              INVALID_MEETING_ID: 4003,
              INVALID_PARTICIPANT_ID: 4004,
              DUPLICATE_PARTICIPANT: 4005,
              ACCOUNT_DEACTIVATED: 4006,
              ACCOUNT_DISCONTINUED: 4007,
              INVALID_PERMISSIONS: 4008,
              MAX_PARTCIPANT_REACHED: 4009,
              MAX_SPEAKER_REACHED: 4010,
              START_RECORDING_FAILED: 4011,
              STOP_RECORDING_FAILED: 4012,
              START_LIVESTREAM_FAILED: 4013,
              STOP_LIVESTREAM_FAILED: 4014,
              INVALID_LIVESTREAM_CONFIG: 4015,
              START_HLS_FAILED: 4016,
              STOP_HLS_FAILED: 4017,
              RECORDING_FAILED: 5001,
              LIVESTREAM_FAILED: 5002,
              HLS_FAILED: 5003,
              ERROR_GET_VIDEO_MEDIA: 3011,
              ERROR_GET_AUDIO_MEDIA: 3012,
              ERROR_GET_DISPLAY_MEDIA: 3013,
              ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED: 3014,
              ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED: 3015,
              ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED: 3016,
            },
            a = {
              ERROR_GET_VIDEO_MEDIA: {
                code: 3011,
                message: "Your browser/Device does not support Video.",
              },
              ERROR_GET_AUDIO_MEDIA: {
                code: 3012,
                message: "Your browser/Device does not support Audio.",
              },
              ERROR_GET_DISPLAY_MEDIA: {
                code: 3013,
                message: "Your browser/Device does not support Screen Sharing.",
              },
              ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED: {
                code: 3014,
                message: "Video capture permission denied.",
              },
              ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED: {
                code: 3015,
                message: "Audio capture permission denied.",
              },
              ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED: {
                code: 3016,
                message: "Screen sharing permission denied.",
              },
            };
        },
        6380: (e, t, r) => {
          "use strict";
          r.d(t, { o: () => n });
          var n = {
            HLS_STARTING: "HLS_STARTING",
            HLS_STARTED: "HLS_STARTED",
            HLS_PLAYABLE: "HLS_PLAYABLE",
            HLS_STOPPING: "HLS_STOPPING",
            HLS_STOPPED: "HLS_STOPPED",
          };
        },
        3430: (e, t, r) => {
          "use strict";
          r.d(t, { S: () => n });
          var n = { CONFERENCE: "CONFERENCE", VIEWER: "VIEWER" };
        },
        710: (e, t, r) => {
          "use strict";
          r.r(t), r.d(t, { VideoSDK: () => Tt, ZujoSDK: () => Et });
          var n = r(5861),
            a = r(5671),
            i = r(3144),
            s = r(4942),
            o = r(7757),
            c = r.n(o),
            d = r(1206),
            p = r.n(d);
          function l(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function u(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? l(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : l(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          function h(e) {
            return (
              "Minified Redux error #" +
              e +
              "; visit https://redux.js.org/Errors?code=" +
              e +
              " for the full message or use the non-minified dev environment for full errors. "
            );
          }
          var m =
              ("function" == typeof Symbol && Symbol.observable) ||
              "@@observable",
            f = function () {
              return Math.random()
                .toString(36)
                .substring(7)
                .split("")
                .join(".");
            },
            _ = {
              INIT: "@@redux/INIT" + f(),
              REPLACE: "@@redux/REPLACE" + f(),
              PROBE_UNKNOWN_ACTION: function () {
                return "@@redux/PROBE_UNKNOWN_ACTION" + f();
              },
            };
          function g(e) {
            if ("object" != typeof e || null === e) return !1;
            for (var t = e; null !== Object.getPrototypeOf(t); )
              t = Object.getPrototypeOf(t);
            return Object.getPrototypeOf(e) === t;
          }
          function v(e, t, r) {
            var n;
            if (
              ("function" == typeof t && "function" == typeof r) ||
              ("function" == typeof r && "function" == typeof arguments[3])
            )
              throw new Error(h(0));
            if (
              ("function" == typeof t &&
                void 0 === r &&
                ((r = t), (t = void 0)),
              void 0 !== r)
            ) {
              if ("function" != typeof r) throw new Error(h(1));
              return r(v)(e, t);
            }
            if ("function" != typeof e) throw new Error(h(2));
            var a = e,
              i = t,
              s = [],
              o = s,
              c = !1;
            function d() {
              o === s && (o = s.slice());
            }
            function p() {
              if (c) throw new Error(h(3));
              return i;
            }
            function l(e) {
              if ("function" != typeof e) throw new Error(h(4));
              if (c) throw new Error(h(5));
              var t = !0;
              return (
                d(),
                o.push(e),
                function () {
                  if (t) {
                    if (c) throw new Error(h(6));
                    (t = !1), d();
                    var r = o.indexOf(e);
                    o.splice(r, 1), (s = null);
                  }
                }
              );
            }
            function u(e) {
              if (!g(e)) throw new Error(h(7));
              if (void 0 === e.type) throw new Error(h(8));
              if (c) throw new Error(h(9));
              try {
                (c = !0), (i = a(i, e));
              } finally {
                c = !1;
              }
              for (var t = (s = o), r = 0; r < t.length; r++) {
                (0, t[r])();
              }
              return e;
            }
            function f(e) {
              if ("function" != typeof e) throw new Error(h(10));
              (a = e), u({ type: _.REPLACE });
            }
            function y() {
              var e,
                t = l;
              return (
                ((e = {
                  subscribe: function (e) {
                    if ("object" != typeof e || null === e)
                      throw new Error(h(11));
                    function r() {
                      e.next && e.next(p());
                    }
                    return r(), { unsubscribe: t(r) };
                  },
                })[m] = function () {
                  return this;
                }),
                e
              );
            }
            return (
              u({ type: _.INIT }),
              ((n = {
                dispatch: u,
                subscribe: l,
                getState: p,
                replaceReducer: f,
              })[m] = y),
              n
            );
          }
          function y() {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
              t[r] = arguments[r];
            return 0 === t.length
              ? function (e) {
                  return e;
                }
              : 1 === t.length
              ? t[0]
              : t.reduce(function (e, t) {
                  return function () {
                    return e(t.apply(void 0, arguments));
                  };
                });
          }
          function b() {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
              t[r] = arguments[r];
            return function (e) {
              return function () {
                var r = e.apply(void 0, arguments),
                  n = function () {
                    throw new Error(h(15));
                  },
                  a = {
                    getState: r.getState,
                    dispatch: function () {
                      return n.apply(void 0, arguments);
                    },
                  },
                  i = t.map(function (e) {
                    return e(a);
                  });
                return (
                  (n = y.apply(void 0, i)(r.dispatch)),
                  u(u({}, r), {}, { dispatch: n })
                );
              };
            };
          }
          function S(e) {
            return function (t) {
              var r = t.dispatch,
                n = t.getState;
              return function (t) {
                return function (a) {
                  return "function" == typeof a ? a(r, n, e) : t(a);
                };
              };
            };
          }
          var w = S();
          w.withExtraArgument = S;
          const T = w;
          var E = r(3196),
            R = r.n(E);
          function P(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function C(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? P(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : P(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var k = {
            url: null,
            state: "new",
            activeSpeakerId: null,
            statsPeerId: null,
            faceDetection: !1,
          };
          const O = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : k,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case "SET_ROOM_URL":
                var r = t.payload.url;
                return C(C({}, e), {}, { url: r });
              case "SET_ROOM_STATE":
                var n = t.payload.state;
                return C(
                  C({}, e),
                  {},
                  "connected" === n
                    ? { state: n }
                    : { state: n, activeSpeakerId: null, statsPeerId: null }
                );
              case "SET_ROOM_ACTIVE_SPEAKER":
                var a = t.payload.peerId;
                return C(C({}, e), {}, { activeSpeakerId: a });
              case "SET_ROOM_STATS_PEER_ID":
                var i = t.payload.peerId;
                return e.statsPeerId === i
                  ? C(C({}, e), {}, { statsPeerId: null })
                  : C(C({}, e), {}, { statsPeerId: i });
              case "SET_FACE_DETECTION":
                var s = t.payload;
                return C(C({}, e), {}, { faceDetection: s });
              case "REMOVE_PEER":
                var o = t.payload.peerId,
                  c = C({}, e);
                return (
                  o && o === e.activeSpeakerId && (c.activeSpeakerId = null),
                  o && o === e.statsPeerId && (c.statsPeerId = null),
                  c
                );
              default:
                return e;
            }
          };
          function x(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function D(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? x(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : x(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var I = {
            id: null,
            displayName: null,
            displayNameSet: !1,
            device: null,
            canSendMic: !1,
            canSendWebcam: !1,
            canChangeWebcam: !1,
            webcamInProgress: !1,
            shareInProgress: !1,
            audioOnly: !1,
            audioOnlyInProgress: !1,
            audioMuted: !1,
            restartIceInProgress: !1,
          };
          const L = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : I,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case "SET_ROOM_STATE":
                var r = t.payload.state;
                return "closed" === r
                  ? D(
                      D({}, e),
                      {},
                      {
                        webcamInProgress: !1,
                        shareInProgress: !1,
                        audioOnly: !1,
                        audioOnlyInProgress: !1,
                        audioMuted: !1,
                        restartIceInProgress: !1,
                      }
                    )
                  : e;
              case "SET_ME":
                var n = t.payload,
                  a = n.peerId,
                  i = n.displayName,
                  s = n.displayNameSet,
                  o = n.device;
                return D(
                  D({}, e),
                  {},
                  { id: a, displayName: i, displayNameSet: s, device: o }
                );
              case "SET_MEDIA_CAPABILITIES":
                var c = t.payload,
                  d = c.canSendMic,
                  p = c.canSendWebcam;
                return D(D({}, e), {}, { canSendMic: d, canSendWebcam: p });
              case "SET_CAN_CHANGE_WEBCAM":
                var l = t.payload;
                return D(D({}, e), {}, { canChangeWebcam: l });
              case "SET_WEBCAM_IN_PROGRESS":
                var u = t.payload.flag;
                return D(D({}, e), {}, { webcamInProgress: u });
              case "SET_SHARE_IN_PROGRESS":
                var h = t.payload.flag;
                return D(D({}, e), {}, { shareInProgress: h });
              case "SET_DISPLAY_NAME":
                var m = t.payload.displayName;
                return (
                  m || (m = e.displayName),
                  D(D({}, e), {}, { displayName: m, displayNameSet: !0 })
                );
              case "SET_AUDIO_ONLY_STATE":
                var f = t.payload.enabled;
                return D(D({}, e), {}, { audioOnly: f });
              case "SET_AUDIO_ONLY_IN_PROGRESS":
                var _ = t.payload.flag;
                return D(D({}, e), {}, { audioOnlyInProgress: _ });
              case "SET_AUDIO_MUTED_STATE":
                var g = t.payload.enabled;
                return D(D({}, e), {}, { audioMuted: g });
              case "SET_RESTART_ICE_IN_PROGRESS":
                var v = t.payload.flag;
                return D(D({}, e), {}, { restartIceInProgress: v });
              default:
                return e;
            }
          };
          function M(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function A(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? M(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : M(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var N = {};
          const j = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : N,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case "SET_ROOM_STATE":
                var r = t.payload.state;
                return "closed" === r ? {} : e;
              case "ADD_PRODUCER":
                var n = t.payload.producer;
                return A(A({}, e), {}, (0, s.Z)({}, n.id, n));
              case "REMOVE_PRODUCER":
                var a = t.payload.producerId,
                  i = A({}, e);
                return delete i[a], i;
              case "SET_PRODUCER_PAUSED":
                var o = t.payload.producerId,
                  c = e[o],
                  d = A(A({}, c), {}, { paused: !0 });
                return A(A({}, e), {}, (0, s.Z)({}, o, d));
              case "SET_PRODUCER_RESUMED":
                var p = t.payload.producerId,
                  l = e[p],
                  u = A(A({}, l), {}, { paused: !1 });
                return A(A({}, e), {}, (0, s.Z)({}, p, u));
              case "SET_PRODUCER_TRACK":
                var h = t.payload,
                  m = h.producerId,
                  f = h.track,
                  _ = e[m],
                  g = A(A({}, _), {}, { track: f });
                return A(A({}, e), {}, (0, s.Z)({}, m, g));
              case "SET_PRODUCER_SCORE":
                var v = t.payload,
                  y = v.producerId,
                  b = v.score,
                  S = e[y];
                if (!S) return e;
                var w = A(A({}, S), {}, { score: b });
                return A(A({}, e), {}, (0, s.Z)({}, y, w));
              default:
                return e;
            }
          };
          function F(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function B(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? F(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : F(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var U = {};
          const Z = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : U,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case "SET_ROOM_STATE":
                var r = t.payload.state;
                return "closed" === r ? {} : e;
              case "ADD_DATA_PRODUCER":
                var n = t.payload.dataProducer;
                return B(B({}, e), {}, (0, s.Z)({}, n.id, n));
              case "REMOVE_DATA_PRODUCER":
                var a = t.payload.dataProducerId,
                  i = B({}, e);
                return delete i[a], i;
              default:
                return e;
            }
          };
          var H = r(907);
          var z = r(181);
          function V(e) {
            return (
              (function (e) {
                if (Array.isArray(e)) return (0, H.Z)(e);
              })(e) ||
              (function (e) {
                if (
                  ("undefined" != typeof Symbol &&
                    null != e[Symbol.iterator]) ||
                  null != e["@@iterator"]
                )
                  return Array.from(e);
              })(e) ||
              (0, z.Z)(e) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
              })()
            );
          }
          function W(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function G(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? W(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : W(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var q = {};
          function K(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function $(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? K(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : K(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var X = {};
          function J(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function Q(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? J(Object(r), !0).forEach(function (t) {
                    (0, s.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : J(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var Y = {};
          var ee = [];
          const te = (function (e) {
            for (var t = Object.keys(e), r = {}, n = 0; n < t.length; n++) {
              var a = t[n];
              0, "function" == typeof e[a] && (r[a] = e[a]);
            }
            var i,
              s = Object.keys(r);
            try {
              !(function (e) {
                Object.keys(e).forEach(function (t) {
                  var r = e[t];
                  if (void 0 === r(void 0, { type: _.INIT }))
                    throw new Error(h(12));
                  if (void 0 === r(void 0, { type: _.PROBE_UNKNOWN_ACTION() }))
                    throw new Error(h(13));
                });
              })(r);
            } catch (e) {
              i = e;
            }
            return function (e, t) {
              if ((void 0 === e && (e = {}), i)) throw i;
              for (var n = !1, a = {}, o = 0; o < s.length; o++) {
                var c = s[o],
                  d = r[c],
                  p = e[c],
                  l = d(p, t);
                if (void 0 === l) {
                  t && t.type;
                  throw new Error(h(14));
                }
                (a[c] = l), (n = n || l !== p);
              }
              return (n = n || s.length !== Object.keys(e).length) ? a : e;
            };
          })({
            room: O,
            me: L,
            producers: j,
            dataProducers: Z,
            peers: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : q,
                t = arguments.length > 1 ? arguments[1] : void 0;
              switch (t.type) {
                case "SET_ROOM_STATE":
                  var r = t.payload.state;
                  return "closed" === r ? {} : e;
                case "ADD_PEER":
                  var n = t.payload.peer;
                  return G(G({}, e), {}, (0, s.Z)({}, n.id, n));
                case "REMOVE_PEER":
                  var a = t.payload.peerId,
                    i = G({}, e);
                  return delete i[a], i;
                case "SET_PEER_DISPLAY_NAME":
                  var o = t.payload,
                    c = o.displayName,
                    d = o.peerId,
                    p = e[d];
                  if (!p) throw new Error("no Peer found");
                  var l = G(G({}, p), {}, { displayName: c });
                  return G(G({}, e), {}, (0, s.Z)({}, l.id, l));
                case "ADD_CONSUMER":
                  var u = t.payload,
                    h = u.consumer,
                    m = u.peerId,
                    f = e[m];
                  if (!f) throw new Error("no Peer found for new Consumer");
                  var _ = [].concat(V(f.consumers), [h.id]),
                    g = G(G({}, f), {}, { consumers: _ });
                  return G(G({}, e), {}, (0, s.Z)({}, g.id, g));
                case "REMOVE_CONSUMER":
                  var v = t.payload,
                    y = v.consumerId,
                    b = v.peerId,
                    S = e[b];
                  if (!S) return e;
                  var w = S.consumers.indexOf(y);
                  if (-1 === w) throw new Error("Consumer not found");
                  var T = S.consumers.slice();
                  T.splice(w, 1);
                  var E = G(G({}, S), {}, { consumers: T });
                  return G(G({}, e), {}, (0, s.Z)({}, E.id, E));
                case "ADD_DATA_CONSUMER":
                  var R = t.payload,
                    P = R.dataConsumer,
                    C = R.peerId;
                  if (!C) return e;
                  var k = e[C];
                  if (!k) throw new Error("no Peer found for new DataConsumer");
                  var O = [].concat(V(k.dataConsumers), [P.id]),
                    x = G(G({}, k), {}, { dataConsumers: O });
                  return G(G({}, e), {}, (0, s.Z)({}, x.id, x));
                case "REMOVE_DATA_CONSUMER":
                  var D = t.payload,
                    I = D.dataConsumerId,
                    L = D.peerId;
                  if (!L) return e;
                  var M = e[L];
                  if (!M) return e;
                  var A = M.dataConsumers.indexOf(I);
                  if (-1 === A) throw new Error("DataConsumer not found");
                  var N = M.dataConsumers.slice();
                  N.splice(A, 1);
                  var j = G(G({}, M), {}, { dataConsumers: N });
                  return G(G({}, e), {}, (0, s.Z)({}, j.id, j));
                default:
                  return e;
              }
            },
            consumers: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : X,
                t = arguments.length > 1 ? arguments[1] : void 0;
              switch (t.type) {
                case "SET_ROOM_STATE":
                  var r = t.payload.state;
                  return "closed" === r ? {} : e;
                case "ADD_CONSUMER":
                  var n = t.payload.consumer;
                  return $($({}, e), {}, (0, s.Z)({}, n.id, n));
                case "REMOVE_CONSUMER":
                  var a = t.payload.consumerId,
                    i = $({}, e);
                  return delete i[a], i;
                case "SET_CONSUMER_PAUSED":
                  var o,
                    c = t.payload,
                    d = c.consumerId,
                    p = c.originator,
                    l = e[d];
                  return (
                    (o = $(
                      $({}, l),
                      {},
                      "local" === p
                        ? { locallyPaused: !0 }
                        : { remotelyPaused: !0 }
                    )),
                    $($({}, e), {}, (0, s.Z)({}, d, o))
                  );
                case "SET_CONSUMER_RESUMED":
                  var u,
                    h = t.payload,
                    m = h.consumerId,
                    f = h.originator,
                    _ = e[m];
                  return (
                    (u = $(
                      $({}, _),
                      {},
                      "local" === f
                        ? { locallyPaused: !1 }
                        : { remotelyPaused: !1 }
                    )),
                    $($({}, e), {}, (0, s.Z)({}, m, u))
                  );
                case "SET_CONSUMER_CURRENT_LAYERS":
                  var g = t.payload,
                    v = g.consumerId,
                    y = g.spatialLayer,
                    b = g.temporalLayer,
                    S = e[v],
                    w = $(
                      $({}, S),
                      {},
                      { currentSpatialLayer: y, currentTemporalLayer: b }
                    );
                  return $($({}, e), {}, (0, s.Z)({}, v, w));
                case "SET_CONSUMER_PREFERRED_LAYERS":
                  var T = t.payload,
                    E = T.consumerId,
                    R = T.spatialLayer,
                    P = T.temporalLayer,
                    C = e[E],
                    k = $(
                      $({}, C),
                      {},
                      { preferredSpatialLayer: R, preferredTemporalLayer: P }
                    );
                  return $($({}, e), {}, (0, s.Z)({}, E, k));
                case "SET_CONSUMER_PRIORITY":
                  var O = t.payload,
                    x = O.consumerId,
                    D = O.priority,
                    I = e[x],
                    L = $($({}, I), {}, { priority: D });
                  return $($({}, e), {}, (0, s.Z)({}, x, L));
                case "SET_CONSUMER_TRACK":
                  var M = t.payload,
                    A = M.consumerId,
                    N = M.track,
                    j = e[A],
                    F = $($({}, j), {}, { track: N });
                  return $($({}, e), {}, (0, s.Z)({}, A, F));
                case "SET_CONSUMER_SCORE":
                  var B = t.payload,
                    U = B.consumerId,
                    Z = B.score,
                    H = e[U];
                  if (!H) return e;
                  var z = $($({}, H), {}, { score: Z });
                  return $($({}, e), {}, (0, s.Z)({}, U, z));
                default:
                  return e;
              }
            },
            dataConsumers: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : Y,
                t = arguments.length > 1 ? arguments[1] : void 0;
              switch (t.type) {
                case "SET_ROOM_STATE":
                  var r = t.payload.state;
                  return "closed" === r ? {} : e;
                case "ADD_DATA_CONSUMER":
                  var n = t.payload.dataConsumer;
                  return Q(Q({}, e), {}, (0, s.Z)({}, n.id, n));
                case "REMOVE_DATA_CONSUMER":
                  var a = t.payload.dataConsumerId,
                    i = Q({}, e);
                  return delete i[a], i;
                default:
                  return e;
              }
            },
            notifications: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : ee,
                t = arguments.length > 1 ? arguments[1] : void 0;
              switch (t.type) {
                case "ADD_NOTIFICATION":
                  var r = t.payload.notification;
                  return [].concat(V(e), [r]);
                case "REMOVE_NOTIFICATION":
                  var n = t.payload.notificationId;
                  return e.filter(function (e) {
                    return e.id !== n;
                  });
                case "REMOVE_ALL_NOTIFICATIONS":
                  return [];
                default:
                  return e;
              }
            },
          });
          var re = r(8922);
          function ne(e, t, r) {
            if (!t.has(e))
              throw new TypeError(
                "attempted to " + r + " private field on non-instance"
              );
            return t.get(e);
          }
          function ae(e, t) {
            return (function (e, t) {
              return t.get ? t.get.call(e) : t.value;
            })(e, ne(e, t, "get"));
          }
          function ie(e, t, r) {
            return (
              (function (e, t, r) {
                if (t.set) t.set.call(e, r);
                else {
                  if (!t.writable)
                    throw new TypeError(
                      "attempted to set read only private field"
                    );
                  t.value = r;
                }
              })(e, ne(e, t, "set"), r),
              r
            );
          }
          var se = r(7187),
            oe = r(885),
            ce =
              (r(8922).default,
              (0, i.Z)(function e() {
                (0, a.Z)(this, e), (this.roomClient = null);
              })),
            de = new ((function () {
              function e() {
                (0, a.Z)(this, e), e.instance || (e.instance = new ce());
              }
              return (
                (0, i.Z)(e, [
                  {
                    key: "getInstance",
                    value: function () {
                      return e.instance;
                    },
                  },
                ]),
                e
              );
            })())();
          Object.freeze(de);
          var pe = de.getInstance(),
            le = (function () {
              function e(t) {
                (0, a.Z)(this, e),
                  (this.id = t.id),
                  (this.kind = t.track.kind),
                  (this.codec = t.codec),
                  (this.track = t.track),
                  (this.producerOrConsumer = t.instance),
                  t.appData &&
                    !0 === t.appData.share &&
                    "video" === t.track.kind &&
                    (this.kind = "share"),
                  t.appData &&
                    !0 === t.appData.share &&
                    "audio" === t.track.kind &&
                    (this.kind = "shareAudio");
              }
              return (
                (0, i.Z)(e, [
                  {
                    key: "pause",
                    value: function () {
                      pe.roomClient._pauseConsumer(this.producerOrConsumer);
                    },
                  },
                  {
                    key: "resume",
                    value: function () {
                      pe.roomClient._resumeConsumer(this.producerOrConsumer);
                    },
                  },
                  {
                    key: "paused",
                    get: function () {
                      return this.producerOrConsumer.paused;
                    },
                  },
                ]),
                e
              );
            })();
          function ue(e, t) {
            var r =
              ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
              e["@@iterator"];
            if (!r) {
              if (
                Array.isArray(e) ||
                (r = (function (e, t) {
                  if (!e) return;
                  if ("string" == typeof e) return he(e, t);
                  var r = Object.prototype.toString.call(e).slice(8, -1);
                  "Object" === r && e.constructor && (r = e.constructor.name);
                  if ("Map" === r || "Set" === r) return Array.from(e);
                  if (
                    "Arguments" === r ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                  )
                    return he(e, t);
                })(e)) ||
                (t && e && "number" == typeof e.length)
              ) {
                r && (e = r);
                var n = 0,
                  a = function () {};
                return {
                  s: a,
                  n: function () {
                    return n >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[n++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: a,
                };
              }
              throw new TypeError(
                "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
              );
            }
            var i,
              s = !0,
              o = !1;
            return {
              s: function () {
                r = r.call(e);
              },
              n: function () {
                var e = r.next();
                return (s = e.done), e;
              },
              e: function (e) {
                (o = !0), (i = e);
              },
              f: function () {
                try {
                  s || null == r.return || r.return();
                } finally {
                  if (o) throw i;
                }
              },
            };
          }
          function he(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
          }
          var me = "stream-enabled",
            fe = "stream-disabled",
            _e = "media-status-changed",
            ge = "video-quality-changed",
            ve = (function () {
              function e(t) {
                (0, a.Z)(this, e),
                  (this.id = t.id),
                  (this.displayName = t.displayName),
                  (this.streams = new Map()),
                  (this.quality = "low"),
                  (this.local = t.local || !1),
                  (this.pinState = { cam: !1, share: !1 }),
                  (this.webcamOn = !1),
                  (this.micOn = !1),
                  (this.mode = t.mode),
                  (this.eventEmitter = new se.EventEmitter());
              }
              var t, r, s, o;
              return (
                (0, i.Z)(e, [
                  {
                    key: "_setPinState",
                    value: function (e) {
                      null != e.cam && (this.pinState.cam = e.cam),
                        null != e.share && (this.pinState.share = e.share);
                    },
                  },
                  {
                    key: "remove",
                    value: function () {
                      pe.roomClient.removePeer(this.id);
                    },
                  },
                  {
                    key: "enableMic",
                    value: function () {
                      pe.roomClient.enablePeerMic(this.id);
                    },
                  },
                  {
                    key: "disableMic",
                    value: function () {
                      pe.roomClient.disablePeerMic(this.id);
                    },
                  },
                  {
                    key: "enableWebcam",
                    value: function () {
                      pe.roomClient.enablePeerWebcam(this.id);
                    },
                  },
                  {
                    key: "disableWebcam",
                    value: function () {
                      pe.roomClient.disablePeerWebcam(this.id);
                    },
                  },
                  {
                    key: "addStream",
                    value: function (e) {
                      this.streams.set(e.id, e),
                        "video" !== e.kind ||
                          this.local ||
                          pe.roomClient.setConsumerQuality(e.id, this.quality),
                        this.eventEmitter.emit(me, e);
                    },
                  },
                  {
                    key: "updateStream",
                    value: function (e) {
                      this.streams.set(e.id, e), this.eventEmitter.emit(me, e);
                    },
                  },
                  {
                    key: "deleteStream",
                    value: function (e) {
                      var t = this.streams.get(e);
                      if (null != t)
                        return (
                          this.streams.delete(e),
                          this.eventEmitter.emit(fe, t),
                          t
                        );
                    },
                  },
                  {
                    key: "updateParticipantMediaState",
                    value: function (e, t) {
                      "audio" == e
                        ? (this.micOn = t)
                        : "video" == e && (this.webcamOn = t),
                        this.eventEmitter.emit(_e, {
                          peerId: this.id,
                          kind: e,
                          newStatus: t,
                        });
                    },
                  },
                  {
                    key: "videoQualityChanged",
                    value: function (e, t) {
                      this.eventEmitter.emit(ge, {
                        peerId: this.id,
                        prevQuality: e,
                        currentQuality: t,
                      });
                    },
                  },
                  {
                    key: "setQuality",
                    value: function (e) {
                      this.quality === e ||
                        this.local ||
                        ((this.quality = e),
                        V(this.streams.entries()).forEach(function (t) {
                          var r = t[1];
                          "video" === r.kind &&
                            pe.roomClient.setConsumerQuality(r.id, e);
                        }));
                    },
                  },
                  {
                    key: "setViewPort",
                    value: function (e, t) {
                      V(this.streams.entries()).forEach(function (r) {
                        var n = r[1];
                        "video" === n.kind &&
                          pe.roomClient.setViewPort(n.producerOrConsumer, e, t);
                      });
                    },
                  },
                  {
                    key: "pin",
                    value: function (e) {
                      switch (e) {
                        case "SHARE_AND_CAM":
                        case void 0:
                          this._setPinState({ cam: !0, share: !0 });
                          break;
                        case "CAM":
                          this._setPinState({ cam: !0 });
                          break;
                        case "SHARE":
                          this._setPinState({ share: !0 });
                          break;
                        default:
                          throw new Error("Unknown pin type");
                      }
                      pe.roomClient.pinStateChange({
                        peerId: this.id,
                        state: this.pinState,
                      });
                    },
                  },
                  {
                    key: "unpin",
                    value: function (e) {
                      switch (e) {
                        case "SHARE_AND_CAM":
                        case void 0:
                          this._setPinState({ cam: !1, share: !1 });
                          break;
                        case "CAM":
                          this._setPinState({ cam: !1 });
                          break;
                        case "SHARE":
                          this._setPinState({ share: !1 });
                          break;
                        default:
                          throw new Error("Unknown unpin type");
                      }
                      pe.roomClient.pinStateChange({
                        peerId: this.id,
                        state: this.pinState,
                      });
                    },
                  },
                  {
                    key: "switchTo",
                    value:
                      ((o = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n, a;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (r = t.meetingId),
                                      (n = t.payload),
                                      (a = t.token),
                                      (e.next = 3),
                                      pe.roomClient.switchPeerRoom({
                                        peerId: this.id,
                                        roomId: r,
                                        payload: n,
                                        token: a,
                                      })
                                    );
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e) {
                        return o.apply(this, arguments);
                      }),
                  },
                  {
                    key: "getVideoStats",
                    value:
                      ((s = (0, n.Z)(
                        c().mark(function e() {
                          var t, r, n, a, i;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    if (!this.local) {
                                      e.next = 6;
                                      break;
                                    }
                                    return (
                                      (e.next = 3),
                                      pe.roomClient.getVideoRemoteStats()
                                    );
                                  case 3:
                                    return e.abrupt("return", e.sent);
                                  case 6:
                                    (t = V(this.streams.entries())),
                                      (r = ue(t)),
                                      (e.prev = 8),
                                      r.s();
                                  case 10:
                                    if ((n = r.n()).done) {
                                      e.next = 18;
                                      break;
                                    }
                                    if (
                                      ((a = (0, oe.Z)(n.value, 2)),
                                      (i = a[0]),
                                      "video" != a[1].kind)
                                    ) {
                                      e.next = 16;
                                      break;
                                    }
                                    return (
                                      (e.next = 15),
                                      pe.roomClient.getConsumerRemoteStats(i)
                                    );
                                  case 15:
                                    return e.abrupt("return", e.sent);
                                  case 16:
                                    e.next = 10;
                                    break;
                                  case 18:
                                    e.next = 23;
                                    break;
                                  case 20:
                                    (e.prev = 20),
                                      (e.t0 = e.catch(8)),
                                      r.e(e.t0);
                                  case 23:
                                    return (e.prev = 23), r.f(), e.finish(23);
                                  case 26:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this,
                            [[8, 20, 23, 26]]
                          );
                        })
                      )),
                      function () {
                        return s.apply(this, arguments);
                      }),
                  },
                  {
                    key: "getShareStats",
                    value:
                      ((r = (0, n.Z)(
                        c().mark(function e() {
                          var t, r, n, a, i;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    if (!this.local) {
                                      e.next = 6;
                                      break;
                                    }
                                    return (
                                      (e.next = 3),
                                      pe.roomClient.getShareRemoteStats()
                                    );
                                  case 3:
                                    return e.abrupt("return", e.sent);
                                  case 6:
                                    (t = V(this.streams.entries())),
                                      (r = ue(t)),
                                      (e.prev = 8),
                                      r.s();
                                  case 10:
                                    if ((n = r.n()).done) {
                                      e.next = 18;
                                      break;
                                    }
                                    if (
                                      ((a = (0, oe.Z)(n.value, 2)),
                                      (i = a[0]),
                                      "share" != a[1].kind)
                                    ) {
                                      e.next = 16;
                                      break;
                                    }
                                    return (
                                      (e.next = 15),
                                      pe.roomClient.getConsumerRemoteStats(i)
                                    );
                                  case 15:
                                    return e.abrupt("return", e.sent);
                                  case 16:
                                    e.next = 10;
                                    break;
                                  case 18:
                                    e.next = 23;
                                    break;
                                  case 20:
                                    (e.prev = 20),
                                      (e.t0 = e.catch(8)),
                                      r.e(e.t0);
                                  case 23:
                                    return (e.prev = 23), r.f(), e.finish(23);
                                  case 26:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this,
                            [[8, 20, 23, 26]]
                          );
                        })
                      )),
                      function () {
                        return r.apply(this, arguments);
                      }),
                  },
                  {
                    key: "getAudioStats",
                    value:
                      ((t = (0, n.Z)(
                        c().mark(function e() {
                          var t, r, n, a, i;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    if (this.micOn) {
                                      e.next = 2;
                                      break;
                                    }
                                    return e.abrupt("return", []);
                                  case 2:
                                    if (!this.local) {
                                      e.next = 8;
                                      break;
                                    }
                                    return (
                                      (e.next = 5),
                                      pe.roomClient.getAudioRemoteStats()
                                    );
                                  case 5:
                                    return e.abrupt("return", e.sent);
                                  case 8:
                                    (t = V(this.streams.entries())),
                                      (r = ue(t)),
                                      (e.prev = 10),
                                      r.s();
                                  case 12:
                                    if ((n = r.n()).done) {
                                      e.next = 20;
                                      break;
                                    }
                                    if (
                                      ((a = (0, oe.Z)(n.value, 2)),
                                      (i = a[0]),
                                      "audio" != a[1].kind)
                                    ) {
                                      e.next = 18;
                                      break;
                                    }
                                    return (
                                      (e.next = 17),
                                      pe.roomClient.getConsumerRemoteStats(i)
                                    );
                                  case 17:
                                    return e.abrupt("return", e.sent);
                                  case 18:
                                    e.next = 12;
                                    break;
                                  case 20:
                                    e.next = 25;
                                    break;
                                  case 22:
                                    (e.prev = 22),
                                      (e.t0 = e.catch(10)),
                                      r.e(e.t0);
                                  case 25:
                                    return (e.prev = 25), r.f(), e.finish(25);
                                  case 28:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this,
                            [[10, 22, 25, 28]]
                          );
                        })
                      )),
                      function () {
                        return t.apply(this, arguments);
                      }),
                  },
                  {
                    key: "consumeMicStreams",
                    value: function () {
                      pe.roomClient.consumeMicStreams(this.id);
                    },
                  },
                  {
                    key: "consumeWebcamStreams",
                    value: function () {
                      pe.roomClient.consumeWebcamStreams(this.id);
                    },
                  },
                  {
                    key: "stopConsumingWebcamStreams",
                    value: function () {
                      pe.roomClient.stopConsumingWebcamStreams(this.id);
                    },
                  },
                  {
                    key: "stopConsumingMicStreams",
                    value: function () {
                      pe.roomClient.stopConsumingMicStreams(this.id);
                    },
                  },
                  {
                    key: "on",
                    value: function (e, t) {
                      switch (e) {
                        case me:
                        case fe:
                        case _e:
                        case ge:
                          this.eventEmitter.on(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                  {
                    key: "off",
                    value: function (e, t) {
                      switch (e) {
                        case me:
                        case fe:
                        case _e:
                        case ge:
                          this.eventEmitter.off(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                ]),
                e
              );
            })();
          function ye(e, t, r) {
            !(function (e, t) {
              if (t.has(e))
                throw new TypeError(
                  "Cannot initialize the same private elements twice on an object"
                );
            })(e, t),
              t.set(e, r);
          }
          var be = new WeakMap(),
            Se = (function () {
              function e(t, r) {
                var n = t.id,
                  i = t.displayName;
                (0, a.Z)(this, e),
                  ye(this, be, { writable: !0, value: void 0 }),
                  (this.id = n),
                  (this.displayName = i),
                  ie(this, be, r);
              }
              var t;
              return (
                (0, i.Z)(e, [
                  {
                    key: "switchTo",
                    value:
                      ((t = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n, a;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (r = t.meetingId),
                                      (n = t.payload),
                                      (a = t.token),
                                      (e.next = 3),
                                      pe.roomClient.connectionSwitchPeerRoom({
                                        roomId: r,
                                        connectionRoomId: ae(this, be),
                                        payload: n,
                                        peerId: this.id,
                                        token: a,
                                      })
                                    );
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e) {
                        return t.apply(this, arguments);
                      }),
                  },
                ]),
                e
              );
            })(),
            we = "participant-joined",
            Te = "participant-left",
            Ee = "chat-message",
            Re = (function () {
              function e(t, r) {
                var n = this;
                (0, a.Z)(this, e),
                  (this.eventEmitter = new se.EventEmitter()),
                  (this.id = t),
                  (this.participants = new Map()),
                  r.forEach(function (e) {
                    n.participants.set(e.id, new Se(e, n.id));
                  });
              }
              var t;
              return (
                (0, i.Z)(e, [
                  {
                    key: "participantJoin",
                    value: function (e) {
                      var t = new Se(e, this.id);
                      this.participants.set(e.id, t),
                        this.eventEmitter.emit(we, t);
                    },
                  },
                  {
                    key: "participantLeft",
                    value: function (e) {
                      this.participants.delete(e),
                        this.eventEmitter.emit(Te, e);
                    },
                  },
                  {
                    key: "sendChatMessage",
                    value: function (e) {
                      pe.roomClient.connectionSendChatMessage({
                        roomId: this.id,
                        message: e,
                      });
                    },
                  },
                  {
                    key: "sendChatMessageEvent",
                    value: function (e) {
                      var t = e.participantId,
                        r = e.message;
                      this.eventEmitter.emit(Ee, {
                        participantId: t,
                        message: r,
                      });
                    },
                  },
                  {
                    key: "end",
                    value:
                      ((t = (0, n.Z)(
                        c().mark(function e() {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (e.next = 2),
                                      pe.roomClient.connectionEndMeeting({
                                        roomId: this.id,
                                      })
                                    );
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return t.apply(this, arguments);
                      }),
                  },
                  {
                    key: "on",
                    value: function (e, t) {
                      switch (e) {
                        case we:
                        case Te:
                        case Ee:
                          this.eventEmitter.on(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                  {
                    key: "off",
                    value: function (e, t) {
                      switch (e) {
                        case we:
                        case Te:
                        case Ee:
                          this.eventEmitter.off(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                ]),
                e
              );
            })(),
            Pe = (function () {
              function e(t) {
                var r = t.roomId,
                  n = t.peers,
                  i = t.payload;
                (0, a.Z)(this, e),
                  (this.id = r),
                  (this.payload = i),
                  (this.meeting = new Re(r, n));
              }
              return (
                (0, i.Z)(e, [
                  {
                    key: "close",
                    value: function () {
                      pe.roomClient.closeConnection(this.id);
                    },
                  },
                ]),
                e
              );
            })();
          function Ce(e, t) {
            ke(e, t), t.add(e);
          }
          function ke(e, t) {
            if (t.has(e))
              throw new TypeError(
                "Cannot initialize the same private elements twice on an object"
              );
          }
          function Oe(e, t, r) {
            if (!t.has(e))
              throw new TypeError(
                "attempted to get private field on non-instance"
              );
            return r;
          }
          var xe = "error",
            De = "meeting-joined",
            Ie = "meeting-left",
            Le = "participant-mode-changed",
            Me = "participant-joined",
            Ae = "participant-left",
            Ne = "speaker-changed",
            je = "presenter-changed",
            Fe = "main-participant-changed",
            Be = "chat-message",
            Ue = "entry-requested",
            Ze = "entry-responded",
            He = "recording-state-changed",
            ze = "recording-started",
            Ve = "recording-stopped",
            We = "livestream-state-changed",
            Ge = "livestream-started",
            qe = "livestream-stopped",
            Ke = "hls-state-changed",
            $e = "hls-started",
            Xe = "hls-stopped",
            Je = "whiteboard-started",
            Qe = "whiteboard-stopped",
            Ye = "video-state-changed",
            et = "video-seeked",
            tt = "mic-requested",
            rt = "webcam-requested",
            nt = "stream-enabled",
            at = "stream-disabled",
            it = "pin-state-changed",
            st = "connection-open",
            ot = "connection-close",
            ct = "switch-meeting",
            dt = "meeting-state-changed",
            pt = new WeakMap(),
            lt = new WeakSet(),
            ut = new WeakSet(),
            ht = (function () {
              function e(t, r, i) {
                var o,
                  d,
                  p,
                  l,
                  u,
                  h,
                  m = this;
                (0, a.Z)(this, e),
                  Ce(this, ut),
                  Ce(this, lt),
                  (p = { writable: !0, value: void 0 }),
                  ke((o = this), (d = pt)),
                  d.set(o, p),
                  (0, s.Z)(this, "pubSub", {
                    publish:
                      ((h = (0, n.Z)(
                        c().mark(function e(t, r, n) {
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (e.next = 2),
                                    m.roomClient.pubsubPublish(t, r, n)
                                  );
                                case 2:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e, t, r) {
                        return h.apply(this, arguments);
                      }),
                    subscribe:
                      ((u = (0, n.Z)(
                        c().mark(function e(t, r) {
                          var n;
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (!ae(m, pt).listeners(t).includes(r)) {
                                    e.next = 2;
                                    break;
                                  }
                                  return e.abrupt("return");
                                case 2:
                                  return (
                                    (e.next = 4),
                                    m.roomClient.pubsubSubscribe(t)
                                  );
                                case 4:
                                  return (
                                    (n = e.sent),
                                    ae(m, pt).on(t, r),
                                    e.abrupt("return", n)
                                  );
                                case 7:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e, t) {
                        return u.apply(this, arguments);
                      }),
                    unsubscribe:
                      ((l = (0, n.Z)(
                        c().mark(function e(t, r) {
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (
                                    (ae(m, pt).off(t, r),
                                    0 != ae(m, pt).listeners(t).length)
                                  ) {
                                    e.next = 4;
                                    break;
                                  }
                                  return (
                                    (e.next = 4),
                                    m.roomClient.pubsubUnsubscribe(t)
                                  );
                                case 4:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e, t) {
                        return l.apply(this, arguments);
                      }),
                  }),
                  (this.id = t),
                  (this.roomClient = i),
                  (this.activeSpeakerId = null),
                  (this.activePresenterId = null),
                  (this.mainParticipantId = null),
                  (this.connections = new Map()),
                  (this.localParticipant = r),
                  (this.participants = new Map()),
                  (this.baseUrl = null),
                  (this.livestreamState = "LIVESTREAM_STOPPED"),
                  (this.recordingState = "RECORDING_STOPPED"),
                  (this.hlsState = "HLS_STOPPED"),
                  (this.hlsUrls = {
                    downstreamUrl: null,
                    playbackHlsUrl: null,
                    livestreamUrl: null,
                  }),
                  (this.messages = []),
                  (this.eventEmitter = new se.EventEmitter()),
                  ie(this, pt, new se.EventEmitter()),
                  this.eventEmitter.setMaxListeners(9999),
                  ae(this, pt).setMaxListeners(9999),
                  this.roomClient.on("ERROR", function (e) {
                    return m.handleError(e);
                  }),
                  this.roomClient.on("ADD_PEER", function (e) {
                    return m.handlePeerAdd(e);
                  }),
                  this.roomClient.on("REMOVE_PEER", function (e) {
                    return m.handlePeerRemove(e);
                  }),
                  this.roomClient.on("ADD_PRODUCER", function (e) {
                    return m.handleProducerAdd(e);
                  }),
                  this.roomClient.on("UPDATE_PRODUCER", function (e) {
                    return m.handleUpdateProducer(e);
                  }),
                  this.roomClient.on("REMOVE_PRODUCER", function (e) {
                    return m.handleProducerRemove(e);
                  }),
                  this.roomClient.on("ADD_CONSUMER", function (e) {
                    return m.handleConsumerAdd(e);
                  }),
                  this.roomClient.on("REMOVE_CONSUMER", function (e) {
                    return m.handleConsumerRemove(e);
                  }),
                  this.roomClient.on(
                    "PARTICIPANT_MEDIA_STATE_CHANGED",
                    function (e) {
                      return m.handleParticipantMediaStateChanged(e);
                    }
                  ),
                  this.roomClient.on("CHAT_MESSAGE", function (e) {
                    return m.handleNewChatMessage(e);
                  }),
                  this.roomClient.on("SET_ROOM_ACTIVE_SPEAKER", function (e) {
                    return m.handleSpeakerChange(e);
                  }),
                  this.roomClient.on("ENTRY_REQUESTED", function (e) {
                    return m.handleEntryRequested(e);
                  }),
                  this.roomClient.on("ENTRY_RESPONDED", function (e) {
                    return m.handleEntryResponded(e);
                  }),
                  this.roomClient.on("MEETING_JOINED", function (e) {
                    return m.handleMeetingJoined(e);
                  }),
                  this.roomClient.on("MEETING_LEFT", function (e) {
                    return m.handleMeetingLeft(e);
                  }),
                  this.roomClient.on("RECORDING_STATE_CHANGED", function (e) {
                    m.handleRecordingStateChanged(e);
                  }),
                  this.roomClient.on("RECORDING_STARTED", function (e) {
                    return m.handleRecordingStarted(e);
                  }),
                  this.roomClient.on("RECORDING_STOPPED", function (e) {
                    return m.handleRecordingStopped(e);
                  }),
                  this.roomClient.on("LIVESTREAM_STATE_CHANGED", function (e) {
                    m.handleLivestreamStateChanged(e);
                  }),
                  this.roomClient.on("LIVESTREAM_STARTED", function (e) {
                    return m.handleLivestreamStarted(e);
                  }),
                  this.roomClient.on("LIVESTREAM_STOPPED", function (e) {
                    return m.handleLivestreamStopped(e);
                  }),
                  this.roomClient.on("HLS_STATE_CHANGED", function (e) {
                    m.handleHlsStateChanged(e);
                  }),
                  this.roomClient.on("HLS_STARTED", function (e) {
                    m.handleHlsStarted(e);
                  }),
                  this.roomClient.on("HLS_STOPPED", function (e) {
                    m.handleHlsStopped(e);
                  }),
                  this.roomClient.on("WHITEBOARD_STARTED", function (e) {
                    return m.handleWhiteboardStarted(e);
                  }),
                  this.roomClient.on("WHITEBOARD_STOPPED", function (e) {
                    return m.handleWhiteboardStopped(e);
                  }),
                  this.roomClient.on("VIDEO_STATE_CHANGED", function (e) {
                    return m.handleVideoStateChanged(e);
                  }),
                  this.roomClient.on("VIDEO_SEEKED", function (e) {
                    return m.handleVideoSeeked(e);
                  }),
                  this.roomClient.on("PIN_STATE_CHANGED", function (e) {
                    m.handlePinStateChanged(e);
                  }),
                  this.roomClient.on("MIC_REQUESTED", function (e) {
                    return m.handleMicRequested(e);
                  }),
                  this.roomClient.on("WEBCAM_REQUESTED", function (e) {
                    return m.handleWebcamRequested(e);
                  }),
                  this.roomClient.on("CONNECTION_OPEN", function (e) {
                    return m.handleConnectionOpen(e);
                  }),
                  this.roomClient.on("CONNECTION_CLOSE", function (e) {
                    return m.handleConnectionClose(e);
                  }),
                  this.roomClient.on(
                    "CONNECTION_PARTICIPANT_JOIN",
                    function (e) {
                      return m.handleConnectionParticipantJoin(e);
                    }
                  ),
                  this.roomClient.on("SWITCH_ROOM", function (e) {
                    return m.handleSwitchMeeting(e);
                  }),
                  this.roomClient.on("CONNECTION_CHAT_MESSAGE", function (e) {
                    return m.handleConnectionChatMessage(e);
                  }),
                  this.roomClient.on(
                    "CONNECTION_PARTICIPANT_LEFT",
                    function (e) {
                      m.handleConnectionParticipantLeft(e);
                    }
                  ),
                  this.roomClient.on("PUBSUB_MESSAGE", function (e) {
                    return Oe(m, lt, mt).call(m, e);
                  }),
                  this.roomClient.on("PEER_MODE_CHANGED", function (e) {
                    return Oe(m, ut, ft).call(m, e);
                  }),
                  this.updateMainParticipant(this.localParticipant.id),
                  this.roomClient.on("MEETING_STATE_CHANGED", function (e) {
                    return m.handleMeetingStateChanged(e);
                  }),
                  this.roomClient.on("VIDEO_QUALITY_CHANGED", function (e) {
                    return m.handleVideoQualityChanged(e);
                  });
              }
              var t, r, o, d, p, l, u, h;
              return (
                (0, i.Z)(e, [
                  {
                    key: "handleError",
                    value: function (e) {
                      this.eventEmitter.emit(xe, e);
                    },
                  },
                  {
                    key: "join",
                    value: function () {
                      this.roomClient.join();
                    },
                  },
                  {
                    key: "changeMode",
                    value: function (e) {
                      this.roomClient.changeMode(e);
                    },
                  },
                  {
                    key: "leave",
                    value: function () {
                      this.roomClient.close({ sendLeft: !0 });
                    },
                  },
                  {
                    key: "end",
                    value: function () {
                      this.roomClient.closeRoom();
                    },
                  },
                  {
                    key: "respondEntry",
                    value: function (e, t) {
                      this.roomClient.respondEntry(e, t);
                    },
                  },
                  {
                    key: "pinnedParticipants",
                    get: function () {
                      return this.roomClient._pinnedParticipants;
                    },
                  },
                  {
                    key: "muteMic",
                    value: function () {
                      this.roomClient.disableMic();
                    },
                  },
                  {
                    key: "unmuteMic",
                    value: function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : void 0;
                      this.roomClient.enableMic(e);
                    },
                  },
                  {
                    key: "publishAudio",
                    value:
                      ((h = (0, n.Z)(
                        c().mark(function e() {
                          var t,
                            r = arguments;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (t =
                                        r.length > 0 && void 0 !== r[0]
                                          ? r[0]
                                          : void 0),
                                      (e.next = 3),
                                      this.roomClient.enableMic(t)
                                    );
                                  case 3:
                                    return e.abrupt("return");
                                  case 4:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return h.apply(this, arguments);
                      }),
                  },
                  {
                    key: "unpublishAudio",
                    value:
                      ((u = (0, n.Z)(
                        c().mark(function e() {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (e.next = 2), this.roomClient.disableMic()
                                    );
                                  case 2:
                                    return e.abrupt("return");
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return u.apply(this, arguments);
                      }),
                  },
                  {
                    key: "disableWebcam",
                    value: function () {
                      this.roomClient.disableWebcam();
                    },
                  },
                  {
                    key: "enableWebcam",
                    value: function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : void 0;
                      this.roomClient.enableWebcam(e);
                    },
                  },
                  {
                    key: "publishVideo",
                    value:
                      ((l = (0, n.Z)(
                        c().mark(function e() {
                          var t,
                            r = arguments;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (t =
                                        r.length > 0 && void 0 !== r[0]
                                          ? r[0]
                                          : void 0),
                                      this.roomClient.enableWebcam(t),
                                      e.abrupt("return")
                                    );
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return l.apply(this, arguments);
                      }),
                  },
                  {
                    key: "unpublishVideo",
                    value:
                      ((p = (0, n.Z)(
                        c().mark(function e() {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      this.roomClient.disableWebcam(),
                                      e.abrupt("return")
                                    );
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return p.apply(this, arguments);
                      }),
                  },
                  {
                    key: "disableScreenShare",
                    value: function () {
                      this.roomClient.disableShare();
                    },
                  },
                  {
                    key: "enableScreenShare",
                    value: function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : void 0;
                      this.roomClient.enableShare(e);
                    },
                  },
                  {
                    key: "pubblishScreenShare",
                    value: function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : void 0;
                      this.roomClient.enableShare(e);
                    },
                  },
                  {
                    key: "unpublishScreenShare",
                    value: function () {
                      this.roomClient.disableShare();
                    },
                  },
                  {
                    key: "sendChatMessage",
                    value: function (e) {
                      this.roomClient.sendChatMessage(e);
                      var t = {
                        text: e,
                        timestamp: new Date().getTime(),
                        senderId: this.localParticipant.id,
                        senderName: this.localParticipant.displayName,
                      };
                      this.handleNewChatMessage(t);
                    },
                  },
                  {
                    key: "startRecording",
                    value: function (e, t, r) {
                      this.roomClient.startRecording(e, t, r);
                    },
                  },
                  {
                    key: "stopRecording",
                    value: function () {
                      this.roomClient.stopRecording();
                    },
                  },
                  {
                    key: "startLivestream",
                    value: function (e, t) {
                      this.roomClient.startLivestream(e, t);
                    },
                  },
                  {
                    key: "stopLivestream",
                    value: function () {
                      this.roomClient.stopLivestream();
                    },
                  },
                  {
                    key: "startHls",
                    value:
                      ((d = (0, n.Z)(
                        c().mark(function e(t) {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (e.next = 2), this.roomClient.startHls(t)
                                    );
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e) {
                        return d.apply(this, arguments);
                      }),
                  },
                  {
                    key: "stopHls",
                    value: function () {
                      this.roomClient.stopHls();
                    },
                  },
                  {
                    key: "getMics",
                    value:
                      ((o = (0, n.Z)(
                        c().mark(function e() {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (e.next = 2), this.roomClient.getMics()
                                    );
                                  case 2:
                                    return e.abrupt("return", e.sent);
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return o.apply(this, arguments);
                      }),
                  },
                  {
                    key: "getWebcams",
                    value:
                      ((r = (0, n.Z)(
                        c().mark(function e() {
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (e.next = 2), this.roomClient.getWebcams()
                                    );
                                  case 2:
                                    return e.abrupt("return", e.sent);
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function () {
                        return r.apply(this, arguments);
                      }),
                  },
                  {
                    key: "changeMic",
                    value: function (e) {
                      this.roomClient.changeMic(e);
                    },
                  },
                  {
                    key: "changeWebcam",
                    value: function (e) {
                      this.roomClient.changeWebcam(e);
                    },
                  },
                  {
                    key: "replaceWebcamStream",
                    value: function (e) {
                      this.roomClient.replaceWebcamStream(e);
                    },
                  },
                  {
                    key: "setWebcamQuality",
                    value: function (e) {
                      this.roomClient.setWebcamQuality(e);
                    },
                  },
                  {
                    key: "startWhiteboard",
                    value: function () {
                      this.roomClient.startWhiteboard();
                    },
                  },
                  {
                    key: "stopWhiteboard",
                    value: function () {
                      this.roomClient.stopWhiteboard();
                    },
                  },
                  {
                    key: "startVideo",
                    value: function (e) {
                      var t = e.link;
                      this.roomClient.startVideo({ link: t });
                    },
                  },
                  {
                    key: "stopVideo",
                    value: function () {
                      this.roomClient.stopVideo();
                    },
                  },
                  {
                    key: "resumeVideo",
                    value: function () {
                      this.roomClient.resumeVideo();
                    },
                  },
                  {
                    key: "refreshConnection",
                    value: function () {
                      this.roomClient.restartIce();
                    },
                  },
                  {
                    key: "pauseVideo",
                    value: function (e) {
                      var t = e.currentTime;
                      this.roomClient.pauseVideo(t);
                    },
                  },
                  {
                    key: "seekVideo",
                    value: function (e) {
                      var t = e.currentTime;
                      this.roomClient.seekVideo(t);
                    },
                  },
                  {
                    key: "handlePeerAdd",
                    value: function (e) {
                      var t = e.peer,
                        r = new ve(t);
                      this.participants.set(r.id, r),
                        this.eventEmitter.emit(Me, r),
                        1 === this.participants.size &&
                          this.updateMainParticipant(r.id);
                    },
                  },
                  {
                    key: "handlePeerRemove",
                    value: function (e) {
                      var t = e.peerId,
                        r = this.participants.get(t);
                      null != r &&
                        (this.participants.delete(t),
                        this.eventEmitter.emit(Ae, r),
                        this.activePresenterId === r.id &&
                          ((this.activePresenterId = null),
                          this.eventEmitter.emit(je, this.activePresenterId)),
                        this.mainParticipantId === r.id &&
                          (this.participants.size > 0
                            ? this.updateMainParticipant(
                                this.participants.entries().next().value[1].id
                              )
                            : this.updateMainParticipant(
                                this.localParticipant.id
                              )));
                    },
                  },
                  {
                    key: "handleProducerAdd",
                    value: function (e) {
                      var t = e.producer,
                        r = new le(t);
                      this.localParticipant.addStream(r),
                        "share" === r.kind &&
                          ((this.activePresenterId = this.localParticipant.id),
                          this.eventEmitter.emit(je, this.activePresenterId),
                          this.updateMainParticipant(this.localParticipant.id));
                    },
                  },
                  {
                    key: "handleUpdateProducer",
                    value: function (e) {
                      var t = e.producer,
                        r = new le(t);
                      this.localParticipant.updateStream(r);
                    },
                  },
                  {
                    key: "handleProducerRemove",
                    value: function (e) {
                      var t = e.producerId,
                        r = this.localParticipant.deleteStream(t);
                      if (r && "share" === r.kind) {
                        (this.activePresenterId = null),
                          this.eventEmitter.emit(je, this.activePresenterId);
                        var n =
                          this.participants.size > 0
                            ? this.participants.entries().next().value[1].id
                            : null;
                        this.updateMainParticipant(
                          this.activeSpeakerId || n || this.localParticipant.id
                        );
                      }
                    },
                  },
                  {
                    key: "handleConsumerAdd",
                    value: function (e) {
                      var t = e.consumer,
                        r = e.peerId,
                        n = this.participants.get(r);
                      if (n) {
                        var a = new le(t);
                        n.addStream(a),
                          this.eventEmitter.emit(nt, a),
                          "share" === a.kind &&
                            ((this.activePresenterId = n.id),
                            this.eventEmitter.emit(je, this.activePresenterId),
                            this.updateMainParticipant(n.id));
                      }
                    },
                  },
                  {
                    key: "handleConsumerRemove",
                    value: function (e) {
                      var t = e.consumerId,
                        r = e.peerId,
                        n = this.participants.get(r);
                      if (null != n && n) {
                        var a = n.deleteStream(t);
                        if (
                          (this.eventEmitter.emit(at, a),
                          a && "share" === a.kind)
                        ) {
                          (this.activePresenterId = null),
                            this.eventEmitter.emit(je, this.activePresenterId);
                          var i =
                            this.participants.size > 0
                              ? this.participants.entries().next().value[1].id
                              : null;
                          this.updateMainParticipant(
                            this.activeSpeakerId ||
                              i ||
                              this.localParticipant.id
                          );
                        }
                      }
                    },
                  },
                  {
                    key: "handleParticipantMediaStateChanged",
                    value: function (e) {
                      var t = e.peerId,
                        r = e.kind,
                        n = e.newState,
                        a = this.participants.get(t);
                      a &&
                        a &&
                        ("audio" == r
                          ? (a.micOn = n)
                          : "video" == r && (a.webcamOn = n),
                        a.updateParticipantMediaState(r, n));
                    },
                  },
                  {
                    key: "handleSpeakerChange",
                    value: function (e) {
                      var t = e.peerId;
                      this.activeSpeakerId !== t &&
                        ((this.activeSpeakerId = t),
                        this.eventEmitter.emit(Ne, t),
                        t &&
                          t !== this.localParticipant.id &&
                          this.activePresenterId !== this.mainParticipantId &&
                          t !== this.mainParticipantId &&
                          this.updateMainParticipant(t));
                    },
                  },
                  {
                    key: "handleNewChatMessage",
                    value: function (e) {
                      var t = e.senderId,
                        r = {
                          senderId: t,
                          text: e.text,
                          timestamp: e.timestamp,
                        };
                      if (this.localParticipant.id === t)
                        r.senderName = this.localParticipant.displayName;
                      else {
                        var n = this.participants.get(t);
                        n && (r.senderName = n.displayName);
                      }
                      this.messages.push(r), this.eventEmitter.emit(Be, r);
                    },
                  },
                  {
                    key: "updateMainParticipant",
                    value: function (e) {
                      this.mainParticipantId = e;
                      var t = null;
                      (t =
                        e === this.localParticipant.id
                          ? this.localParticipant
                          : this.participants.get(this.mainParticipantId)),
                        this.eventEmitter.emit(Fe, t);
                    },
                  },
                  {
                    key: "handleEntryRequested",
                    value: function (e) {
                      var t = this,
                        r = e.id,
                        n = e.name;
                      this.eventEmitter.emit(Ue, {
                        participantId: r,
                        name: n,
                        allow: function () {
                          t.roomClient.respondEntry(r, "allowed");
                        },
                        deny: function () {
                          t.roomClient.respondEntry(r, "denied");
                        },
                      });
                    },
                  },
                  {
                    key: "handleEntryResponded",
                    value: function (e) {
                      var t = e.id,
                        r = e.decision;
                      this.eventEmitter.emit(Ze, t, r);
                    },
                  },
                  {
                    key: "handleMeetingJoined",
                    value: function (e) {
                      var t = e.peers,
                        r = e.poll,
                        n = e.messages,
                        a = e.baseUrl;
                      (this.baseUrl = a),
                        n.length > 0 && (this.messages = n),
                        this.eventEmitter.emit(De, {
                          peers: t,
                          poll: r,
                          messages: n,
                        });
                    },
                  },
                  {
                    key: "handleMeetingLeft",
                    value: function (e) {
                      this.eventEmitter.emit(Ie, e);
                    },
                  },
                  {
                    key: "handleRecordingStateChanged",
                    value: function (e) {
                      (this.recordingState = e.status),
                        this.eventEmitter.emit(He, e);
                    },
                  },
                  {
                    key: "handleLivestreamStateChanged",
                    value: function (e) {
                      (this.livestreamState = e.status),
                        this.eventEmitter.emit(We, e);
                    },
                  },
                  {
                    key: "handleHlsStateChanged",
                    value: function (e) {
                      (this.hlsState = e.status),
                        "HLS_PLAYABLE" == e.status
                          ? (this.hlsUrls = {
                              downstreamUrl: e.downstreamUrl,
                              playbackHlsUrl: e.playbackHlsUrl,
                              livestreamUrl: e.livestreamUrl,
                            })
                          : "HLS_STOPPED" == e.status &&
                            (this.hlsUrls = {
                              downstreamUrl: null,
                              playbackHlsUrl: null,
                              livestreamUrl: null,
                            }),
                        this.eventEmitter.emit(Ke, e);
                    },
                  },
                  {
                    key: "handleRecordingStarted",
                    value: function () {
                      this.eventEmitter.emit(ze);
                    },
                  },
                  {
                    key: "handleRecordingStopped",
                    value: function () {
                      this.eventEmitter.emit(Ve);
                    },
                  },
                  {
                    key: "handleLivestreamStarted",
                    value: function () {
                      this.eventEmitter.emit(Ge);
                    },
                  },
                  {
                    key: "handleLivestreamStopped",
                    value: function () {
                      this.eventEmitter.emit(qe);
                    },
                  },
                  {
                    key: "handleHlsStarted",
                    value: function (e) {
                      this.eventEmitter.emit($e, e);
                    },
                  },
                  {
                    key: "handleHlsStopped",
                    value: function () {
                      this.eventEmitter.emit(Xe);
                    },
                  },
                  {
                    key: "handleWhiteboardStarted",
                    value: function (e) {
                      var t = e.state;
                      this.eventEmitter.emit(Je, t);
                    },
                  },
                  {
                    key: "handleWhiteboardStopped",
                    value: function (e) {
                      !(function (e) {
                        if (null == e)
                          throw new TypeError("Cannot destructure undefined");
                      })(e),
                        this.eventEmitter.emit(Qe);
                    },
                  },
                  {
                    key: "handleVideoStateChanged",
                    value: function (e) {
                      this.eventEmitter.emit(Ye, e);
                    },
                  },
                  {
                    key: "handleVideoSeeked",
                    value: function (e) {
                      var t = e.currentTime;
                      this.eventEmitter.emit(et, { currentTime: t });
                    },
                  },
                  {
                    key: "handlePinStateChanged",
                    value: function (e) {
                      var t = e.peerId,
                        r = e.state,
                        n = e.pinnedBy;
                      this.eventEmitter.emit(it, {
                        participantId: t,
                        state: r,
                        pinnedBy: n,
                      });
                    },
                  },
                  {
                    key: "handleMeetingStateChanged",
                    value: function (e) {
                      var t = e.state;
                      this.eventEmitter.emit(dt, { state: t });
                    },
                  },
                  {
                    key: "handleVideoQualityChanged",
                    value: function (e) {
                      var t = e.peerId,
                        r = e.prevQuality,
                        n = e.currentQuality,
                        a = this.participants.get(t);
                      a && a && a.videoQualityChanged(r, n);
                    },
                  },
                  {
                    key: "handleMicRequested",
                    value: function (e) {
                      var t = this,
                        r = e.peerId;
                      this.eventEmitter.emit(tt, {
                        participantId: r,
                        accept: function () {
                          return t.unmuteMic();
                        },
                        reject: function () {},
                      });
                    },
                  },
                  {
                    key: "handleWebcamRequested",
                    value: function (e) {
                      var t = this,
                        r = e.peerId;
                      this.eventEmitter.emit(rt, {
                        participantId: r,
                        accept: function () {
                          return t.enableWebcam();
                        },
                        reject: function () {},
                      });
                    },
                  },
                  {
                    key: "handleConnectionParticipantJoin",
                    value: function (e) {
                      var t = e.roomId,
                        r = e.peer,
                        n = this.connections.get(t);
                      null != n && n.meeting.participantJoin(r);
                    },
                  },
                  {
                    key: "handleConnectionParticipantLeft",
                    value: function (e) {
                      var t = e.roomId,
                        r = e.peerId,
                        n = this.connections.get(t);
                      null != n && n.meeting.participantLeft(r);
                    },
                  },
                  {
                    key: "handleConnectionOpen",
                    value: function (e) {
                      var t = e.peers,
                        r = e.roomId,
                        n = e.payload,
                        a = new Pe({ roomId: r, peers: t, payload: n });
                      this.connections.set(a.id, a),
                        this.eventEmitter.emit(st, a);
                    },
                  },
                  {
                    key: "handleConnectionClose",
                    value: function (e) {
                      var t = e.roomId;
                      null != this.connections.get(t) &&
                        (this.connections.delete(t),
                        this.eventEmitter.emit(ot, t));
                    },
                  },
                  {
                    key: "handleSwitchMeeting",
                    value: function (e) {
                      var t = e.roomId,
                        r = e.token,
                        n = e.payload,
                        a = e.peerId,
                        i = e.connectionPeerId,
                        s = e.connectionRoomId,
                        o = a
                          ? {
                              meetingId: t,
                              payload: n,
                              token: r,
                              participantId: a,
                            }
                          : {
                              meetingId: t,
                              payload: n,
                              token: r,
                              connectionParticipantId: i,
                              connectionMeetingId: s,
                            };
                      this.eventEmitter.emit(ct, o);
                    },
                  },
                  {
                    key: "handleConnectionChatMessage",
                    value: function (e) {
                      var t = e.roomId,
                        r = e.peerId,
                        n = e.message,
                        a = this.connections.get(t);
                      null != a &&
                        a.meeting.sendChatMessageEvent({
                          participantId: r,
                          message: n,
                        });
                    },
                  },
                  {
                    key: "connectTo",
                    value:
                      ((t = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n;
                          return c().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (r = t.meetingId),
                                      (n = t.payload),
                                      (e.next = 3),
                                      this.roomClient.openConnection({
                                        roomId: r,
                                        payload: n,
                                      })
                                    );
                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e) {
                        return t.apply(this, arguments);
                      }),
                  },
                  {
                    key: "on",
                    value: function (e, t) {
                      switch (e) {
                        case Me:
                        case Ae:
                        case Ne:
                        case je:
                        case Fe:
                        case Be:
                        case Ue:
                        case Ze:
                        case He:
                        case ze:
                        case Ve:
                        case We:
                        case Ge:
                        case qe:
                        case $e:
                        case Xe:
                        case Ke:
                        case nt:
                        case at:
                        case Je:
                        case Qe:
                        case De:
                        case Ie:
                        case Ye:
                        case et:
                        case tt:
                        case rt:
                        case it:
                        case st:
                        case ot:
                        case ct:
                        case dt:
                        case Le:
                        case xe:
                          this.eventEmitter.on(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                  {
                    key: "off",
                    value: function (e, t) {
                      switch (e) {
                        case Me:
                        case Ae:
                        case Ne:
                        case je:
                        case Fe:
                        case Be:
                        case Ue:
                        case Ze:
                        case He:
                        case ze:
                        case Ve:
                        case We:
                        case Ge:
                        case qe:
                        case Ke:
                        case $e:
                        case Xe:
                        case nt:
                        case at:
                        case Je:
                        case Qe:
                        case De:
                        case Ie:
                        case Ye:
                        case et:
                        case tt:
                        case rt:
                        case it:
                        case st:
                        case ot:
                        case ct:
                        case dt:
                        case xe:
                        case Le:
                          this.eventEmitter.off(e, t);
                          break;
                        default:
                          throw new Error("Invalid event type");
                      }
                    },
                  },
                ]),
                e
              );
            })();
          function mt(e) {
            var t = e.topic,
              r = e.message,
              n = e.senderId,
              a = e.timestamp,
              i = e.senderName,
              s = e.id;
            t &&
              r &&
              ae(this, pt).emit(t, {
                message: r,
                senderId: n,
                timestamp: a,
                topic: t,
                senderName: i,
                id: s,
              });
          }
          function ft(e) {
            var t = e.peerId,
              r = e.mode;
            t === this.localParticipant.id
              ? (this.localParticipant.mode = r)
              : (this.participants.get(t).mode = r),
              this.eventEmitter.emit(Le, { participantId: t, mode: r });
          }
          var _t = r(6900),
            gt = r(6380),
            vt = r(3430),
            yt = r(8962),
            bt = (function () {
              var e = (0, n.Z)(
                c().mark(function e(t) {
                  return c().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            void 0 === navigator.mediaDevices &&
                              (navigator.mediaDevices = {}),
                            void 0 === navigator.mediaDevices.getUserMedia &&
                              (navigator.mediaDevices.getUserMedia = function (
                                e
                              ) {
                                var t =
                                  navigator.webkitGetUserMedia ||
                                  navigator.mozGetUserMedia;
                                return t
                                  ? new Promise(function (r, n) {
                                      t.call(navigator, e, r, n);
                                    })
                                  : Promise.reject(
                                      new Error(
                                        "getUserMedia is not implemented in this browser"
                                      )
                                    );
                              }),
                            (e.next = 4),
                            navigator.mediaDevices.getUserMedia(t)
                          );
                        case 4:
                          return e.abrupt("return", e.sent);
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            St = (function () {
              var e = (0, n.Z)(
                c().mark(function e(t) {
                  return c().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            void 0 === navigator.mediaDevices &&
                              (navigator.mediaDevices = {}),
                            void 0 === navigator.mediaDevices.getDisplayMedia &&
                              (navigator.mediaDevices.getDisplayMedia =
                                function (e) {
                                  var t =
                                    navigator.webkitGetDisplayMedia ||
                                    navigator.mozGetDisplayMedia;
                                  return t
                                    ? new Promise(function (r, n) {
                                        t.call(navigator, e, r, n);
                                      })
                                    : Promise.reject(
                                        new Error(
                                          "getDisplayMedia is not implemented in this browser"
                                        )
                                      );
                                }),
                            (e.next = 4),
                            navigator.mediaDevices.getDisplayMedia(t)
                          );
                        case 4:
                          return e.abrupt("return", e.sent);
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })();
          var wt = [T],
            Tt = (function () {
              function e() {
                (0, a.Z)(this, e);
              }
              var t, r, s;
              return (
                (0, i.Z)(e, null, [
                  {
                    key: "config",
                    value: function (e) {
                      if (!e)
                        throw new Error(
                          "'token' is empty, please provide it in config"
                        );
                      this.apiKey = e;
                      var t = v(te, void 0, b.apply(void 0, wt));
                      (window.STORE = t), re.default.init({ store: t });
                    },
                  },
                  {
                    key: "analytics",
                    value: function (e) {
                      var t, r, n, a;
                      !e &&
                        navigator &&
                        navigator.userAgent &&
                        ((n = navigator.userAgent),
                        delete (a = p().parse(n)).engine);
                      try {
                        var i;
                        (null !== (i = e) &&
                          void 0 !== i &&
                          i.browserUserAgent) ||
                          ((n = navigator.userAgent),
                          delete (a = p().parse(n)).engine);
                      } catch (e) {}
                      e &&
                        e.rawUserAgent &&
                        ((n = e.rawUserAgent),
                        delete (a = p().parse(n)).engine),
                        e || (e = {});
                      var s = {};
                      (s.sdkType = e.sdkType || "javascript"),
                        (s.sdkVersion = e.sdkVersion || "0.0.63"),
                        (s.platform =
                          e.platform ||
                          (null === (t = a) ||
                          void 0 === t ||
                          null === (r = t.platform) ||
                          void 0 === r
                            ? void 0
                            : r.type) ||
                          ""),
                        "null" == e.browserUserAgent
                          ? (s.browserUserAgent = void 0)
                          : (s.browserUserAgent = a),
                        e.deviceUserAgent &&
                          (s.deviceUserAgent = e.deviceUserAgent),
                        (this._deviceInfo = s);
                    },
                  },
                  {
                    key: "initMeeting",
                    value: function (e) {
                      var t,
                        r = e.meetingId,
                        n = e.customCameraVideoTrack,
                        a = void 0 === n ? void 0 : n,
                        i = e.customMicrophoneAudioTrack,
                        s = void 0 === i ? void 0 : i,
                        o = e.autoConsume,
                        c = void 0 === o || o,
                        d = e.preferredProtocol,
                        p = e.mode,
                        l = e.multiStream,
                        u = void 0 === l || l,
                        h = e.participantId,
                        m = e.name,
                        f = e.micEnabled,
                        _ = e.webcamEnabled,
                        g = e.maxResolution,
                        v = e.chatEnabled,
                        y = e.useSpartialLayerAnalytics;
                      if (!r)
                        throw new Error(
                          "'meetingId' is empty, please verify it or generate new meetingId using the API."
                        );
                      var b = h || R()({ length: 8 }).toLowerCase(),
                        S = m || R()({ length: 6 }).toLowerCase();
                      switch (
                        (this._deviceInfo || this.analytics(),
                        "string" != typeof d && (d = "UDP_ONLY"),
                        null === (t = d) || void 0 === t
                          ? void 0
                          : t.toUpperCase())
                      ) {
                        case "UDP_ONLY":
                        case "UDP_OVER_TCP":
                          d = d.toUpperCase();
                          break;
                        default:
                          d = "UDP_ONLY";
                      }
                      if (
                        (p || (p = vt.S.CONFERENCE),
                        p !== vt.S.CONFERENCE && p !== vt.S.VIEWER)
                      )
                        throw new Error(
                          '"mode" can only be either '
                            .concat(vt.S.CONFERENCE, " or ")
                            .concat(vt.S.VIEWER)
                        );
                      var w = new re.default({
                        roomId: r,
                        peerId: b,
                        secret: this.apiKey,
                        device: "unknown",
                        displayName: S,
                        mode: p,
                        useSimulcast: u,
                        produce: !0,
                        consume: !0,
                        useSharingSimulcast: !0,
                        datachannel: !1 !== v,
                        micEnabled: !1 !== f,
                        webcamEnabled: !1 !== _,
                        maxResolution: g || "hd",
                        useSpartialLayerAnalytics: y,
                        _deviceInfo: this._deviceInfo,
                        customCameraVideoTrack: a,
                        customMicrophoneAudioTrack: s,
                        autoConsume: c,
                        preferredProtocol: d,
                      });
                      pe.roomClient = w;
                      var T = new ve({
                        id: b,
                        displayName: S,
                        local: !0,
                        mode: p,
                      });
                      return new ht(r, T, w);
                    },
                  },
                  {
                    key: "createCameraVideoTrack",
                    value:
                      ((s = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n, a, i, s, o, d, p, l, u, h, m, f;
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (r = t.cameraId),
                                    (n = void 0 === r ? void 0 : r),
                                    (a = t.encoderConfig),
                                    (i = void 0 === a ? void 0 : a),
                                    (s = t.facingMode),
                                    (o = void 0 === s ? void 0 : s),
                                    (d = t.optimizationMode),
                                    (p = void 0 === d ? void 0 : d),
                                    (l = t.multiStream),
                                    (u = void 0 === l || l),
                                    (h = i
                                      ? yt.v.videoProfiles[i]
                                      : yt.v.videoProfiles.h360p_w640p),
                                    (m = {
                                      video: {
                                        deviceId: n || void 0,
                                        facingMode: o || void 0,
                                        width: h.width,
                                        height: h.height,
                                        frameRate: h.frameRate,
                                      },
                                    }),
                                    (e.next = 5),
                                    bt(m)
                                  );
                                case 5:
                                  return (
                                    (f = e.sent),
                                    p && (f.contentHint = p),
                                    (f.encoderConfig = i || "h360p_w640p"),
                                    (f.contentHint = p || ""),
                                    (f.multiStream = u),
                                    e.abrupt("return", f)
                                  );
                                case 11:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e) {
                        return s.apply(this, arguments);
                      }),
                  },
                  {
                    key: "createScreenShareVideoTrack",
                    value:
                      ((r = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n, a, i, s, o, d, p, l;
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (r = t.encoderConfig),
                                    (n = void 0 === r ? void 0 : r),
                                    (a = t.optimizationMode),
                                    (i = void 0 === a ? void 0 : a),
                                    (s = t.withAudio),
                                    (o = void 0 === s ? "enable" : s),
                                    (d = n
                                      ? yt.v.screenShareProfiles[n]
                                      : yt.v.screenShareProfiles.h720p_15fps),
                                    (p = {
                                      audio: "enable" === o,
                                      video: {
                                        width: d.width,
                                        height: d.height,
                                        frameRate: d.frameRate,
                                      },
                                    }),
                                    (e.next = 5),
                                    St(p)
                                  );
                                case 5:
                                  return (
                                    (l = e.sent),
                                    i && (l.contentHint = i),
                                    e.abrupt("return", l)
                                  );
                                case 8:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e) {
                        return r.apply(this, arguments);
                      }),
                  },
                  {
                    key: "createMicrophoneAudioTrack",
                    value:
                      ((t = (0, n.Z)(
                        c().mark(function e(t) {
                          var r, n, a, i, s, o, d, p, l;
                          return c().wrap(function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (r = t.noiseConfig),
                                    (n = void 0 === r ? void 0 : r),
                                    (a = t.encoderConfig),
                                    (i = void 0 === a ? void 0 : a),
                                    (s = t.microphoneId),
                                    (o = void 0 === s ? void 0 : s),
                                    (d = i
                                      ? yt.v.audioProfiles[i]
                                      : yt.v.audioProfiles.speech_standard),
                                    (p = {
                                      audio: {
                                        deviceId: o,
                                        sampleRate: d.sampleRate,
                                        echoCancellation: n
                                          ? n && n.acousticEchoCancellation
                                          : d.echoCancellation,
                                        autoGainControl: n
                                          ? n && n.autoGainControl
                                          : d.autoGainControl,
                                        noiseSuppression: n
                                          ? n && n.noiseSuppression
                                          : d.noiseSuppression,
                                        channelCount: d.channelCount,
                                      },
                                    }),
                                    (e.next = 5),
                                    bt(p)
                                  );
                                case 5:
                                  return (
                                    ((l = e.sent).encoderConfig =
                                      i || "speech_standard"),
                                    e.abrupt("return", l)
                                  );
                                case 8:
                                case "end":
                                  return e.stop();
                              }
                          }, e);
                        })
                      )),
                      function (e) {
                        return t.apply(this, arguments);
                      }),
                  },
                ]),
                e
              );
            })();
          (0, s.Z)(Tt, "Constants", {
            errors: _t.R,
            recordingEvents: {
              RECORDING_STARTING: "RECORDING_STARTING",
              RECORDING_STARTED: "RECORDING_STARTED",
              RECORDING_STOPPING: "RECORDING_STOPPING",
              RECORDING_STOPPED: "RECORDING_STOPPED",
            },
            livestreamEvents: {
              LIVESTREAM_STARTING: "LIVESTREAM_STARTING",
              LIVESTREAM_STARTED: "LIVESTREAM_STARTED",
              LIVESTREAM_STOPPING: "LIVESTREAM_STOPPING",
              LIVESTREAM_STOPPED: "LIVESTREAM_STOPPED",
            },
            hlsEvents: gt.o,
            modes: vt.S,
          });
          var Et = Tt;
        },
        8922: (e, t, r) => {
          "use strict";
          function n(e) {
            return (
              (n =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        "function" == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? "symbol"
                        : typeof e;
                    }),
              n(e)
            );
          }
          r.r(t), r.d(t, { default: () => Ei });
          var a = r(5861),
            i = r(5671),
            s = r(3144),
            o = r(4942),
            c = r(7757),
            d = r.n(c),
            p = r(9293),
            l = r(960),
            u = r(1227),
            h = r.n(u),
            m = "mediasoup-demo",
            f = (function () {
              function e(t) {
                (0, i.Z)(this, e),
                  t
                    ? ((this._debug = h()("".concat(m, ":").concat(t))),
                      (this._warn = h()("".concat(m, ":WARN:").concat(t))),
                      (this._error = h()("".concat(m, ":ERROR:").concat(t))))
                    : ((this._debug = h()(m)),
                      (this._warn = h()("".concat(m, ":WARN"))),
                      (this._error = h()("".concat(m, ":ERROR")))),
                  (this._debug.log = console.info.bind(console)),
                  (this._warn.log = console.warn.bind(console)),
                  (this._error.log = console.error.bind(console));
              }
              return (
                (0, s.Z)(e, [
                  {
                    key: "debug",
                    get: function () {
                      return this._debug;
                    },
                  },
                  {
                    key: "warn",
                    get: function () {
                      return this._warn;
                    },
                  },
                  {
                    key: "error",
                    get: function () {
                      return this._error;
                    },
                  },
                ]),
                e
              );
            })(),
            _ = r(1354),
            g = _.enc.Latin1.parse(
              "6gf9Oz5Y(6fOWPP@3XPv0Mwp51yfJ0HiZW^0*!9NdUuZ*VdKmRC@f))&^!Iriw)q"
            ),
            v = _.enc.Latin1.parse("BHrabik^$W^y*HL@A*$4YKj(");
          function y(e) {
            return b.apply(this, arguments);
          }
          function b() {
            return (b = (0, a.Z)(
              d().mark(function e(t) {
                var r, n, a, i, s, o, c, p, l, u, h;
                return d().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (
                          (r = t.roomId),
                          (n = t.secret),
                          (a = "call-api.videosdk.live"),
                          (i = []),
                          (s = null),
                          (o = {}),
                          (c = {}),
                          (p = {}),
                          (e.next = 9),
                          fetch(
                            "https://api.videosdk.live/infra/v1/meetings/init-config",
                            {
                              method: "POST",
                              headers: {
                                Authorization: n,
                                "Content-Type": "application/json",
                              },
                              body: JSON.stringify({ roomId: r }),
                            }
                          )
                            .then(function (e) {
                              return e.json();
                            })
                            .catch(function (e) {
                              return {};
                            })
                        );
                      case 9:
                        return (
                          (l = e.sent),
                          (u = l.data) &&
                            ((a = u.baseUrl),
                            (h = u.observability),
                            (i = S(u.iceServers)),
                            (s = h.jwt),
                            (o = h.traces),
                            (c = h.logs),
                            (p = h.metaData)),
                          e.abrupt("return", {
                            baseUrl: a,
                            iceServers: i,
                            observabilityJwt: s,
                            traces: o,
                            logs: c,
                            metaData: p,
                          })
                        );
                      case 13:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            )).apply(this, arguments);
          }
          function S(e) {
            try {
              var t = _.AES.decrypt(e, g, {
                iv: v,
                mode: _.mode.CBC,
                padding: _.pad.ZeroPadding,
              }).toString(_.enc.Utf8);
              return JSON.parse(t);
            } catch (e) {
              return [];
            }
          }
          var w = r(6808),
            T = r.n(w),
            E = "mediasoup-demo.user",
            R = "mediasoup-demo.devices";
          function P(e) {
            var t = e.displayName;
            T().set(E, { displayName: t });
          }
          function C() {
            return T().getJSON(R);
          }
          var k = r(3196),
            O = r.n(k),
            x = function (e) {
              return { type: "SET_ROOM_STATE", payload: { state: e } };
            },
            D = function (e) {
              return {
                type: "SET_ROOM_ACTIVE_SPEAKER",
                payload: { peerId: e },
              };
            },
            I = function (e) {
              return { type: "SET_ROOM_STATS_PEER_ID", payload: { peerId: e } };
            },
            L = function (e) {
              return {
                type: "SET_MEDIA_CAPABILITIES",
                payload: {
                  canSendMic: e.canSendMic,
                  canSendWebcam: e.canSendWebcam,
                },
              };
            },
            M = function (e) {
              return { type: "SET_CAN_CHANGE_WEBCAM", payload: e };
            },
            A = function (e) {
              return { type: "SET_DISPLAY_NAME", payload: { displayName: e } };
            },
            N = function (e) {
              return { type: "SET_AUDIO_ONLY_STATE", payload: { enabled: e } };
            },
            j = function (e) {
              return {
                type: "SET_AUDIO_ONLY_IN_PROGRESS",
                payload: { flag: e },
              };
            },
            F = function (e) {
              return { type: "SET_AUDIO_MUTED_STATE", payload: { enabled: e } };
            },
            B = function (e) {
              return {
                type: "SET_RESTART_ICE_IN_PROGRESS",
                payload: { flag: e },
              };
            },
            U = function (e) {
              return { type: "ADD_PRODUCER", payload: { producer: e } };
            },
            Z = function (e) {
              return { type: "REMOVE_PRODUCER", payload: { producerId: e } };
            },
            H = function (e, t) {
              return {
                type: "SET_PRODUCER_TRACK",
                payload: { producerId: e, track: t },
              };
            },
            z = function (e, t) {
              return {
                type: "SET_PRODUCER_SCORE",
                payload: { producerId: e, score: t },
              };
            },
            V = function (e) {
              return {
                type: "ADD_DATA_PRODUCER",
                payload: { dataProducer: e },
              };
            },
            W = function (e) {
              return { type: "SET_WEBCAM_IN_PROGRESS", payload: { flag: e } };
            },
            G = function (e) {
              return { type: "SET_SHARE_IN_PROGRESS", payload: { flag: e } };
            },
            q = function (e) {
              return { type: "ADD_PEER", payload: { peer: e } };
            },
            K = function (e) {
              return { type: "REMOVE_PEER", payload: { peerId: e } };
            },
            $ = function (e, t) {
              return {
                type: "SET_PEER_DISPLAY_NAME",
                payload: { displayName: e, peerId: t },
              };
            },
            X = function (e, t) {
              return {
                type: "ADD_CONSUMER",
                payload: { consumer: e, peerId: t },
              };
            },
            J = function (e, t) {
              return {
                type: "REMOVE_CONSUMER",
                payload: { consumerId: e, peerId: t },
              };
            },
            Q = function (e, t) {
              return {
                type: "SET_CONSUMER_PAUSED",
                payload: { consumerId: e, originator: t },
              };
            },
            Y = function (e, t) {
              return {
                type: "SET_CONSUMER_RESUMED",
                payload: { consumerId: e, originator: t },
              };
            },
            ee = function (e, t, r) {
              return {
                type: "SET_CONSUMER_CURRENT_LAYERS",
                payload: { consumerId: e, spatialLayer: t, temporalLayer: r },
              };
            },
            te = function (e, t, r) {
              return {
                type: "SET_CONSUMER_PREFERRED_LAYERS",
                payload: { consumerId: e, spatialLayer: t, temporalLayer: r },
              };
            },
            re = function (e, t) {
              return {
                type: "SET_CONSUMER_PRIORITY",
                payload: { consumerId: e, priority: t },
              };
            },
            ne = function (e, t) {
              return {
                type: "SET_CONSUMER_SCORE",
                payload: { consumerId: e, score: t },
              };
            },
            ae = function (e, t) {
              return {
                type: "ADD_DATA_CONSUMER",
                payload: { dataConsumer: e, peerId: t },
              };
            },
            ie = function (e, t) {
              return {
                type: "REMOVE_DATA_CONSUMER",
                payload: { dataConsumerId: e, peerId: t },
              };
            },
            se = function (e) {
              var t = e.type,
                r = void 0 === t ? "info" : t,
                n = e.text,
                a = e.title,
                i = e.timeout;
              if (!i)
                switch (r) {
                  case "info":
                    i = 3e3;
                    break;
                  case "error":
                    i = 5e3;
                }
              var s = {
                id: O()({ length: 6 }).toLowerCase(),
                type: r,
                title: a,
                text: n,
                timeout: i,
              };
              return function (e) {
                e(
                  (function (e) {
                    return {
                      type: "ADD_NOTIFICATION",
                      payload: { notification: e },
                    };
                  })(s)
                ),
                  setTimeout(function () {
                    e({
                      type: "REMOVE_NOTIFICATION",
                      payload: { notificationId: s.id },
                    });
                  }, i);
              };
            },
            oe = r(7187),
            ce = r(885),
            de = r(8962),
            pe = {},
            le = {},
            ue = {};
          for (var he in de.v.videoProfiles)
            "oneSixNine" == de.v.videoProfiles[he].aspectRatio &&
              ((pe[he] = de.v.videoProfiles[he]),
              (pe[he].encoding = {
                maxBitrate: pe[he].bitRate,
                maxFramerate: pe[he].frameRate,
              })),
              "fourThree" == de.v.videoProfiles[he].aspectRatio &&
                ((le[he] = de.v.videoProfiles[he]),
                (le[he].encoding = {
                  maxBitrate: le[he].bitRate,
                  maxFramerate: le[he].frameRate,
                }));
          for (var he in de.v.screenShareProfiles)
            (ue[he] = de.v.screenShareProfiles[he]),
              (ue[he].encoding = {
                maxBitrate: ue[he].bitRate,
                maxFramerate: ue[he].frameRate,
              });
          var me = Object.values(pe),
            fe = Object.values(le),
            _e = Object.values(ue),
            ge = [pe.h180p_w320p, pe.h360p_w640p],
            ve = [le.h180p_w240p, le.h360p_w480p],
            ye = ["q", "h", "f"];
          function be(e, t, r, n) {
            var a = n && n.videoEncoding;
            e && (a = n && n.screenShareEncoding);
            var i = null == n ? void 0 : n.simulcast;
            if (
              (a ||
                (a = (function (e, t, r) {
                  for (
                    var n = (function (e, t, r) {
                        if (e) return _e;
                        var n = t > r ? t / r : r / t;
                        if (Math.abs(n - 16 / 9) < Math.abs(n - 4 / 3))
                          return me;
                        return fe;
                      })(e, t, r),
                      a = n[0].encoding,
                      i = Math.max(t, r),
                      s = 0;
                    s < n.length;
                    s += 1
                  ) {
                    var o = n[s];
                    if (((a = o.encoding), o.width >= i)) break;
                  }
                  return a;
                })(e, t, r)),
              !i)
            )
              return [a];
            var s,
              o = {
                width: t,
                height: r,
                encoding: {
                  maxBitrate: a.maxBitrate,
                  maxFramerate: a.maxFramerate,
                },
              },
              c = [],
              d = (c = Se(e, o))[0];
            if (c.length > 1) {
              var p = c;
              s = (0, ce.Z)(p, 2)[1];
            }
            var l = Math.max(t, r);
            return we(
              t,
              r,
              l >= 960 && s ? [d, s, o] : l >= 480 ? [d, o] : [o]
            );
          }
          function Se(e, t) {
            if (e)
              (r = t),
                [{ scaleResolutionDownBy: 2, fps: 3 }].map(function (e) {
                  var t;
                  return {
                    width: Math.floor(r.width / e.scaleResolutionDownBy),
                    height: Math.floor(r.height / e.scaleResolutionDownBy),
                    encodings: {
                      maxBitrate: Math.max(
                        15e4,
                        Math.floor(
                          r.encoding.maxBitrate /
                            (Math.pow(e.scaleResolutionDownBy, 2) *
                              ((null !== (t = r.encoding.maxFramerate) &&
                              void 0 !== t
                                ? t
                                : 30) /
                                e.fps))
                        )
                      ),
                      maxFramerate: e.fps,
                    },
                  };
                });
            var r,
              n = t.width,
              a = t.height,
              i = n > a ? n / a : a / n;
            return Math.abs(i - 16 / 9) < Math.abs(i - 4 / 3) ? ge : ve;
          }
          function we(e, t, r) {
            var n = [];
            return (
              r.forEach(function (r, a) {
                if (!(a >= ye.length)) {
                  var i = Math.min(e, t),
                    s = {
                      rid: ye[a],
                      scaleResolutionDownBy: i / Math.min(r.width, r.height),
                      maxBitrate: r.encoding.maxBitrate,
                      maxFramerate: r.encoding.maxFramerate,
                    };
                  n.push(s);
                }
              }),
              n
            );
          }
          function Te(e, t, r) {
            if (!e) return {};
            var n = e.id,
              a =
                (e.preferredSpatialLayer, e.preferredTemporalLayer, e.appData),
              i = a.width,
              s = a.height,
              o = a.encodings;
            try {
              var c = (function (e) {
                var t = [];
                if (e && 0 != e.length) {
                  if (1 === e.length) {
                    for (var r = 0; r < 3; r++) t.push(Math.pow(2, 3 - r - 1));
                    return t;
                  }
                  var n = !1;
                  return (
                    e.forEach(function (e) {
                      void 0 !== e.scaleResolutionDownBy
                        ? ((n = !0),
                          t.push(Math.max(1, e.scaleResolutionDownBy)))
                        : t.push(1);
                    }),
                    n ||
                      e.forEach(function (r, n) {
                        t[n] = Math.pow(2, e.length - n - 1);
                      }),
                    t
                  );
                }
              })(o);
              if (!c) return {};
              for (
                var d = Math.min(
                    Math.max(de.v.adaptiveScalingFactor || 0.75, 0.5),
                    1
                  ),
                  p = 0,
                  l = 0;
                l < c.length;
                l++
              ) {
                var u = (d * i) / c[l],
                  h = (d * s) / c[l];
                if (!(t >= u && r >= h)) break;
                p = l;
              }
              var m = (e.temporalLayers ? e.temporalLayers : 3) - 1;
              if (0 === p && m > 0) {
                var f = i / c[0],
                  _ = s / c[0];
                t < 0.5 * f && r < 0.5 * _ && (m -= 1),
                  m > 0 && t < 0.25 * f && r < 0.25 * _ && (m -= 1);
              }
              return {
                consumerId: n,
                newPreferredSpatialLayer: p,
                newPreferredTemporalLayer: m,
              };
            } catch (e) {
              return {};
            }
          }
          var Ee = r(6900),
            Re = r(710),
            Pe = r(4180),
            Ce = r(3430),
            ke = r(6380),
            Oe =
              "object" == typeof globalThis
                ? globalThis
                : "object" == typeof self
                ? self
                : "object" == typeof window
                ? window
                : "object" == typeof r.g
                ? r.g
                : {},
            xe = "1.4.1",
            De = /^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;
          var Ie = (function (e) {
              var t = new Set([e]),
                r = new Set(),
                n = e.match(De);
              if (!n)
                return function () {
                  return !1;
                };
              var a = +n[1],
                i = +n[2],
                s = +n[3];
              if (null != n[4])
                return function (t) {
                  return t === e;
                };
              function o(e) {
                return r.add(e), !1;
              }
              function c(e) {
                return t.add(e), !0;
              }
              return function (e) {
                if (t.has(e)) return !0;
                if (r.has(e)) return !1;
                var n = e.match(De);
                if (!n) return o(e);
                var d = +n[1],
                  p = +n[2],
                  l = +n[3];
                return null != n[4] || a !== d
                  ? o(e)
                  : 0 === a
                  ? i === p && s <= l
                    ? c(e)
                    : o(e)
                  : i <= p
                  ? c(e)
                  : o(e);
              };
            })(xe),
            Le = xe.split(".")[0],
            Me = Symbol.for("opentelemetry.js.api." + Le),
            Ae = Oe;
          function Ne(e, t, r, n) {
            var a;
            void 0 === n && (n = !1);
            var i = (Ae[Me] =
              null !== (a = Ae[Me]) && void 0 !== a ? a : { version: xe });
            if (!n && i[e]) {
              var s = new Error(
                "@opentelemetry/api: Attempted duplicate registration of API: " +
                  e
              );
              return r.error(s.stack || s.message), !1;
            }
            if (i.version !== xe) {
              s = new Error(
                "@opentelemetry/api: Registration of version v" +
                  i.version +
                  " for " +
                  e +
                  " does not match previously registered API v" +
                  xe
              );
              return r.error(s.stack || s.message), !1;
            }
            return (
              (i[e] = t),
              r.debug(
                "@opentelemetry/api: Registered a global for " +
                  e +
                  " v" +
                  "1.4.1."
              ),
              !0
            );
          }
          function je(e) {
            var t,
              r,
              n = null === (t = Ae[Me]) || void 0 === t ? void 0 : t.version;
            if (n && Ie(n))
              return null === (r = Ae[Me]) || void 0 === r ? void 0 : r[e];
          }
          function Fe(e, t) {
            t.debug(
              "@opentelemetry/api: Unregistering a global for " +
                e +
                " v" +
                "1.4.1."
            );
            var r = Ae[Me];
            r && delete r[e];
          }
          var Be,
            Ue = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            Ze = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            He = (function () {
              function e(e) {
                this._namespace = e.namespace || "DiagComponentLogger";
              }
              return (
                (e.prototype.debug = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return ze("debug", this._namespace, e);
                }),
                (e.prototype.error = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return ze("error", this._namespace, e);
                }),
                (e.prototype.info = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return ze("info", this._namespace, e);
                }),
                (e.prototype.warn = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return ze("warn", this._namespace, e);
                }),
                (e.prototype.verbose = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return ze("verbose", this._namespace, e);
                }),
                e
              );
            })();
          function ze(e, t, r) {
            var n = je("diag");
            if (n) return r.unshift(t), n[e].apply(n, Ze([], Ue(r), !1));
          }
          !(function (e) {
            (e[(e.NONE = 0)] = "NONE"),
              (e[(e.ERROR = 30)] = "ERROR"),
              (e[(e.WARN = 50)] = "WARN"),
              (e[(e.INFO = 60)] = "INFO"),
              (e[(e.DEBUG = 70)] = "DEBUG"),
              (e[(e.VERBOSE = 80)] = "VERBOSE"),
              (e[(e.ALL = 9999)] = "ALL");
          })(Be || (Be = {}));
          var Ve = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            We = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            Ge = (function () {
              function e() {
                function e(e) {
                  return function () {
                    for (var t = [], r = 0; r < arguments.length; r++)
                      t[r] = arguments[r];
                    var n = je("diag");
                    if (n) return n[e].apply(n, We([], Ve(t), !1));
                  };
                }
                var t = this;
                (t.setLogger = function (e, r) {
                  var n, a, i;
                  if ((void 0 === r && (r = { logLevel: Be.INFO }), e === t)) {
                    var s = new Error(
                      "Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation"
                    );
                    return (
                      t.error(
                        null !== (n = s.stack) && void 0 !== n ? n : s.message
                      ),
                      !1
                    );
                  }
                  "number" == typeof r && (r = { logLevel: r });
                  var o = je("diag"),
                    c = (function (e, t) {
                      function r(r, n) {
                        var a = t[r];
                        return "function" == typeof a && e >= n
                          ? a.bind(t)
                          : function () {};
                      }
                      return (
                        e < Be.NONE
                          ? (e = Be.NONE)
                          : e > Be.ALL && (e = Be.ALL),
                        (t = t || {}),
                        {
                          error: r("error", Be.ERROR),
                          warn: r("warn", Be.WARN),
                          info: r("info", Be.INFO),
                          debug: r("debug", Be.DEBUG),
                          verbose: r("verbose", Be.VERBOSE),
                        }
                      );
                    })(
                      null !== (a = r.logLevel) && void 0 !== a ? a : Be.INFO,
                      e
                    );
                  if (o && !r.suppressOverrideMessage) {
                    var d =
                      null !== (i = new Error().stack) && void 0 !== i
                        ? i
                        : "<failed to generate stacktrace>";
                    o.warn("Current logger will be overwritten from " + d),
                      c.warn(
                        "Current logger will overwrite one already registered from " +
                          d
                      );
                  }
                  return Ne("diag", c, t, !0);
                }),
                  (t.disable = function () {
                    Fe("diag", t);
                  }),
                  (t.createComponentLogger = function (e) {
                    return new He(e);
                  }),
                  (t.verbose = e("verbose")),
                  (t.debug = e("debug")),
                  (t.info = e("info")),
                  (t.warn = e("warn")),
                  (t.error = e("error"));
              }
              return (
                (e.instance = function () {
                  return (
                    this._instance || (this._instance = new e()), this._instance
                  );
                }),
                e
              );
            })(),
            qe = Ge.instance();
          function Ke(e) {
            return Symbol.for(e);
          }
          var $e,
            Xe = function e(t) {
              var r = this;
              (r._currentContext = t ? new Map(t) : new Map()),
                (r.getValue = function (e) {
                  return r._currentContext.get(e);
                }),
                (r.setValue = function (t, n) {
                  var a = new e(r._currentContext);
                  return a._currentContext.set(t, n), a;
                }),
                (r.deleteValue = function (t) {
                  var n = new e(r._currentContext);
                  return n._currentContext.delete(t), n;
                });
            },
            Je = new Xe(),
            Qe = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            Ye = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            et = (function () {
              function e() {}
              return (
                (e.prototype.active = function () {
                  return Je;
                }),
                (e.prototype.with = function (e, t, r) {
                  for (var n = [], a = 3; a < arguments.length; a++)
                    n[a - 3] = arguments[a];
                  return t.call.apply(t, Ye([r], Qe(n), !1));
                }),
                (e.prototype.bind = function (e, t) {
                  return t;
                }),
                (e.prototype.enable = function () {
                  return this;
                }),
                (e.prototype.disable = function () {
                  return this;
                }),
                e
              );
            })(),
            tt = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            rt = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            nt = "context",
            at = new et(),
            it = (function () {
              function e() {}
              return (
                (e.getInstance = function () {
                  return (
                    this._instance || (this._instance = new e()), this._instance
                  );
                }),
                (e.prototype.setGlobalContextManager = function (e) {
                  return Ne(nt, e, Ge.instance());
                }),
                (e.prototype.active = function () {
                  return this._getContextManager().active();
                }),
                (e.prototype.with = function (e, t, r) {
                  for (var n, a = [], i = 3; i < arguments.length; i++)
                    a[i - 3] = arguments[i];
                  return (n = this._getContextManager()).with.apply(
                    n,
                    rt([e, t, r], tt(a), !1)
                  );
                }),
                (e.prototype.bind = function (e, t) {
                  return this._getContextManager().bind(e, t);
                }),
                (e.prototype._getContextManager = function () {
                  return je(nt) || at;
                }),
                (e.prototype.disable = function () {
                  this._getContextManager().disable(), Fe(nt, Ge.instance());
                }),
                e
              );
            })();
          !(function (e) {
            (e[(e.NONE = 0)] = "NONE"), (e[(e.SAMPLED = 1)] = "SAMPLED");
          })($e || ($e = {}));
          var st = "0000000000000000",
            ot = "00000000000000000000000000000000",
            ct = { traceId: ot, spanId: st, traceFlags: $e.NONE },
            dt = (function () {
              function e(e) {
                void 0 === e && (e = ct), (this._spanContext = e);
              }
              return (
                (e.prototype.spanContext = function () {
                  return this._spanContext;
                }),
                (e.prototype.setAttribute = function (e, t) {
                  return this;
                }),
                (e.prototype.setAttributes = function (e) {
                  return this;
                }),
                (e.prototype.addEvent = function (e, t) {
                  return this;
                }),
                (e.prototype.setStatus = function (e) {
                  return this;
                }),
                (e.prototype.updateName = function (e) {
                  return this;
                }),
                (e.prototype.end = function (e) {}),
                (e.prototype.isRecording = function () {
                  return !1;
                }),
                (e.prototype.recordException = function (e, t) {}),
                e
              );
            })(),
            pt = Ke("OpenTelemetry Context Key SPAN");
          function lt(e) {
            return e.getValue(pt) || void 0;
          }
          function ut() {
            return lt(it.getInstance().active());
          }
          function ht(e, t) {
            return e.setValue(pt, t);
          }
          function mt(e) {
            return e.deleteValue(pt);
          }
          function ft(e, t) {
            return ht(e, new dt(t));
          }
          function _t(e) {
            var t;
            return null === (t = lt(e)) || void 0 === t
              ? void 0
              : t.spanContext();
          }
          var gt = /^([0-9a-f]{32})$/i,
            vt = /^[0-9a-f]{16}$/i;
          function yt(e) {
            return gt.test(e) && e !== ot;
          }
          function bt(e) {
            return yt(e.traceId) && ((t = e.spanId), vt.test(t) && t !== st);
            var t;
          }
          function St(e) {
            return new dt(e);
          }
          var wt = it.getInstance(),
            Tt = (function () {
              function e() {}
              return (
                (e.prototype.startSpan = function (e, t, r) {
                  if (
                    (void 0 === r && (r = wt.active()),
                    Boolean(null == t ? void 0 : t.root))
                  )
                    return new dt();
                  var n,
                    a = r && _t(r);
                  return "object" == typeof (n = a) &&
                    "string" == typeof n.spanId &&
                    "string" == typeof n.traceId &&
                    "number" == typeof n.traceFlags &&
                    bt(a)
                    ? new dt(a)
                    : new dt();
                }),
                (e.prototype.startActiveSpan = function (e, t, r, n) {
                  var a, i, s;
                  if (!(arguments.length < 2)) {
                    2 === arguments.length
                      ? (s = t)
                      : 3 === arguments.length
                      ? ((a = t), (s = r))
                      : ((a = t), (i = r), (s = n));
                    var o = null != i ? i : wt.active(),
                      c = this.startSpan(e, a, o),
                      d = ht(o, c);
                    return wt.with(d, s, void 0, c);
                  }
                }),
                e
              );
            })();
          var Et = new Tt(),
            Rt = (function () {
              function e(e, t, r, n) {
                (this._provider = e),
                  (this.name = t),
                  (this.version = r),
                  (this.options = n);
              }
              return (
                (e.prototype.startSpan = function (e, t, r) {
                  return this._getTracer().startSpan(e, t, r);
                }),
                (e.prototype.startActiveSpan = function (e, t, r, n) {
                  var a = this._getTracer();
                  return Reflect.apply(a.startActiveSpan, a, arguments);
                }),
                (e.prototype._getTracer = function () {
                  if (this._delegate) return this._delegate;
                  var e = this._provider.getDelegateTracer(
                    this.name,
                    this.version,
                    this.options
                  );
                  return e ? ((this._delegate = e), this._delegate) : Et;
                }),
                e
              );
            })(),
            Pt = new ((function () {
              function e() {}
              return (
                (e.prototype.getTracer = function (e, t, r) {
                  return new Tt();
                }),
                e
              );
            })())(),
            Ct = (function () {
              function e() {}
              return (
                (e.prototype.getTracer = function (e, t, r) {
                  var n;
                  return null !== (n = this.getDelegateTracer(e, t, r)) &&
                    void 0 !== n
                    ? n
                    : new Rt(this, e, t, r);
                }),
                (e.prototype.getDelegate = function () {
                  var e;
                  return null !== (e = this._delegate) && void 0 !== e ? e : Pt;
                }),
                (e.prototype.setDelegate = function (e) {
                  this._delegate = e;
                }),
                (e.prototype.getDelegateTracer = function (e, t, r) {
                  var n;
                  return null === (n = this._delegate) || void 0 === n
                    ? void 0
                    : n.getTracer(e, t, r);
                }),
                e
              );
            })(),
            kt = "trace",
            Ot = (function () {
              function e() {
                (this._proxyTracerProvider = new Ct()),
                  (this.wrapSpanContext = St),
                  (this.isSpanContextValid = bt),
                  (this.deleteSpan = mt),
                  (this.getSpan = lt),
                  (this.getActiveSpan = ut),
                  (this.getSpanContext = _t),
                  (this.setSpan = ht),
                  (this.setSpanContext = ft);
              }
              return (
                (e.getInstance = function () {
                  return (
                    this._instance || (this._instance = new e()), this._instance
                  );
                }),
                (e.prototype.setGlobalTracerProvider = function (e) {
                  var t = Ne(kt, this._proxyTracerProvider, Ge.instance());
                  return t && this._proxyTracerProvider.setDelegate(e), t;
                }),
                (e.prototype.getTracerProvider = function () {
                  return je(kt) || this._proxyTracerProvider;
                }),
                (e.prototype.getTracer = function (e, t) {
                  return this.getTracerProvider().getTracer(e, t);
                }),
                (e.prototype.disable = function () {
                  Fe(kt, Ge.instance()), (this._proxyTracerProvider = new Ct());
                }),
                e
              );
            })().getInstance(),
            xt = it.getInstance(),
            Dt = (function () {
              function e() {}
              return (
                (e.prototype.inject = function (e, t) {}),
                (e.prototype.extract = function (e, t) {
                  return e;
                }),
                (e.prototype.fields = function () {
                  return [];
                }),
                e
              );
            })(),
            It = {
              get: function (e, t) {
                if (null != e) return e[t];
              },
              keys: function (e) {
                return null == e ? [] : Object.keys(e);
              },
            },
            Lt = {
              set: function (e, t, r) {
                null != e && (e[t] = r);
              },
            },
            Mt = Ke("OpenTelemetry Baggage Key");
          function At(e) {
            return e.getValue(Mt) || void 0;
          }
          function Nt() {
            return At(it.getInstance().active());
          }
          function jt(e, t) {
            return e.setValue(Mt, t);
          }
          function Ft(e) {
            return e.deleteValue(Mt);
          }
          var Bt = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            Ut = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            Zt = (function () {
              function e(e) {
                this._entries = e ? new Map(e) : new Map();
              }
              return (
                (e.prototype.getEntry = function (e) {
                  var t = this._entries.get(e);
                  if (t) return Object.assign({}, t);
                }),
                (e.prototype.getAllEntries = function () {
                  return Array.from(this._entries.entries()).map(function (e) {
                    var t = Bt(e, 2);
                    return [t[0], t[1]];
                  });
                }),
                (e.prototype.setEntry = function (t, r) {
                  var n = new e(this._entries);
                  return n._entries.set(t, r), n;
                }),
                (e.prototype.removeEntry = function (t) {
                  var r = new e(this._entries);
                  return r._entries.delete(t), r;
                }),
                (e.prototype.removeEntries = function () {
                  for (var t, r, n = [], a = 0; a < arguments.length; a++)
                    n[a] = arguments[a];
                  var i = new e(this._entries);
                  try {
                    for (var s = Ut(n), o = s.next(); !o.done; o = s.next()) {
                      var c = o.value;
                      i._entries.delete(c);
                    }
                  } catch (e) {
                    t = { error: e };
                  } finally {
                    try {
                      o && !o.done && (r = s.return) && r.call(s);
                    } finally {
                      if (t) throw t.error;
                    }
                  }
                  return i;
                }),
                (e.prototype.clear = function () {
                  return new e();
                }),
                e
              );
            })(),
            Ht = Symbol("BaggageEntryMetadata"),
            zt = Ge.instance();
          function Vt(e) {
            return void 0 === e && (e = {}), new Zt(new Map(Object.entries(e)));
          }
          var Wt,
            Gt,
            qt = "propagation",
            Kt = new Dt(),
            $t = (function () {
              function e() {
                (this.createBaggage = Vt),
                  (this.getBaggage = At),
                  (this.getActiveBaggage = Nt),
                  (this.setBaggage = jt),
                  (this.deleteBaggage = Ft);
              }
              return (
                (e.getInstance = function () {
                  return (
                    this._instance || (this._instance = new e()), this._instance
                  );
                }),
                (e.prototype.setGlobalPropagator = function (e) {
                  return Ne(qt, e, Ge.instance());
                }),
                (e.prototype.inject = function (e, t, r) {
                  return (
                    void 0 === r && (r = Lt),
                    this._getGlobalPropagator().inject(e, t, r)
                  );
                }),
                (e.prototype.extract = function (e, t, r) {
                  return (
                    void 0 === r && (r = It),
                    this._getGlobalPropagator().extract(e, t, r)
                  );
                }),
                (e.prototype.fields = function () {
                  return this._getGlobalPropagator().fields();
                }),
                (e.prototype.disable = function () {
                  Fe(qt, Ge.instance());
                }),
                (e.prototype._getGlobalPropagator = function () {
                  return je(qt) || Kt;
                }),
                e
              );
            })().getInstance(),
            Xt = "[object Null]",
            Jt = "[object Undefined]",
            Qt = Function.prototype.toString,
            Yt = Qt.call(Object),
            er =
              ((Wt = Object.getPrototypeOf),
              (Gt = Object),
              function (e) {
                return Wt(Gt(e));
              }),
            tr = Object.prototype,
            rr = tr.hasOwnProperty,
            nr = Symbol ? Symbol.toStringTag : void 0,
            ar = tr.toString;
          function ir(e) {
            if (
              !(function (e) {
                return null != e && "object" == typeof e;
              })(e) ||
              "[object Object]" !==
                (function (e) {
                  if (null == e) return void 0 === e ? Jt : Xt;
                  return nr && nr in Object(e)
                    ? (function (e) {
                        var t = rr.call(e, nr),
                          r = e[nr],
                          n = !1;
                        try {
                          (e[nr] = void 0), (n = !0);
                        } catch (e) {}
                        var a = ar.call(e);
                        n && (t ? (e[nr] = r) : delete e[nr]);
                        return a;
                      })(e)
                    : (function (e) {
                        return ar.call(e);
                      })(e);
                })(e)
            )
              return !1;
            var t = er(e);
            if (null === t) return !0;
            var r = rr.call(t, "constructor") && t.constructor;
            return (
              "function" == typeof r && r instanceof r && Qt.call(r) === Yt
            );
          }
          var sr;
          function or(e) {
            return pr(e) ? e.slice() : e;
          }
          function cr(e, t, r, n) {
            var a;
            if ((void 0 === r && (r = 0), !(r > 20))) {
              if ((r++, hr(e) || hr(t) || lr(t))) a = or(t);
              else if (pr(e)) {
                if (((a = e.slice()), pr(t)))
                  for (var i = 0, s = t.length; i < s; i++) a.push(or(t[i]));
                else if (ur(t))
                  for (i = 0, s = (o = Object.keys(t)).length; i < s; i++) {
                    a[(c = o[i])] = or(t[c]);
                  }
              } else if (ur(e))
                if (ur(t)) {
                  if (
                    !(function (e, t) {
                      if (!ir(e) || !ir(t)) return !1;
                      return !0;
                    })(e, t)
                  )
                    return t;
                  a = Object.assign({}, e);
                  var o;
                  for (i = 0, s = (o = Object.keys(t)).length; i < s; i++) {
                    var c,
                      d = t[(c = o[i])];
                    if (hr(d)) void 0 === d ? delete a[c] : (a[c] = d);
                    else {
                      var p = a[c],
                        l = d;
                      if (dr(e, c, n) || dr(t, c, n)) delete a[c];
                      else {
                        if (ur(p) && ur(l)) {
                          var u = n.get(p) || [],
                            h = n.get(l) || [];
                          u.push({ obj: e, key: c }),
                            h.push({ obj: t, key: c }),
                            n.set(p, u),
                            n.set(l, h);
                        }
                        a[c] = cr(a[c], d, r, n);
                      }
                    }
                  }
                } else a = t;
              return a;
            }
          }
          function dr(e, t, r) {
            for (var n = r.get(e[t]) || [], a = 0, i = n.length; a < i; a++) {
              var s = n[a];
              if (s.key === t && s.obj === e) return !0;
            }
            return !1;
          }
          function pr(e) {
            return Array.isArray(e);
          }
          function lr(e) {
            return "function" == typeof e;
          }
          function ur(e) {
            return !hr(e) && !pr(e) && !lr(e) && "object" == typeof e;
          }
          function hr(e) {
            return (
              "string" == typeof e ||
              "number" == typeof e ||
              "boolean" == typeof e ||
              void 0 === e ||
              e instanceof Date ||
              e instanceof RegExp ||
              null === e
            );
          }
          !(function (e) {
            (e.AlwaysOff = "always_off"),
              (e.AlwaysOn = "always_on"),
              (e.ParentBasedAlwaysOff = "parentbased_always_off"),
              (e.ParentBasedAlwaysOn = "parentbased_always_on"),
              (e.ParentBasedTraceIdRatio = "parentbased_traceidratio"),
              (e.TraceIdRatio = "traceidratio");
          })(sr || (sr = {}));
          var mr =
              "object" == typeof globalThis
                ? globalThis
                : "object" == typeof self
                ? self
                : "object" == typeof window
                ? window
                : "object" == typeof r.g
                ? r.g
                : {},
            fr = ["OTEL_SDK_DISABLED"];
          function _r(e) {
            return fr.indexOf(e) > -1;
          }
          var gr = [
            "OTEL_BSP_EXPORT_TIMEOUT",
            "OTEL_BSP_MAX_EXPORT_BATCH_SIZE",
            "OTEL_BSP_MAX_QUEUE_SIZE",
            "OTEL_BSP_SCHEDULE_DELAY",
            "OTEL_BLRP_EXPORT_TIMEOUT",
            "OTEL_BLRP_MAX_EXPORT_BATCH_SIZE",
            "OTEL_BLRP_MAX_QUEUE_SIZE",
            "OTEL_BLRP_SCHEDULE_DELAY",
            "OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT",
            "OTEL_ATTRIBUTE_COUNT_LIMIT",
            "OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT",
            "OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT",
            "OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT",
            "OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT",
            "OTEL_SPAN_EVENT_COUNT_LIMIT",
            "OTEL_SPAN_LINK_COUNT_LIMIT",
            "OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT",
            "OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT",
            "OTEL_EXPORTER_OTLP_TIMEOUT",
            "OTEL_EXPORTER_OTLP_TRACES_TIMEOUT",
            "OTEL_EXPORTER_OTLP_METRICS_TIMEOUT",
            "OTEL_EXPORTER_OTLP_LOGS_TIMEOUT",
            "OTEL_EXPORTER_JAEGER_AGENT_PORT",
          ];
          function vr(e) {
            return gr.indexOf(e) > -1;
          }
          var yr = ["OTEL_NO_PATCH_MODULES", "OTEL_PROPAGATORS"];
          function br(e) {
            return yr.indexOf(e) > -1;
          }
          var Sr = 1 / 0,
            wr = 128,
            Tr = {
              OTEL_SDK_DISABLED: !1,
              CONTAINER_NAME: "",
              ECS_CONTAINER_METADATA_URI_V4: "",
              ECS_CONTAINER_METADATA_URI: "",
              HOSTNAME: "",
              KUBERNETES_SERVICE_HOST: "",
              NAMESPACE: "",
              OTEL_BSP_EXPORT_TIMEOUT: 3e4,
              OTEL_BSP_MAX_EXPORT_BATCH_SIZE: 512,
              OTEL_BSP_MAX_QUEUE_SIZE: 2048,
              OTEL_BSP_SCHEDULE_DELAY: 5e3,
              OTEL_BLRP_EXPORT_TIMEOUT: 3e4,
              OTEL_BLRP_MAX_EXPORT_BATCH_SIZE: 512,
              OTEL_BLRP_MAX_QUEUE_SIZE: 2048,
              OTEL_BLRP_SCHEDULE_DELAY: 5e3,
              OTEL_EXPORTER_JAEGER_AGENT_HOST: "",
              OTEL_EXPORTER_JAEGER_AGENT_PORT: 6832,
              OTEL_EXPORTER_JAEGER_ENDPOINT: "",
              OTEL_EXPORTER_JAEGER_PASSWORD: "",
              OTEL_EXPORTER_JAEGER_USER: "",
              OTEL_EXPORTER_OTLP_ENDPOINT: "",
              OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: "",
              OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: "",
              OTEL_EXPORTER_OTLP_LOGS_ENDPOINT: "",
              OTEL_EXPORTER_OTLP_HEADERS: "",
              OTEL_EXPORTER_OTLP_TRACES_HEADERS: "",
              OTEL_EXPORTER_OTLP_METRICS_HEADERS: "",
              OTEL_EXPORTER_OTLP_LOGS_HEADERS: "",
              OTEL_EXPORTER_OTLP_TIMEOUT: 1e4,
              OTEL_EXPORTER_OTLP_TRACES_TIMEOUT: 1e4,
              OTEL_EXPORTER_OTLP_METRICS_TIMEOUT: 1e4,
              OTEL_EXPORTER_OTLP_LOGS_TIMEOUT: 1e4,
              OTEL_EXPORTER_ZIPKIN_ENDPOINT:
                "http://localhost:9411/api/v2/spans",
              OTEL_LOG_LEVEL: Be.INFO,
              OTEL_NO_PATCH_MODULES: [],
              OTEL_PROPAGATORS: ["tracecontext", "baggage"],
              OTEL_RESOURCE_ATTRIBUTES: "",
              OTEL_SERVICE_NAME: "",
              OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT: Sr,
              OTEL_ATTRIBUTE_COUNT_LIMIT: wr,
              OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT: Sr,
              OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT: wr,
              OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT: Sr,
              OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT: wr,
              OTEL_SPAN_EVENT_COUNT_LIMIT: 128,
              OTEL_SPAN_LINK_COUNT_LIMIT: 128,
              OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT: 128,
              OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT: 128,
              OTEL_TRACES_EXPORTER: "",
              OTEL_TRACES_SAMPLER: sr.ParentBasedAlwaysOn,
              OTEL_TRACES_SAMPLER_ARG: "",
              OTEL_LOGS_EXPORTER: "",
              OTEL_EXPORTER_OTLP_INSECURE: "",
              OTEL_EXPORTER_OTLP_TRACES_INSECURE: "",
              OTEL_EXPORTER_OTLP_METRICS_INSECURE: "",
              OTEL_EXPORTER_OTLP_LOGS_INSECURE: "",
              OTEL_EXPORTER_OTLP_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_COMPRESSION: "",
              OTEL_EXPORTER_OTLP_TRACES_COMPRESSION: "",
              OTEL_EXPORTER_OTLP_METRICS_COMPRESSION: "",
              OTEL_EXPORTER_OTLP_LOGS_COMPRESSION: "",
              OTEL_EXPORTER_OTLP_CLIENT_KEY: "",
              OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY: "",
              OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY: "",
              OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY: "",
              OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE: "",
              OTEL_EXPORTER_OTLP_PROTOCOL: "http/protobuf",
              OTEL_EXPORTER_OTLP_TRACES_PROTOCOL: "http/protobuf",
              OTEL_EXPORTER_OTLP_METRICS_PROTOCOL: "http/protobuf",
              OTEL_EXPORTER_OTLP_LOGS_PROTOCOL: "http/protobuf",
              OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE: "cumulative",
            };
          function Er(e, t, r) {
            if (void 0 !== r[e]) {
              var n = String(r[e]);
              t[e] = "true" === n.toLowerCase();
            }
          }
          function Rr(e, t, r, n, a) {
            if (
              (void 0 === n && (n = -1 / 0),
              void 0 === a && (a = 1 / 0),
              void 0 !== r[e])
            ) {
              var i = Number(r[e]);
              isNaN(i) || (t[e] = i < n ? n : i > a ? a : i);
            }
          }
          function Pr(e, t, r, n) {
            void 0 === n && (n = ",");
            var a = r[e];
            "string" == typeof a &&
              (t[e] = a.split(n).map(function (e) {
                return e.trim();
              }));
          }
          var Cr = {
            ALL: Be.ALL,
            VERBOSE: Be.VERBOSE,
            DEBUG: Be.DEBUG,
            INFO: Be.INFO,
            WARN: Be.WARN,
            ERROR: Be.ERROR,
            NONE: Be.NONE,
          };
          function kr(e, t, r) {
            var n = r[e];
            if ("string" == typeof n) {
              var a = Cr[n.toUpperCase()];
              null != a && (t[e] = a);
            }
          }
          function Or(e) {
            var t = {};
            for (var r in Tr) {
              var n = r;
              if ("OTEL_LOG_LEVEL" === n) kr(n, t, e);
              else if (_r(n)) Er(n, t, e);
              else if (vr(n)) Rr(n, t, e);
              else if (br(n)) Pr(n, t, e);
              else {
                var a = e[n];
                null != a && (t[n] = String(a));
              }
            }
            return t;
          }
          function xr() {
            var e = Or(mr);
            return Object.assign({}, Tr, e);
          }
          var Dr = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            Ir = (function () {
              function e(e) {
                var t;
                void 0 === e && (e = {}),
                  (this._propagators =
                    null !== (t = e.propagators) && void 0 !== t ? t : []),
                  (this._fields = Array.from(
                    new Set(
                      this._propagators
                        .map(function (e) {
                          return "function" == typeof e.fields
                            ? e.fields()
                            : [];
                        })
                        .reduce(function (e, t) {
                          return e.concat(t);
                        }, [])
                    )
                  ));
              }
              return (
                (e.prototype.inject = function (e, t, r) {
                  var n, a;
                  try {
                    for (
                      var i = Dr(this._propagators), s = i.next();
                      !s.done;
                      s = i.next()
                    ) {
                      var o = s.value;
                      try {
                        o.inject(e, t, r);
                      } catch (e) {
                        qe.warn(
                          "Failed to inject with " +
                            o.constructor.name +
                            ". Err: " +
                            e.message
                        );
                      }
                    }
                  } catch (e) {
                    n = { error: e };
                  } finally {
                    try {
                      s && !s.done && (a = i.return) && a.call(i);
                    } finally {
                      if (n) throw n.error;
                    }
                  }
                }),
                (e.prototype.extract = function (e, t, r) {
                  return this._propagators.reduce(function (e, n) {
                    try {
                      return n.extract(e, t, r);
                    } catch (e) {
                      qe.warn(
                        "Failed to inject with " +
                          n.constructor.name +
                          ". Err: " +
                          e.message
                      );
                    }
                    return e;
                  }, e);
                }),
                (e.prototype.fields = function () {
                  return this._fields.slice();
                }),
                e
              );
            })(),
            Lr = Ke("OpenTelemetry SDK Context Key SUPPRESS_TRACING");
          function Mr(e) {
            return !0 === e.getValue(Lr);
          }
          var Ar = new RegExp(
              "^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"
            ),
            Nr = /^[ -~]{0,255}[!-~]$/,
            jr = /,|=/;
          var Fr = (function () {
              function e(e) {
                (this._internalState = new Map()), e && this._parse(e);
              }
              return (
                (e.prototype.set = function (e, t) {
                  var r = this._clone();
                  return (
                    r._internalState.has(e) && r._internalState.delete(e),
                    r._internalState.set(e, t),
                    r
                  );
                }),
                (e.prototype.unset = function (e) {
                  var t = this._clone();
                  return t._internalState.delete(e), t;
                }),
                (e.prototype.get = function (e) {
                  return this._internalState.get(e);
                }),
                (e.prototype.serialize = function () {
                  var e = this;
                  return this._keys()
                    .reduce(function (t, r) {
                      return t.push(r + "=" + e.get(r)), t;
                    }, [])
                    .join(",");
                }),
                (e.prototype._parse = function (e) {
                  e.length > 512 ||
                    ((this._internalState = e
                      .split(",")
                      .reverse()
                      .reduce(function (e, t) {
                        var r = t.trim(),
                          n = r.indexOf("=");
                        if (-1 !== n) {
                          var a = r.slice(0, n),
                            i = r.slice(n + 1, t.length);
                          (function (e) {
                            return Ar.test(e);
                          })(a) &&
                            (function (e) {
                              return Nr.test(e) && !jr.test(e);
                            })(i) &&
                            e.set(a, i);
                        }
                        return e;
                      }, new Map())),
                    this._internalState.size > 32 &&
                      (this._internalState = new Map(
                        Array.from(this._internalState.entries())
                          .reverse()
                          .slice(0, 32)
                      )));
                }),
                (e.prototype._keys = function () {
                  return Array.from(this._internalState.keys()).reverse();
                }),
                (e.prototype._clone = function () {
                  var t = new e();
                  return (t._internalState = new Map(this._internalState)), t;
                }),
                e
              );
            })(),
            Br = "traceparent",
            Ur = "tracestate",
            Zr = new RegExp(
              "^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"
            );
          var Hr = (function () {
              function e() {}
              return (
                (e.prototype.inject = function (e, t, r) {
                  var n = Ot.getSpanContext(e);
                  if (n && !Mr(e) && bt(n)) {
                    var a =
                      "00-" +
                      n.traceId +
                      "-" +
                      n.spanId +
                      "-0" +
                      Number(n.traceFlags || $e.NONE).toString(16);
                    r.set(t, Br, a),
                      n.traceState && r.set(t, Ur, n.traceState.serialize());
                  }
                }),
                (e.prototype.extract = function (e, t, r) {
                  var n = r.get(t, Br);
                  if (!n) return e;
                  var a = Array.isArray(n) ? n[0] : n;
                  if ("string" != typeof a) return e;
                  var i = (function (e) {
                    var t = Zr.exec(e);
                    return t
                      ? "00" === t[1] && t[5]
                        ? null
                        : {
                            traceId: t[2],
                            spanId: t[3],
                            traceFlags: parseInt(t[4], 16),
                          }
                      : null;
                  })(a);
                  if (!i) return e;
                  i.isRemote = !0;
                  var s = r.get(t, Ur);
                  if (s) {
                    var o = Array.isArray(s) ? s.join(",") : s;
                    i.traceState = new Fr("string" == typeof o ? o : void 0);
                  }
                  return Ot.setSpanContext(e, i);
                }),
                (e.prototype.fields = function () {
                  return [Br, Ur];
                }),
                e
              );
            })(),
            zr = ",",
            Vr = "baggage",
            Wr = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            };
          function Gr(e) {
            var t = e.split(";");
            if (!(t.length <= 0)) {
              var r = t.shift();
              if (r) {
                var n = r.split("=");
                if (2 === n.length) {
                  var a,
                    i,
                    s = decodeURIComponent(n[0].trim()),
                    o = decodeURIComponent(n[1].trim());
                  return (
                    t.length > 0 &&
                      ("string" != typeof (i = t.join(";")) &&
                        (zt.error(
                          "Cannot create baggage metadata from unknown type: " +
                            typeof i
                        ),
                        (i = "")),
                      (a = {
                        __TYPE__: Ht,
                        toString: function () {
                          return i;
                        },
                      })),
                    { key: s, value: o, metadata: a }
                  );
                }
              }
            }
          }
          function qr(e) {
            return "string" != typeof e || 0 === e.length
              ? {}
              : e
                  .split(zr)
                  .map(function (e) {
                    return Gr(e);
                  })
                  .filter(function (e) {
                    return void 0 !== e && e.value.length > 0;
                  })
                  .reduce(function (e, t) {
                    return (e[t.key] = t.value), e;
                  }, {});
          }
          var Kr,
            $r = (function () {
              function e() {}
              return (
                (e.prototype.inject = function (e, t, r) {
                  var n = $t.getBaggage(e);
                  if (n && !Mr(e)) {
                    var a = (function (e) {
                        return e.getAllEntries().map(function (e) {
                          var t = Wr(e, 2),
                            r = t[0],
                            n = t[1],
                            a =
                              encodeURIComponent(r) +
                              "=" +
                              encodeURIComponent(n.value);
                          return (
                            void 0 !== n.metadata &&
                              (a += ";" + n.metadata.toString()),
                            a
                          );
                        });
                      })(n)
                        .filter(function (e) {
                          return e.length <= 4096;
                        })
                        .slice(0, 180),
                      i = (function (e) {
                        return e.reduce(function (e, t) {
                          var r = "" + e + ("" !== e ? zr : "") + t;
                          return r.length > 8192 ? e : r;
                        }, "");
                      })(a);
                    i.length > 0 && r.set(t, Vr, i);
                  }
                }),
                (e.prototype.extract = function (e, t, r) {
                  var n = r.get(t, Vr),
                    a = Array.isArray(n) ? n.join(zr) : n;
                  if (!a) return e;
                  var i = {};
                  return 0 === a.length
                    ? e
                    : (a.split(zr).forEach(function (e) {
                        var t = Gr(e);
                        if (t) {
                          var r = { value: t.value };
                          t.metadata && (r.metadata = t.metadata),
                            (i[t.key] = r);
                        }
                      }),
                      0 === Object.entries(i).length
                        ? e
                        : $t.setBaggage(e, $t.createBaggage(i)));
                }),
                (e.prototype.fields = function () {
                  return [Vr];
                }),
                e
              );
            })(),
            Xr = "process.runtime.name",
            Jr = "service.name",
            Qr = "telemetry.sdk.name",
            Yr = "telemetry.sdk.language",
            en = "telemetry.sdk.version",
            tn =
              (((Kr = {})[Qr] = "opentelemetry"),
              (Kr[Xr] = "browser"),
              (Kr[Yr] = "webjs"),
              (Kr[en] = "1.14.0"),
              Kr);
          var rn,
            nn,
            an = function () {
              return (
                (an =
                  Object.assign ||
                  function (e) {
                    for (var t, r = 1, n = arguments.length; r < n; r++)
                      for (var a in (t = arguments[r]))
                        Object.prototype.hasOwnProperty.call(t, a) &&
                          (e[a] = t[a]);
                    return e;
                  }),
                an.apply(this, arguments)
              );
            },
            sn = function (e, t, r, n) {
              return new (r || (r = Promise))(function (a, i) {
                function s(e) {
                  try {
                    c(n.next(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function o(e) {
                  try {
                    c(n.throw(e));
                  } catch (e) {
                    i(e);
                  }
                }
                function c(e) {
                  var t;
                  e.done
                    ? a(e.value)
                    : ((t = e.value),
                      t instanceof r
                        ? t
                        : new r(function (e) {
                            e(t);
                          })).then(s, o);
                }
                c((n = n.apply(e, t || [])).next());
              });
            },
            on = function (e, t) {
              var r,
                n,
                a,
                i,
                s = {
                  label: 0,
                  sent: function () {
                    if (1 & a[0]) throw a[1];
                    return a[1];
                  },
                  trys: [],
                  ops: [],
                };
              return (
                (i = { next: o(0), throw: o(1), return: o(2) }),
                "function" == typeof Symbol &&
                  (i[Symbol.iterator] = function () {
                    return this;
                  }),
                i
              );
              function o(i) {
                return function (o) {
                  return (function (i) {
                    if (r)
                      throw new TypeError("Generator is already executing.");
                    for (; s; )
                      try {
                        if (
                          ((r = 1),
                          n &&
                            (a =
                              2 & i[0]
                                ? n.return
                                : i[0]
                                ? n.throw || ((a = n.return) && a.call(n), 0)
                                : n.next) &&
                            !(a = a.call(n, i[1])).done)
                        )
                          return a;
                        switch (
                          ((n = 0), a && (i = [2 & i[0], a.value]), i[0])
                        ) {
                          case 0:
                          case 1:
                            a = i;
                            break;
                          case 4:
                            return s.label++, { value: i[1], done: !1 };
                          case 5:
                            s.label++, (n = i[1]), (i = [0]);
                            continue;
                          case 7:
                            (i = s.ops.pop()), s.trys.pop();
                            continue;
                          default:
                            if (
                              !((a = s.trys),
                              (a = a.length > 0 && a[a.length - 1]) ||
                                (6 !== i[0] && 2 !== i[0]))
                            ) {
                              s = 0;
                              continue;
                            }
                            if (
                              3 === i[0] &&
                              (!a || (i[1] > a[0] && i[1] < a[3]))
                            ) {
                              s.label = i[1];
                              break;
                            }
                            if (6 === i[0] && s.label < a[1]) {
                              (s.label = a[1]), (a = i);
                              break;
                            }
                            if (a && s.label < a[2]) {
                              (s.label = a[2]), s.ops.push(i);
                              break;
                            }
                            a[2] && s.ops.pop(), s.trys.pop();
                            continue;
                        }
                        i = t.call(e, s);
                      } catch (e) {
                        (i = [6, e]), (n = 0);
                      } finally {
                        r = a = 0;
                      }
                    if (5 & i[0]) throw i[1];
                    return { value: i[0] ? i[1] : void 0, done: !0 };
                  })([i, o]);
                };
              }
            },
            cn = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            dn = (function () {
              function e(e, t) {
                var r,
                  n = this;
                (this._attributes = e),
                  (this.asyncAttributesPending = null != t),
                  (this._syncAttributes =
                    null !== (r = this._attributes) && void 0 !== r ? r : {}),
                  (this._asyncAttributesPromise =
                    null == t
                      ? void 0
                      : t.then(
                          function (e) {
                            return (
                              (n._attributes = Object.assign(
                                {},
                                n._attributes,
                                e
                              )),
                              (n.asyncAttributesPending = !1),
                              e
                            );
                          },
                          function (e) {
                            return (
                              qe.debug(
                                "a resource's async attributes promise rejected: %s",
                                e
                              ),
                              (n.asyncAttributesPending = !1),
                              {}
                            );
                          }
                        ));
              }
              return (
                (e.empty = function () {
                  return e.EMPTY;
                }),
                (e.default = function () {
                  var t;
                  return new e(
                    (((t = {})[Jr] = "unknown_service"),
                    (t[Yr] = tn[Yr]),
                    (t[Qr] = tn[Qr]),
                    (t[en] = tn[en]),
                    t)
                  );
                }),
                Object.defineProperty(e.prototype, "attributes", {
                  get: function () {
                    var e;
                    return (
                      this.asyncAttributesPending &&
                        qe.error(
                          "Accessing resource attributes before async attributes settled"
                        ),
                      null !== (e = this._attributes) && void 0 !== e ? e : {}
                    );
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                (e.prototype.waitForAsyncAttributes = function () {
                  return sn(this, void 0, void 0, function () {
                    return on(this, function (e) {
                      switch (e.label) {
                        case 0:
                          return this.asyncAttributesPending
                            ? [4, this._asyncAttributesPromise]
                            : [3, 2];
                        case 1:
                          e.sent(), (e.label = 2);
                        case 2:
                          return [2];
                      }
                    });
                  });
                }),
                (e.prototype.merge = function (t) {
                  var r,
                    n = this;
                  if (!t) return this;
                  var a = an(
                    an({}, this._syncAttributes),
                    null !== (r = t._syncAttributes) && void 0 !== r
                      ? r
                      : t.attributes
                  );
                  if (
                    !this._asyncAttributesPromise &&
                    !t._asyncAttributesPromise
                  )
                    return new e(a);
                  var i = Promise.all([
                    this._asyncAttributesPromise,
                    t._asyncAttributesPromise,
                  ]).then(function (e) {
                    var r,
                      a = cn(e, 2),
                      i = a[0],
                      s = a[1];
                    return an(
                      an(
                        an(an({}, n._syncAttributes), i),
                        null !== (r = t._syncAttributes) && void 0 !== r
                          ? r
                          : t.attributes
                      ),
                      s
                    );
                  });
                  return new e(a, i);
                }),
                (e.EMPTY = new e({})),
                e
              );
            })();
          !(function (e) {
            (e[(e.INTERNAL = 0)] = "INTERNAL"),
              (e[(e.SERVER = 1)] = "SERVER"),
              (e[(e.CLIENT = 2)] = "CLIENT"),
              (e[(e.PRODUCER = 3)] = "PRODUCER"),
              (e[(e.CONSUMER = 4)] = "CONSUMER");
          })(rn || (rn = {})),
            (function (e) {
              (e[(e.NOT_RECORD = 0)] = "NOT_RECORD"),
                (e[(e.RECORD = 1)] = "RECORD"),
                (e[(e.RECORD_AND_SAMPLED = 2)] = "RECORD_AND_SAMPLED");
            })(nn || (nn = {}));
          var pn,
            ln = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            un = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            };
          function hn(e) {
            var t,
              r,
              n = {};
            if ("object" != typeof e || null == e) return n;
            try {
              for (
                var a = ln(Object.entries(e)), i = a.next();
                !i.done;
                i = a.next()
              ) {
                var s = un(i.value, 2),
                  o = s[0],
                  c = s[1];
                mn(o)
                  ? fn(c)
                    ? Array.isArray(c)
                      ? (n[o] = c.slice())
                      : (n[o] = c)
                    : qe.warn("Invalid attribute value set for key: " + o)
                  : qe.warn("Invalid attribute key: " + o);
              }
            } catch (e) {
              t = { error: e };
            } finally {
              try {
                i && !i.done && (r = a.return) && r.call(a);
              } finally {
                if (t) throw t.error;
              }
            }
            return n;
          }
          function mn(e) {
            return "string" == typeof e && e.length > 0;
          }
          function fn(e) {
            return (
              null == e ||
              (Array.isArray(e)
                ? (function (e) {
                    var t, r, n;
                    try {
                      for (var a = ln(e), i = a.next(); !i.done; i = a.next()) {
                        var s = i.value;
                        if (null != s) {
                          if (!n) {
                            if (_n(s)) {
                              n = typeof s;
                              continue;
                            }
                            return !1;
                          }
                          if (typeof s !== n) return !1;
                        }
                      }
                    } catch (e) {
                      t = { error: e };
                    } finally {
                      try {
                        i && !i.done && (r = a.return) && r.call(a);
                      } finally {
                        if (t) throw t.error;
                      }
                    }
                    return !0;
                  })(e)
                : _n(e))
            );
          }
          function _n(e) {
            switch (typeof e) {
              case "number":
              case "boolean":
              case "string":
                return !0;
            }
            return !1;
          }
          !(function (e) {
            (e[(e.UNSET = 0)] = "UNSET"),
              (e[(e.OK = 1)] = "OK"),
              (e[(e.ERROR = 2)] = "ERROR");
          })(pn || (pn = {}));
          var gn = performance,
            vn = Math.pow(10, 6),
            yn = Math.pow(10, 9);
          function bn(e) {
            var t = e / 1e3;
            return [Math.trunc(t), Math.round((e % 1e3) * vn)];
          }
          function Sn() {
            var e = gn.timeOrigin;
            if ("number" != typeof e) {
              var t = gn;
              e = t.timing && t.timing.fetchStart;
            }
            return e;
          }
          function wn(e) {
            return Pn(bn(Sn()), bn("number" == typeof e ? e : gn.now()));
          }
          function Tn(e) {
            return e[0] * yn + e[1];
          }
          function En(e) {
            return (
              Array.isArray(e) &&
              2 === e.length &&
              "number" == typeof e[0] &&
              "number" == typeof e[1]
            );
          }
          function Rn(e) {
            return En(e) || "number" == typeof e || e instanceof Date;
          }
          function Pn(e, t) {
            var r = [e[0] + t[0], e[1] + t[1]];
            return r[1] >= yn && ((r[1] -= yn), (r[0] += 1)), r;
          }
          var Cn,
            kn = "exception.type",
            On = "exception.message",
            xn = "exception.stacktrace",
            Dn = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            In = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            Ln = (function () {
              function e(e, t, r, n, a, i, s, o, c) {
                void 0 === s && (s = []),
                  (this.attributes = {}),
                  (this.links = []),
                  (this.events = []),
                  (this._droppedAttributesCount = 0),
                  (this._droppedEventsCount = 0),
                  (this._droppedLinksCount = 0),
                  (this.status = { code: pn.UNSET }),
                  (this.endTime = [0, 0]),
                  (this._ended = !1),
                  (this._duration = [-1, -1]),
                  (this.name = r),
                  (this._spanContext = n),
                  (this.parentSpanId = i),
                  (this.kind = a),
                  (this.links = s);
                var d = Date.now();
                (this._performanceStartTime = gn.now()),
                  (this._performanceOffset =
                    d - (this._performanceStartTime + Sn())),
                  (this._startTimeProvided = null != o),
                  (this.startTime = this._getTime(null != o ? o : d)),
                  (this.resource = e.resource),
                  (this.instrumentationLibrary = e.instrumentationLibrary),
                  (this._spanLimits = e.getSpanLimits()),
                  (this._spanProcessor = e.getActiveSpanProcessor()),
                  this._spanProcessor.onStart(this, t),
                  (this._attributeValueLengthLimit =
                    this._spanLimits.attributeValueLengthLimit || 0);
              }
              return (
                (e.prototype.spanContext = function () {
                  return this._spanContext;
                }),
                (e.prototype.setAttribute = function (e, t) {
                  return null == t || this._isSpanEnded()
                    ? this
                    : 0 === e.length
                    ? (qe.warn("Invalid attribute key: " + e), this)
                    : fn(t)
                    ? Object.keys(this.attributes).length >=
                        this._spanLimits.attributeCountLimit &&
                      !Object.prototype.hasOwnProperty.call(this.attributes, e)
                      ? (this._droppedAttributesCount++, this)
                      : ((this.attributes[e] = this._truncateToSize(t)), this)
                    : (qe.warn("Invalid attribute value set for key: " + e),
                      this);
                }),
                (e.prototype.setAttributes = function (e) {
                  var t, r;
                  try {
                    for (
                      var n = Dn(Object.entries(e)), a = n.next();
                      !a.done;
                      a = n.next()
                    ) {
                      var i = In(a.value, 2),
                        s = i[0],
                        o = i[1];
                      this.setAttribute(s, o);
                    }
                  } catch (e) {
                    t = { error: e };
                  } finally {
                    try {
                      a && !a.done && (r = n.return) && r.call(n);
                    } finally {
                      if (t) throw t.error;
                    }
                  }
                  return this;
                }),
                (e.prototype.addEvent = function (e, t, r) {
                  if (this._isSpanEnded()) return this;
                  if (0 === this._spanLimits.eventCountLimit)
                    return (
                      qe.warn("No events allowed."),
                      this._droppedEventsCount++,
                      this
                    );
                  this.events.length >= this._spanLimits.eventCountLimit &&
                    (qe.warn("Dropping extra events."),
                    this.events.shift(),
                    this._droppedEventsCount++),
                    Rn(t) && (Rn(r) || (r = t), (t = void 0));
                  var n = hn(t);
                  return (
                    this.events.push({
                      name: e,
                      attributes: n,
                      time: this._getTime(r),
                      droppedAttributesCount: 0,
                    }),
                    this
                  );
                }),
                (e.prototype.setStatus = function (e) {
                  return this._isSpanEnded() || (this.status = e), this;
                }),
                (e.prototype.updateName = function (e) {
                  return this._isSpanEnded() || (this.name = e), this;
                }),
                (e.prototype.end = function (e) {
                  this._isSpanEnded()
                    ? qe.error(
                        this.name +
                          " " +
                          this._spanContext.traceId +
                          "-" +
                          this._spanContext.spanId +
                          " - You can only call end() on a span once."
                      )
                    : ((this._ended = !0),
                      (this.endTime = this._getTime(e)),
                      (this._duration = (function (e, t) {
                        var r = t[0] - e[0],
                          n = t[1] - e[1];
                        return n < 0 && ((r -= 1), (n += yn)), [r, n];
                      })(this.startTime, this.endTime)),
                      this._duration[0] < 0 &&
                        (qe.warn(
                          "Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",
                          this.startTime,
                          this.endTime
                        ),
                        (this.endTime = this.startTime.slice()),
                        (this._duration = [0, 0])),
                      this._spanProcessor.onEnd(this));
                }),
                (e.prototype._getTime = function (e) {
                  if ("number" == typeof e && e < gn.now())
                    return wn(e + this._performanceOffset);
                  if ("number" == typeof e) return bn(e);
                  if (e instanceof Date) return bn(e.getTime());
                  if (En(e)) return e;
                  if (this._startTimeProvided) return bn(Date.now());
                  var t = gn.now() - this._performanceStartTime;
                  return Pn(this.startTime, bn(t));
                }),
                (e.prototype.isRecording = function () {
                  return !1 === this._ended;
                }),
                (e.prototype.recordException = function (e, t) {
                  var r = {};
                  "string" == typeof e
                    ? (r[On] = e)
                    : e &&
                      (e.code
                        ? (r[kn] = e.code.toString())
                        : e.name && (r[kn] = e.name),
                      e.message && (r[On] = e.message),
                      e.stack && (r[xn] = e.stack)),
                    r[kn] || r[On]
                      ? this.addEvent("exception", r, t)
                      : qe.warn("Failed to record an exception " + e);
                }),
                Object.defineProperty(e.prototype, "duration", {
                  get: function () {
                    return this._duration;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                Object.defineProperty(e.prototype, "ended", {
                  get: function () {
                    return this._ended;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                Object.defineProperty(e.prototype, "droppedAttributesCount", {
                  get: function () {
                    return this._droppedAttributesCount;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                Object.defineProperty(e.prototype, "droppedEventsCount", {
                  get: function () {
                    return this._droppedEventsCount;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                Object.defineProperty(e.prototype, "droppedLinksCount", {
                  get: function () {
                    return this._droppedLinksCount;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                (e.prototype._isSpanEnded = function () {
                  return (
                    this._ended &&
                      qe.warn(
                        "Can not execute the operation on ended Span {traceId: " +
                          this._spanContext.traceId +
                          ", spanId: " +
                          this._spanContext.spanId +
                          "}"
                      ),
                    this._ended
                  );
                }),
                (e.prototype._truncateToLimitUtil = function (e, t) {
                  return e.length <= t ? e : e.substr(0, t);
                }),
                (e.prototype._truncateToSize = function (e) {
                  var t = this,
                    r = this._attributeValueLengthLimit;
                  return r <= 0
                    ? (qe.warn(
                        "Attribute value limit must be positive, got " + r
                      ),
                      e)
                    : "string" == typeof e
                    ? this._truncateToLimitUtil(e, r)
                    : Array.isArray(e)
                    ? e.map(function (e) {
                        return "string" == typeof e
                          ? t._truncateToLimitUtil(e, r)
                          : e;
                      })
                    : e;
                }),
                e
              );
            })();
          !(function (e) {
            (e[(e.NOT_RECORD = 0)] = "NOT_RECORD"),
              (e[(e.RECORD = 1)] = "RECORD"),
              (e[(e.RECORD_AND_SAMPLED = 2)] = "RECORD_AND_SAMPLED");
          })(Cn || (Cn = {}));
          var Mn = (function () {
              function e() {}
              return (
                (e.prototype.shouldSample = function () {
                  return { decision: Cn.NOT_RECORD };
                }),
                (e.prototype.toString = function () {
                  return "AlwaysOffSampler";
                }),
                e
              );
            })(),
            An = (function () {
              function e() {}
              return (
                (e.prototype.shouldSample = function () {
                  return { decision: Cn.RECORD_AND_SAMPLED };
                }),
                (e.prototype.toString = function () {
                  return "AlwaysOnSampler";
                }),
                e
              );
            })();
          var Nn = function (e) {
            qe.error(
              (function (e) {
                return "string" == typeof e
                  ? e
                  : JSON.stringify(
                      (function (e) {
                        for (var t = {}, r = e; null !== r; )
                          Object.getOwnPropertyNames(r).forEach(function (e) {
                            if (!t[e]) {
                              var n = r[e];
                              n && (t[e] = String(n));
                            }
                          }),
                            (r = Object.getPrototypeOf(r));
                        return t;
                      })(e)
                    );
              })(e)
            );
          };
          function jn(e) {
            try {
              Nn(e);
            } catch (e) {}
          }
          var Fn = (function () {
              function e(e) {
                var t, r, n, a;
                (this._root = e.root),
                  this._root ||
                    (jn(
                      new Error(
                        "ParentBasedSampler must have a root sampler configured"
                      )
                    ),
                    (this._root = new An())),
                  (this._remoteParentSampled =
                    null !== (t = e.remoteParentSampled) && void 0 !== t
                      ? t
                      : new An()),
                  (this._remoteParentNotSampled =
                    null !== (r = e.remoteParentNotSampled) && void 0 !== r
                      ? r
                      : new Mn()),
                  (this._localParentSampled =
                    null !== (n = e.localParentSampled) && void 0 !== n
                      ? n
                      : new An()),
                  (this._localParentNotSampled =
                    null !== (a = e.localParentNotSampled) && void 0 !== a
                      ? a
                      : new Mn());
              }
              return (
                (e.prototype.shouldSample = function (e, t, r, n, a, i) {
                  var s = Ot.getSpanContext(e);
                  return s && bt(s)
                    ? s.isRemote
                      ? s.traceFlags & $e.SAMPLED
                        ? this._remoteParentSampled.shouldSample(
                            e,
                            t,
                            r,
                            n,
                            a,
                            i
                          )
                        : this._remoteParentNotSampled.shouldSample(
                            e,
                            t,
                            r,
                            n,
                            a,
                            i
                          )
                      : s.traceFlags & $e.SAMPLED
                      ? this._localParentSampled.shouldSample(e, t, r, n, a, i)
                      : this._localParentNotSampled.shouldSample(
                          e,
                          t,
                          r,
                          n,
                          a,
                          i
                        )
                    : this._root.shouldSample(e, t, r, n, a, i);
                }),
                (e.prototype.toString = function () {
                  return (
                    "ParentBased{root=" +
                    this._root.toString() +
                    ", remoteParentSampled=" +
                    this._remoteParentSampled.toString() +
                    ", remoteParentNotSampled=" +
                    this._remoteParentNotSampled.toString() +
                    ", localParentSampled=" +
                    this._localParentSampled.toString() +
                    ", localParentNotSampled=" +
                    this._localParentNotSampled.toString() +
                    "}"
                  );
                }),
                e
              );
            })(),
            Bn = (function () {
              function e(e) {
                void 0 === e && (e = 0),
                  (this._ratio = e),
                  (this._ratio = this._normalize(e)),
                  (this._upperBound = Math.floor(4294967295 * this._ratio));
              }
              return (
                (e.prototype.shouldSample = function (e, t) {
                  return {
                    decision:
                      yt(t) && this._accumulate(t) < this._upperBound
                        ? Cn.RECORD_AND_SAMPLED
                        : Cn.NOT_RECORD,
                  };
                }),
                (e.prototype.toString = function () {
                  return "TraceIdRatioBased{" + this._ratio + "}";
                }),
                (e.prototype._normalize = function (e) {
                  return "number" != typeof e || isNaN(e)
                    ? 0
                    : e >= 1
                    ? 1
                    : e <= 0
                    ? 0
                    : e;
                }),
                (e.prototype._accumulate = function (e) {
                  for (var t = 0, r = 0; r < e.length / 8; r++) {
                    var n = 8 * r;
                    t = (t ^ parseInt(e.slice(n, n + 8), 16)) >>> 0;
                  }
                  return t;
                }),
                e
              );
            })(),
            Un = xr(),
            Zn = sr.AlwaysOn;
          function Hn() {
            return {
              sampler: zn(Un),
              forceFlushTimeoutMillis: 3e4,
              generalLimits: {
                attributeValueLengthLimit:
                  xr().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,
                attributeCountLimit: xr().OTEL_ATTRIBUTE_COUNT_LIMIT,
              },
              spanLimits: {
                attributeValueLengthLimit:
                  xr().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,
                attributeCountLimit: xr().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,
                linkCountLimit: xr().OTEL_SPAN_LINK_COUNT_LIMIT,
                eventCountLimit: xr().OTEL_SPAN_EVENT_COUNT_LIMIT,
                attributePerEventCountLimit:
                  xr().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,
                attributePerLinkCountLimit:
                  xr().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,
              },
            };
          }
          function zn(e) {
            switch ((void 0 === e && (e = xr()), e.OTEL_TRACES_SAMPLER)) {
              case sr.AlwaysOn:
                return new An();
              case sr.AlwaysOff:
                return new Mn();
              case sr.ParentBasedAlwaysOn:
                return new Fn({ root: new An() });
              case sr.ParentBasedAlwaysOff:
                return new Fn({ root: new Mn() });
              case sr.TraceIdRatio:
                return new Bn(Vn(e));
              case sr.ParentBasedTraceIdRatio:
                return new Fn({ root: new Bn(Vn(e)) });
              default:
                return (
                  qe.error(
                    'OTEL_TRACES_SAMPLER value "' +
                      e.OTEL_TRACES_SAMPLER +
                      " invalid, defaulting to " +
                      Zn +
                      '".'
                  ),
                  new An()
                );
            }
          }
          function Vn(e) {
            if (
              void 0 === e.OTEL_TRACES_SAMPLER_ARG ||
              "" === e.OTEL_TRACES_SAMPLER_ARG
            )
              return (
                qe.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),
                1
              );
            var t = Number(e.OTEL_TRACES_SAMPLER_ARG);
            return isNaN(t)
              ? (qe.error(
                  "OTEL_TRACES_SAMPLER_ARG=" +
                    e.OTEL_TRACES_SAMPLER_ARG +
                    " was given, but it is invalid, defaulting to 1."
                ),
                1)
              : t < 0 || t > 1
              ? (qe.error(
                  "OTEL_TRACES_SAMPLER_ARG=" +
                    e.OTEL_TRACES_SAMPLER_ARG +
                    " was given, but it is out of range ([0..1]), defaulting to 1."
                ),
                1)
              : t;
          }
          function Wn(e) {
            var t,
              r,
              n,
              a,
              i,
              s,
              o,
              c,
              d,
              p,
              l,
              u,
              h = Object.assign({}, e.spanLimits),
              m =
                "undefined" != typeof process && process && process.env
                  ? Or(process.env)
                  : Or(mr);
            return (
              (h.attributeCountLimit =
                null !==
                  (s =
                    null !==
                      (i =
                        null !==
                          (a =
                            null !==
                              (r =
                                null === (t = e.spanLimits) || void 0 === t
                                  ? void 0
                                  : t.attributeCountLimit) && void 0 !== r
                              ? r
                              : null === (n = e.generalLimits) || void 0 === n
                              ? void 0
                              : n.attributeCountLimit) && void 0 !== a
                          ? a
                          : m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT) && void 0 !== i
                      ? i
                      : m.OTEL_ATTRIBUTE_COUNT_LIMIT) && void 0 !== s
                  ? s
                  : wr),
              (h.attributeValueLengthLimit =
                null !==
                  (u =
                    null !==
                      (l =
                        null !==
                          (p =
                            null !==
                              (c =
                                null === (o = e.spanLimits) || void 0 === o
                                  ? void 0
                                  : o.attributeValueLengthLimit) && void 0 !== c
                              ? c
                              : null === (d = e.generalLimits) || void 0 === d
                              ? void 0
                              : d.attributeValueLengthLimit) && void 0 !== p
                          ? p
                          : m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT) &&
                    void 0 !== l
                      ? l
                      : m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT) && void 0 !== u
                  ? u
                  : Sr),
              Object.assign({}, e, { spanLimits: h })
            );
          }
          var Gn = function () {
              (this.generateTraceId = Kn(16)), (this.generateSpanId = Kn(8));
            },
            qn = Array(32);
          function Kn(e) {
            return function () {
              for (var t = 0; t < 2 * e; t++)
                (qn[t] = Math.floor(16 * Math.random()) + 48),
                  qn[t] >= 58 && (qn[t] += 39);
              return String.fromCharCode.apply(null, qn.slice(0, 2 * e));
            };
          }
          var $n,
            Xn = (function () {
              function e(e, t, r) {
                this._tracerProvider = r;
                var n,
                  a,
                  i,
                  s,
                  o =
                    ((n = t),
                    (a = { sampler: zn() }),
                    (i = Hn()),
                    ((s = Object.assign({}, i, a, n)).generalLimits =
                      Object.assign(
                        {},
                        i.generalLimits,
                        n.generalLimits || {}
                      )),
                    (s.spanLimits = Object.assign(
                      {},
                      i.spanLimits,
                      n.spanLimits || {}
                    )),
                    s);
                (this._sampler = o.sampler),
                  (this._generalLimits = o.generalLimits),
                  (this._spanLimits = o.spanLimits),
                  (this._idGenerator = t.idGenerator || new Gn()),
                  (this.resource = r.resource),
                  (this.instrumentationLibrary = e);
              }
              return (
                (e.prototype.startSpan = function (e, t, r) {
                  var n, a, i;
                  void 0 === t && (t = {}),
                    void 0 === r && (r = xt.active()),
                    t.root && (r = Ot.deleteSpan(r));
                  var s = Ot.getSpan(r);
                  if (Mr(r))
                    return (
                      qe.debug(
                        "Instrumentation suppressed, returning Noop Span"
                      ),
                      Ot.wrapSpanContext(ct)
                    );
                  var o,
                    c,
                    d,
                    p = null == s ? void 0 : s.spanContext(),
                    l = this._idGenerator.generateSpanId();
                  p && Ot.isSpanContextValid(p)
                    ? ((o = p.traceId), (c = p.traceState), (d = p.spanId))
                    : (o = this._idGenerator.generateTraceId());
                  var u =
                      null !== (n = t.kind) && void 0 !== n ? n : rn.INTERNAL,
                    h = (null !== (a = t.links) && void 0 !== a ? a : []).map(
                      function (e) {
                        return {
                          context: e.context,
                          attributes: hn(e.attributes),
                        };
                      }
                    ),
                    m = hn(t.attributes),
                    f = this._sampler.shouldSample(r, o, e, u, m, h);
                  c = null !== (i = f.traceState) && void 0 !== i ? i : c;
                  var _ = {
                    traceId: o,
                    spanId: l,
                    traceFlags:
                      f.decision === nn.RECORD_AND_SAMPLED
                        ? $e.SAMPLED
                        : $e.NONE,
                    traceState: c,
                  };
                  if (f.decision === nn.NOT_RECORD)
                    return (
                      qe.debug(
                        "Recording is off, propagating context in a non-recording span"
                      ),
                      Ot.wrapSpanContext(_)
                    );
                  var g = new Ln(this, r, e, _, u, d, h, t.startTime),
                    v = hn(Object.assign(m, f.attributes));
                  return g.setAttributes(v), g;
                }),
                (e.prototype.startActiveSpan = function (e, t, r, n) {
                  var a, i, s;
                  if (!(arguments.length < 2)) {
                    2 === arguments.length
                      ? (s = t)
                      : 3 === arguments.length
                      ? ((a = t), (s = r))
                      : ((a = t), (i = r), (s = n));
                    var o = null != i ? i : xt.active(),
                      c = this.startSpan(e, a, o),
                      d = Ot.setSpan(o, c);
                    return xt.with(d, s, void 0, c);
                  }
                }),
                (e.prototype.getGeneralLimits = function () {
                  return this._generalLimits;
                }),
                (e.prototype.getSpanLimits = function () {
                  return this._spanLimits;
                }),
                (e.prototype.getActiveSpanProcessor = function () {
                  return this._tracerProvider.getActiveSpanProcessor();
                }),
                e
              );
            })(),
            Jn = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            Qn = (function () {
              function e(e) {
                this._spanProcessors = e;
              }
              return (
                (e.prototype.forceFlush = function () {
                  var e,
                    t,
                    r = [];
                  try {
                    for (
                      var n = Jn(this._spanProcessors), a = n.next();
                      !a.done;
                      a = n.next()
                    ) {
                      var i = a.value;
                      r.push(i.forceFlush());
                    }
                  } catch (t) {
                    e = { error: t };
                  } finally {
                    try {
                      a && !a.done && (t = n.return) && t.call(n);
                    } finally {
                      if (e) throw e.error;
                    }
                  }
                  return new Promise(function (e) {
                    Promise.all(r)
                      .then(function () {
                        e();
                      })
                      .catch(function (t) {
                        jn(
                          t ||
                            new Error("MultiSpanProcessor: forceFlush failed")
                        ),
                          e();
                      });
                  });
                }),
                (e.prototype.onStart = function (e, t) {
                  var r, n;
                  try {
                    for (
                      var a = Jn(this._spanProcessors), i = a.next();
                      !i.done;
                      i = a.next()
                    ) {
                      i.value.onStart(e, t);
                    }
                  } catch (e) {
                    r = { error: e };
                  } finally {
                    try {
                      i && !i.done && (n = a.return) && n.call(a);
                    } finally {
                      if (r) throw r.error;
                    }
                  }
                }),
                (e.prototype.onEnd = function (e) {
                  var t, r;
                  try {
                    for (
                      var n = Jn(this._spanProcessors), a = n.next();
                      !a.done;
                      a = n.next()
                    ) {
                      a.value.onEnd(e);
                    }
                  } catch (e) {
                    t = { error: e };
                  } finally {
                    try {
                      a && !a.done && (r = n.return) && r.call(n);
                    } finally {
                      if (t) throw t.error;
                    }
                  }
                }),
                (e.prototype.shutdown = function () {
                  var e,
                    t,
                    r = [];
                  try {
                    for (
                      var n = Jn(this._spanProcessors), a = n.next();
                      !a.done;
                      a = n.next()
                    ) {
                      var i = a.value;
                      r.push(i.shutdown());
                    }
                  } catch (t) {
                    e = { error: t };
                  } finally {
                    try {
                      a && !a.done && (t = n.return) && t.call(n);
                    } finally {
                      if (e) throw e.error;
                    }
                  }
                  return new Promise(function (e, t) {
                    Promise.all(r).then(function () {
                      e();
                    }, t);
                  });
                }),
                e
              );
            })(),
            Yn = (function () {
              function e() {}
              return (
                (e.prototype.onStart = function (e, t) {}),
                (e.prototype.onEnd = function (e) {}),
                (e.prototype.shutdown = function () {
                  return Promise.resolve();
                }),
                (e.prototype.forceFlush = function () {
                  return Promise.resolve();
                }),
                e
              );
            })(),
            ea = (function () {
              function e() {
                var e = this;
                this._promise = new Promise(function (t, r) {
                  (e._resolve = t), (e._reject = r);
                });
              }
              return (
                Object.defineProperty(e.prototype, "promise", {
                  get: function () {
                    return this._promise;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                (e.prototype.resolve = function (e) {
                  this._resolve(e);
                }),
                (e.prototype.reject = function (e) {
                  this._reject(e);
                }),
                e
              );
            })(),
            ta = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            ra = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            na = (function () {
              function e(e, t) {
                (this._callback = e),
                  (this._that = t),
                  (this._isCalled = !1),
                  (this._deferred = new ea());
              }
              return (
                Object.defineProperty(e.prototype, "isCalled", {
                  get: function () {
                    return this._isCalled;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                Object.defineProperty(e.prototype, "promise", {
                  get: function () {
                    return this._deferred.promise;
                  },
                  enumerable: !1,
                  configurable: !0,
                }),
                (e.prototype.call = function () {
                  for (
                    var e, t = this, r = [], n = 0;
                    n < arguments.length;
                    n++
                  )
                    r[n] = arguments[n];
                  if (!this._isCalled) {
                    this._isCalled = !0;
                    try {
                      Promise.resolve(
                        (e = this._callback).call.apply(
                          e,
                          ra([this._that], ta(r), !1)
                        )
                      ).then(
                        function (e) {
                          return t._deferred.resolve(e);
                        },
                        function (e) {
                          return t._deferred.reject(e);
                        }
                      );
                    } catch (e) {
                      this._deferred.reject(e);
                    }
                  }
                  return this._deferred.promise;
                }),
                e
              );
            })();
          !(function (e) {
            (e[(e.SUCCESS = 0)] = "SUCCESS"), (e[(e.FAILED = 1)] = "FAILED");
          })($n || ($n = {}));
          var aa,
            ia,
            sa = (function () {
              function e(e, t) {
                (this._exporter = e),
                  (this._finishedSpans = []),
                  (this._droppedSpansCount = 0);
                var r = xr();
                (this._maxExportBatchSize =
                  "number" == typeof (null == t ? void 0 : t.maxExportBatchSize)
                    ? t.maxExportBatchSize
                    : r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE),
                  (this._maxQueueSize =
                    "number" == typeof (null == t ? void 0 : t.maxQueueSize)
                      ? t.maxQueueSize
                      : r.OTEL_BSP_MAX_QUEUE_SIZE),
                  (this._scheduledDelayMillis =
                    "number" ==
                    typeof (null == t ? void 0 : t.scheduledDelayMillis)
                      ? t.scheduledDelayMillis
                      : r.OTEL_BSP_SCHEDULE_DELAY),
                  (this._exportTimeoutMillis =
                    "number" ==
                    typeof (null == t ? void 0 : t.exportTimeoutMillis)
                      ? t.exportTimeoutMillis
                      : r.OTEL_BSP_EXPORT_TIMEOUT),
                  (this._shutdownOnce = new na(this._shutdown, this)),
                  this._maxExportBatchSize > this._maxQueueSize &&
                    (qe.warn(
                      "BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"
                    ),
                    (this._maxExportBatchSize = this._maxQueueSize));
              }
              return (
                (e.prototype.forceFlush = function () {
                  return this._shutdownOnce.isCalled
                    ? this._shutdownOnce.promise
                    : this._flushAll();
                }),
                (e.prototype.onStart = function (e, t) {}),
                (e.prototype.onEnd = function (e) {
                  this._shutdownOnce.isCalled ||
                    (0 != (e.spanContext().traceFlags & $e.SAMPLED) &&
                      this._addToBuffer(e));
                }),
                (e.prototype.shutdown = function () {
                  return this._shutdownOnce.call();
                }),
                (e.prototype._shutdown = function () {
                  var e = this;
                  return Promise.resolve()
                    .then(function () {
                      return e.onShutdown();
                    })
                    .then(function () {
                      return e._flushAll();
                    })
                    .then(function () {
                      return e._exporter.shutdown();
                    });
                }),
                (e.prototype._addToBuffer = function (e) {
                  if (this._finishedSpans.length >= this._maxQueueSize)
                    return (
                      0 === this._droppedSpansCount &&
                        qe.debug("maxQueueSize reached, dropping spans"),
                      void this._droppedSpansCount++
                    );
                  this._droppedSpansCount > 0 &&
                    (qe.warn(
                      "Dropped " +
                        this._droppedSpansCount +
                        " spans because maxQueueSize reached"
                    ),
                    (this._droppedSpansCount = 0)),
                    this._finishedSpans.push(e),
                    this._maybeStartTimer();
                }),
                (e.prototype._flushAll = function () {
                  var e = this;
                  return new Promise(function (t, r) {
                    for (
                      var n = [],
                        a = 0,
                        i = Math.ceil(
                          e._finishedSpans.length / e._maxExportBatchSize
                        );
                      a < i;
                      a++
                    )
                      n.push(e._flushOneBatch());
                    Promise.all(n)
                      .then(function () {
                        t();
                      })
                      .catch(r);
                  });
                }),
                (e.prototype._flushOneBatch = function () {
                  var e = this;
                  return (
                    this._clearTimer(),
                    0 === this._finishedSpans.length
                      ? Promise.resolve()
                      : new Promise(function (t, r) {
                          var n = setTimeout(function () {
                            r(new Error("Timeout"));
                          }, e._exportTimeoutMillis);
                          xt.with(xt.active().setValue(Lr, !0), function () {
                            var a = e._finishedSpans.splice(
                                0,
                                e._maxExportBatchSize
                              ),
                              i = function () {
                                return e._exporter.export(a, function (e) {
                                  var a;
                                  clearTimeout(n),
                                    e.code === $n.SUCCESS
                                      ? t()
                                      : r(
                                          null !== (a = e.error) && void 0 !== a
                                            ? a
                                            : new Error(
                                                "BatchSpanProcessor: span export failed"
                                              )
                                        );
                                });
                              },
                              s = a
                                .map(function (e) {
                                  return e.resource;
                                })
                                .filter(function (e) {
                                  return e.asyncAttributesPending;
                                });
                            0 === s.length
                              ? i()
                              : Promise.all(
                                  s.map(function (e) {
                                    var t;
                                    return null ===
                                      (t = e.waitForAsyncAttributes) ||
                                      void 0 === t
                                      ? void 0
                                      : t.call(e);
                                  })
                                ).then(i, function (e) {
                                  jn(e), r(e);
                                });
                          });
                        })
                  );
                }),
                (e.prototype._maybeStartTimer = function () {
                  var e = this;
                  void 0 === this._timer &&
                    ((this._timer = setTimeout(function () {
                      e._flushOneBatch()
                        .then(function () {
                          e._finishedSpans.length > 0 &&
                            (e._clearTimer(), e._maybeStartTimer());
                        })
                        .catch(function (e) {
                          jn(e);
                        });
                    }, this._scheduledDelayMillis)),
                    this._timer);
                }),
                (e.prototype._clearTimer = function () {
                  void 0 !== this._timer &&
                    (clearTimeout(this._timer), (this._timer = void 0));
                }),
                e
              );
            })(),
            oa =
              ((aa = function (e, t) {
                return (
                  (aa =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          (e[r] = t[r]);
                    }),
                  aa(e, t)
                );
              }),
              function (e, t) {
                if ("function" != typeof t && null !== t)
                  throw new TypeError(
                    "Class extends value " +
                      String(t) +
                      " is not a constructor or null"
                  );
                function r() {
                  this.constructor = e;
                }
                aa(e, t),
                  (e.prototype =
                    null === t
                      ? Object.create(t)
                      : ((r.prototype = t.prototype), new r()));
              }),
            ca = (function (e) {
              function t(t, r) {
                var n = e.call(this, t, r) || this;
                return n.onInit(r), n;
              }
              return (
                oa(t, e),
                (t.prototype.onInit = function (e) {
                  var t = this;
                  !0 !==
                    (null == e ? void 0 : e.disableAutoFlushOnDocumentHide) &&
                    "undefined" != typeof document &&
                    ((this._visibilityChangeListener = function () {
                      "hidden" === document.visibilityState && t.forceFlush();
                    }),
                    (this._pageHideListener = function () {
                      t.forceFlush();
                    }),
                    document.addEventListener(
                      "visibilitychange",
                      this._visibilityChangeListener
                    ),
                    document.addEventListener(
                      "pagehide",
                      this._pageHideListener
                    ));
                }),
                (t.prototype.onShutdown = function () {
                  "undefined" != typeof document &&
                    (this._visibilityChangeListener &&
                      document.removeEventListener(
                        "visibilitychange",
                        this._visibilityChangeListener
                      ),
                    this._pageHideListener &&
                      document.removeEventListener(
                        "pagehide",
                        this._pageHideListener
                      ));
                }),
                t
              );
            })(sa);
          !(function (e) {
            (e[(e.resolved = 0)] = "resolved"),
              (e[(e.timeout = 1)] = "timeout"),
              (e[(e.error = 2)] = "error"),
              (e[(e.unresolved = 3)] = "unresolved");
          })(ia || (ia = {}));
          var da = (function () {
              function e(e) {
                var t;
                void 0 === e && (e = {}),
                  (this._registeredSpanProcessors = []),
                  (this._tracers = new Map());
                var r = (function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  for (var r = e.shift(), n = new WeakMap(); e.length > 0; )
                    r = cr(r, e.shift(), 0, n);
                  return r;
                })({}, Hn(), Wn(e));
                (this.resource =
                  null !== (t = r.resource) && void 0 !== t ? t : dn.empty()),
                  (this.resource = dn.default().merge(this.resource)),
                  (this._config = Object.assign({}, r, {
                    resource: this.resource,
                  }));
                var n = this._buildExporterFromEnv();
                if (void 0 !== n) {
                  var a = new ca(n);
                  this.activeSpanProcessor = a;
                } else this.activeSpanProcessor = new Yn();
              }
              return (
                (e.prototype.getTracer = function (e, t, r) {
                  var n =
                    e +
                    "@" +
                    (t || "") +
                    ":" +
                    ((null == r ? void 0 : r.schemaUrl) || "");
                  return (
                    this._tracers.has(n) ||
                      this._tracers.set(
                        n,
                        new Xn(
                          {
                            name: e,
                            version: t,
                            schemaUrl: null == r ? void 0 : r.schemaUrl,
                          },
                          this._config,
                          this
                        )
                      ),
                    this._tracers.get(n)
                  );
                }),
                (e.prototype.addSpanProcessor = function (e) {
                  0 === this._registeredSpanProcessors.length &&
                    this.activeSpanProcessor.shutdown().catch(function (e) {
                      return qe.error(
                        "Error while trying to shutdown current span processor",
                        e
                      );
                    }),
                    this._registeredSpanProcessors.push(e),
                    (this.activeSpanProcessor = new Qn(
                      this._registeredSpanProcessors
                    ));
                }),
                (e.prototype.getActiveSpanProcessor = function () {
                  return this.activeSpanProcessor;
                }),
                (e.prototype.register = function (e) {
                  void 0 === e && (e = {}),
                    Ot.setGlobalTracerProvider(this),
                    void 0 === e.propagator &&
                      (e.propagator = this._buildPropagatorFromEnv()),
                    e.contextManager &&
                      xt.setGlobalContextManager(e.contextManager),
                    e.propagator && $t.setGlobalPropagator(e.propagator);
                }),
                (e.prototype.forceFlush = function () {
                  var e = this._config.forceFlushTimeoutMillis,
                    t = this._registeredSpanProcessors.map(function (t) {
                      return new Promise(function (r) {
                        var n,
                          a = setTimeout(function () {
                            r(
                              new Error(
                                "Span processor did not completed within timeout period of " +
                                  e +
                                  " ms"
                              )
                            ),
                              (n = ia.timeout);
                          }, e);
                        t.forceFlush()
                          .then(function () {
                            clearTimeout(a),
                              n !== ia.timeout && ((n = ia.resolved), r(n));
                          })
                          .catch(function (e) {
                            clearTimeout(a), (n = ia.error), r(e);
                          });
                      });
                    });
                  return new Promise(function (e, r) {
                    Promise.all(t)
                      .then(function (t) {
                        var n = t.filter(function (e) {
                          return e !== ia.resolved;
                        });
                        n.length > 0 ? r(n) : e();
                      })
                      .catch(function (e) {
                        return r([e]);
                      });
                  });
                }),
                (e.prototype.shutdown = function () {
                  return this.activeSpanProcessor.shutdown();
                }),
                (e.prototype._getPropagator = function (e) {
                  var t;
                  return null ===
                    (t = this.constructor._registeredPropagators.get(e)) ||
                    void 0 === t
                    ? void 0
                    : t();
                }),
                (e.prototype._getSpanExporter = function (e) {
                  var t;
                  return null ===
                    (t = this.constructor._registeredExporters.get(e)) ||
                    void 0 === t
                    ? void 0
                    : t();
                }),
                (e.prototype._buildPropagatorFromEnv = function () {
                  var e = this,
                    t = Array.from(new Set(xr().OTEL_PROPAGATORS)),
                    r = t
                      .map(function (t) {
                        var r = e._getPropagator(t);
                        return (
                          r ||
                            qe.warn(
                              'Propagator "' +
                                t +
                                '" requested through environment variable is unavailable.'
                            ),
                          r
                        );
                      })
                      .reduce(function (e, t) {
                        return t && e.push(t), e;
                      }, []);
                  return 0 === r.length
                    ? void 0
                    : 1 === t.length
                    ? r[0]
                    : new Ir({ propagators: r });
                }),
                (e.prototype._buildExporterFromEnv = function () {
                  var e = xr().OTEL_TRACES_EXPORTER;
                  if ("none" !== e && "" !== e) {
                    var t = this._getSpanExporter(e);
                    return (
                      t ||
                        qe.error(
                          'Exporter "' +
                            e +
                            '" requested through environment variable is unavailable.'
                        ),
                      t
                    );
                  }
                }),
                (e._registeredPropagators = new Map([
                  [
                    "tracecontext",
                    function () {
                      return new Hr();
                    },
                  ],
                  [
                    "baggage",
                    function () {
                      return new $r();
                    },
                  ],
                ])),
                (e._registeredExporters = new Map()),
                e
              );
            })(),
            pa = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            la = function (e, t, r) {
              if (r || 2 === arguments.length)
                for (var n, a = 0, i = t.length; a < i; a++)
                  (!n && a in t) ||
                    (n || (n = Array.prototype.slice.call(t, 0, a)),
                    (n[a] = t[a]));
              return e.concat(n || Array.prototype.slice.call(t));
            },
            ua = (function () {
              function e() {
                (this._enabled = !1), (this._currentContext = Je);
              }
              return (
                (e.prototype._bindFunction = function (e, t) {
                  void 0 === e && (e = Je);
                  var r = this,
                    n = function () {
                      for (
                        var n = this, a = [], i = 0;
                        i < arguments.length;
                        i++
                      )
                        a[i] = arguments[i];
                      return r.with(e, function () {
                        return t.apply(n, a);
                      });
                    };
                  return (
                    Object.defineProperty(n, "length", {
                      enumerable: !1,
                      configurable: !0,
                      writable: !1,
                      value: t.length,
                    }),
                    n
                  );
                }),
                (e.prototype.active = function () {
                  return this._currentContext;
                }),
                (e.prototype.bind = function (e, t) {
                  return (
                    void 0 === e && (e = this.active()),
                    "function" == typeof t ? this._bindFunction(e, t) : t
                  );
                }),
                (e.prototype.disable = function () {
                  return (
                    (this._currentContext = Je), (this._enabled = !1), this
                  );
                }),
                (e.prototype.enable = function () {
                  return (
                    this._enabled ||
                      ((this._enabled = !0), (this._currentContext = Je)),
                    this
                  );
                }),
                (e.prototype.with = function (e, t, r) {
                  for (var n = [], a = 3; a < arguments.length; a++)
                    n[a - 3] = arguments[a];
                  var i = this._currentContext;
                  this._currentContext = e || Je;
                  try {
                    return t.call.apply(t, la([r], pa(n), !1));
                  } finally {
                    this._currentContext = i;
                  }
                }),
                e
              );
            })(),
            ha = (function () {
              var e = function (t, r) {
                return (
                  (e =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          (e[r] = t[r]);
                    }),
                  e(t, r)
                );
              };
              return function (t, r) {
                if ("function" != typeof r && null !== r)
                  throw new TypeError(
                    "Class extends value " +
                      String(r) +
                      " is not a constructor or null"
                  );
                function n() {
                  this.constructor = t;
                }
                e(t, r),
                  (t.prototype =
                    null === r
                      ? Object.create(r)
                      : ((n.prototype = r.prototype), new n()));
              };
            })(),
            ma = (function (e) {
              function t(t) {
                void 0 === t && (t = {});
                var r = e.call(this, t) || this;
                if (t.contextManager)
                  throw "contextManager should be defined in register method not in constructor";
                if (t.propagator)
                  throw "propagator should be defined in register method not in constructor";
                return r;
              }
              return (
                ha(t, e),
                (t.prototype.register = function (t) {
                  void 0 === t && (t = {}),
                    void 0 === t.contextManager &&
                      (t.contextManager = new ua()),
                    t.contextManager && t.contextManager.enable(),
                    e.prototype.register.call(this, t);
                }),
                t
              );
            })(da),
            fa = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            },
            _a = 1e4;
          function ga(e) {
            return "number" == typeof e
              ? e <= 0
                ? va(e, 1e4)
                : e
              : (function () {
                  var e,
                    t = Number(
                      null !== (e = xr().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT) &&
                        void 0 !== e
                        ? e
                        : xr().OTEL_EXPORTER_OTLP_TIMEOUT
                    );
                  return t <= 0 ? va(t, _a) : t;
                })();
          }
          function va(e, t) {
            return qe.warn("Timeout must be greater than 0", e), t;
          }
          var ya = (function () {
              function e(e) {
                void 0 === e && (e = {}),
                  (this._sendingPromises = []),
                  (this.url = this.getDefaultUrl(e)),
                  "string" == typeof e.hostname && (this.hostname = e.hostname),
                  (this.shutdown = this.shutdown.bind(this)),
                  (this._shutdownOnce = new na(this._shutdown, this)),
                  (this._concurrencyLimit =
                    "number" == typeof e.concurrencyLimit
                      ? e.concurrencyLimit
                      : 1 / 0),
                  (this.timeoutMillis = ga(e.timeoutMillis)),
                  this.onInit(e);
              }
              return (
                (e.prototype.export = function (e, t) {
                  this._shutdownOnce.isCalled
                    ? t({
                        code: $n.FAILED,
                        error: new Error("Exporter has been shutdown"),
                      })
                    : this._sendingPromises.length >= this._concurrencyLimit
                    ? t({
                        code: $n.FAILED,
                        error: new Error("Concurrent export limit reached"),
                      })
                    : this._export(e)
                        .then(function () {
                          t({ code: $n.SUCCESS });
                        })
                        .catch(function (e) {
                          t({ code: $n.FAILED, error: e });
                        });
                }),
                (e.prototype._export = function (e) {
                  var t = this;
                  return new Promise(function (r, n) {
                    try {
                      qe.debug("items to be sent", e), t.send(e, r, n);
                    } catch (e) {
                      n(e);
                    }
                  });
                }),
                (e.prototype.shutdown = function () {
                  return this._shutdownOnce.call();
                }),
                (e.prototype.forceFlush = function () {
                  return Promise.all(this._sendingPromises).then(
                    function () {}
                  );
                }),
                (e.prototype._shutdown = function () {
                  return (
                    qe.debug("shutdown started"),
                    this.onShutdown(),
                    this.forceFlush()
                  );
                }),
                e
              );
            })(),
            ba = (function () {
              var e = function (t, r) {
                return (
                  (e =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          (e[r] = t[r]);
                    }),
                  e(t, r)
                );
              };
              return function (t, r) {
                if ("function" != typeof r && null !== r)
                  throw new TypeError(
                    "Class extends value " +
                      String(r) +
                      " is not a constructor or null"
                  );
                function n() {
                  this.constructor = t;
                }
                e(t, r),
                  (t.prototype =
                    null === r
                      ? Object.create(r)
                      : ((n.prototype = r.prototype), new n()));
              };
            })(),
            Sa = (function (e) {
              function t(t, r, n) {
                var a = e.call(this, t) || this;
                return (
                  (a.name = "OTLPExporterError"), (a.data = n), (a.code = r), a
                );
              }
              return ba(t, e), t;
            })(Error),
            wa = function () {
              return (
                (wa =
                  Object.assign ||
                  function (e) {
                    for (var t, r = 1, n = arguments.length; r < n; r++)
                      for (var a in (t = arguments[r]))
                        Object.prototype.hasOwnProperty.call(t, a) &&
                          (e[a] = t[a]);
                    return e;
                  }),
                wa.apply(this, arguments)
              );
            },
            Ta = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            };
          function Ea(e, t, r, n, a, i) {
            var s,
              o,
              c = !1,
              d = setTimeout(function () {
                if (
                  (clearTimeout(s),
                  (c = !0),
                  o.readyState === XMLHttpRequest.DONE)
                ) {
                  var e = new Sa("Request Timeout");
                  i(e);
                } else o.abort();
              }, n),
              p = function (n, l) {
                void 0 === n && (n = 5),
                  void 0 === l && (l = 1e3),
                  (o = new XMLHttpRequest()).open("POST", t);
                Object.entries(
                  wa(
                    wa(
                      {},
                      {
                        Accept: "application/json",
                        "Content-Type": "application/json",
                      }
                    ),
                    r
                  )
                ).forEach(function (e) {
                  var t = Ta(e, 2),
                    r = t[0],
                    n = t[1];
                  o.setRequestHeader(r, n);
                }),
                  o.send(e),
                  (o.onreadystatechange = function () {
                    if (o.readyState === XMLHttpRequest.DONE && !1 === c)
                      if (o.status >= 200 && o.status <= 299)
                        qe.debug("xhr success", e),
                          a(),
                          clearTimeout(d),
                          clearTimeout(s);
                      else if (
                        o.status &&
                        ((u = o.status), [429, 502, 503, 504].includes(u)) &&
                        n > 0
                      ) {
                        var t = void 0;
                        (l *= 1.5),
                          (t = o.getResponseHeader("Retry-After")
                            ? (function (e) {
                                if (null == e) return -1;
                                var t = Number.parseInt(e, 10);
                                if (Number.isInteger(t))
                                  return t > 0 ? 1e3 * t : -1;
                                var r = new Date(e).getTime() - Date.now();
                                return r >= 0 ? r : 0;
                              })(o.getResponseHeader("Retry-After"))
                            : Math.round(Math.random() * (5e3 - l) + l)),
                          (s = setTimeout(function () {
                            p(n - 1, l);
                          }, t));
                      } else {
                        var r = new Sa(
                          "Failed to export with XHR (status: " +
                            o.status +
                            ")",
                          o.status
                        );
                        i(r), clearTimeout(d), clearTimeout(s);
                      }
                    var u;
                  }),
                  (o.onabort = function () {
                    if (c) {
                      var e = new Sa("Request Timeout");
                      i(e);
                    }
                    clearTimeout(d), clearTimeout(s);
                  }),
                  (o.onerror = function () {
                    if (c) {
                      var e = new Sa("Request Timeout");
                      i(e);
                    }
                    clearTimeout(d), clearTimeout(s);
                  });
              };
            p();
          }
          var Ra = (function () {
              var e = function (t, r) {
                return (
                  (e =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          (e[r] = t[r]);
                    }),
                  e(t, r)
                );
              };
              return function (t, r) {
                if ("function" != typeof r && null !== r)
                  throw new TypeError(
                    "Class extends value " +
                      String(r) +
                      " is not a constructor or null"
                  );
                function n() {
                  this.constructor = t;
                }
                e(t, r),
                  (t.prototype =
                    null === r
                      ? Object.create(r)
                      : ((n.prototype = r.prototype), new n()));
              };
            })(),
            Pa = (function (e) {
              function t(t) {
                void 0 === t && (t = {});
                var r = e.call(this, t) || this;
                return (
                  (r._useXHR = !1),
                  (r._useXHR =
                    !!t.headers || "function" != typeof navigator.sendBeacon),
                  r._useXHR
                    ? (r._headers = Object.assign(
                        {},
                        (function (e) {
                          void 0 === e && (e = {});
                          var t = {};
                          return (
                            Object.entries(e).forEach(function (e) {
                              var r = fa(e, 2),
                                n = r[0],
                                a = r[1];
                              void 0 !== a
                                ? (t[n] = String(a))
                                : qe.warn(
                                    'Header "' +
                                      n +
                                      '" has wrong value and will be ignored'
                                  );
                            }),
                            t
                          );
                        })(t.headers),
                        qr(xr().OTEL_EXPORTER_OTLP_HEADERS)
                      ))
                    : (r._headers = {}),
                  r
                );
              }
              return (
                Ra(t, e),
                (t.prototype.onInit = function () {
                  window.addEventListener("unload", this.shutdown);
                }),
                (t.prototype.onShutdown = function () {
                  window.removeEventListener("unload", this.shutdown);
                }),
                (t.prototype.send = function (e, t, r) {
                  var n = this;
                  if (this._shutdownOnce.isCalled)
                    qe.debug("Shutdown already started. Cannot send objects");
                  else {
                    var a = this.convert(e),
                      i = JSON.stringify(a),
                      s = new Promise(function (e, t) {
                        n._useXHR
                          ? Ea(i, n.url, n._headers, n.timeoutMillis, e, t)
                          : (function (e, t, r, n, a) {
                              navigator.sendBeacon(t, new Blob([e], r))
                                ? (qe.debug("sendBeacon - can send", e), n())
                                : a(new Sa("sendBeacon - cannot send " + e));
                            })(i, n.url, { type: "application/json" }, e, t);
                      }).then(t, r);
                    this._sendingPromises.push(s);
                    var o = function () {
                      var e = n._sendingPromises.indexOf(s);
                      n._sendingPromises.splice(e, 1);
                    };
                    s.then(o, o);
                  }
                }),
                t
              );
            })(ya),
            Ca = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            };
          function ka(e) {
            return Object.keys(e).map(function (t) {
              return Oa(t, e[t]);
            });
          }
          function Oa(e, t) {
            return { key: e, value: xa(t) };
          }
          function xa(e) {
            var t = typeof e;
            return "string" === t
              ? { stringValue: e }
              : "number" === t
              ? Number.isInteger(e)
                ? { intValue: e }
                : { doubleValue: e }
              : "boolean" === t
              ? { boolValue: e }
              : e instanceof Uint8Array
              ? { bytesValue: e }
              : Array.isArray(e)
              ? { arrayValue: { values: e.map(xa) } }
              : "object" === t && null != e
              ? {
                  kvlistValue: {
                    values: Object.entries(e).map(function (e) {
                      var t = Ca(e, 2);
                      return Oa(t[0], t[1]);
                    }),
                  },
                }
              : {};
          }
          function Da(e) {
            for (var t = e.length, r = "", n = 0; n < t; n += 2) {
              var a = e.substring(n, n + 2),
                i = parseInt(a, 16);
              r += String.fromCharCode(i);
            }
            return btoa(r);
          }
          function Ia(e, t) {
            var r,
              n = e.spanContext(),
              a = e.status,
              i = t
                ? e.parentSpanId
                : null != e.parentSpanId
                ? Da(e.parentSpanId)
                : void 0;
            return {
              traceId: t ? n.traceId : Da(n.traceId),
              spanId: t ? n.spanId : Da(n.spanId),
              parentSpanId: i,
              traceState:
                null === (r = n.traceState) || void 0 === r
                  ? void 0
                  : r.serialize(),
              name: e.name,
              kind: null == e.kind ? 0 : e.kind + 1,
              startTimeUnixNano: Tn(e.startTime),
              endTimeUnixNano: Tn(e.endTime),
              attributes: ka(e.attributes),
              droppedAttributesCount: e.droppedAttributesCount,
              events: e.events.map(La),
              droppedEventsCount: e.droppedEventsCount,
              status: { code: a.code, message: a.message },
              links: e.links.map(function (e) {
                return (function (e, t) {
                  var r;
                  return {
                    attributes: e.attributes ? ka(e.attributes) : [],
                    spanId: t ? e.context.spanId : Da(e.context.spanId),
                    traceId: t ? e.context.traceId : Da(e.context.traceId),
                    traceState:
                      null === (r = e.context.traceState) || void 0 === r
                        ? void 0
                        : r.serialize(),
                    droppedAttributesCount: e.droppedAttributesCount || 0,
                  };
                })(e, t);
              }),
              droppedLinksCount: e.droppedLinksCount,
            };
          }
          function La(e) {
            return {
              attributes: e.attributes ? ka(e.attributes) : [],
              name: e.name,
              timeUnixNano: Tn(e.time),
              droppedAttributesCount: e.droppedAttributesCount || 0,
            };
          }
          var Ma = function (e) {
              var t = "function" == typeof Symbol && Symbol.iterator,
                r = t && e[t],
                n = 0;
              if (r) return r.call(e);
              if (e && "number" == typeof e.length)
                return {
                  next: function () {
                    return (
                      e && n >= e.length && (e = void 0),
                      { value: e && e[n++], done: !e }
                    );
                  },
                };
              throw new TypeError(
                t
                  ? "Object is not iterable."
                  : "Symbol.iterator is not defined."
              );
            },
            Aa = function (e, t) {
              var r = "function" == typeof Symbol && e[Symbol.iterator];
              if (!r) return e;
              var n,
                a,
                i = r.call(e),
                s = [];
              try {
                for (; (void 0 === t || t-- > 0) && !(n = i.next()).done; )
                  s.push(n.value);
              } catch (e) {
                a = { error: e };
              } finally {
                try {
                  n && !n.done && (r = i.return) && r.call(i);
                } finally {
                  if (a) throw a.error;
                }
              }
              return s;
            };
          function Na(e, t) {
            for (
              var r = (function (e) {
                  var t,
                    r,
                    n = new Map();
                  try {
                    for (var a = Ma(e), i = a.next(); !i.done; i = a.next()) {
                      var s = i.value,
                        o = n.get(s.resource);
                      o || ((o = new Map()), n.set(s.resource, o));
                      var c =
                          s.instrumentationLibrary.name +
                          "@" +
                          (s.instrumentationLibrary.version || "") +
                          ":" +
                          (s.instrumentationLibrary.schemaUrl || ""),
                        d = o.get(c);
                      d || ((d = []), o.set(c, d)), d.push(s);
                    }
                  } catch (e) {
                    t = { error: e };
                  } finally {
                    try {
                      i && !i.done && (r = a.return) && r.call(a);
                    } finally {
                      if (t) throw t.error;
                    }
                  }
                  return n;
                })(e),
                n = [],
                a = r.entries(),
                i = a.next();
              !i.done;

            ) {
              for (
                var s = Aa(i.value, 2),
                  o = s[0],
                  c = [],
                  d = s[1].values(),
                  p = d.next();
                !p.done;

              ) {
                var l = p.value;
                if (l.length > 0) {
                  var u = l[0].instrumentationLibrary,
                    h = u.name,
                    m = u.version,
                    f = u.schemaUrl,
                    _ = l.map(function (e) {
                      return Ia(e, t);
                    });
                  c.push({
                    scope: { name: h, version: m },
                    spans: _,
                    schemaUrl: f,
                  });
                }
                p = d.next();
              }
              var g = {
                resource: {
                  attributes: ka(o.attributes),
                  droppedAttributesCount: 0,
                },
                scopeSpans: c,
                schemaUrl: void 0,
              };
              n.push(g), (i = a.next());
            }
            return n;
          }
          var ja = (function () {
              var e = function (t, r) {
                return (
                  (e =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          (e[r] = t[r]);
                    }),
                  e(t, r)
                );
              };
              return function (t, r) {
                if ("function" != typeof r && null !== r)
                  throw new TypeError(
                    "Class extends value " +
                      String(r) +
                      " is not a constructor or null"
                  );
                function n() {
                  this.constructor = t;
                }
                e(t, r),
                  (t.prototype =
                    null === r
                      ? Object.create(r)
                      : ((n.prototype = r.prototype), new n()));
              };
            })(),
            Fa = "v1/traces",
            Ba = (function (e) {
              function t(t) {
                void 0 === t && (t = {});
                var r = e.call(this, t) || this;
                return (
                  (r._headers = Object.assign(
                    r._headers,
                    qr(xr().OTEL_EXPORTER_OTLP_TRACES_HEADERS)
                  )),
                  r
                );
              }
              return (
                ja(t, e),
                (t.prototype.convert = function (e) {
                  return (function (e, t) {
                    return { resourceSpans: Na(e, t) };
                  })(e, !0);
                }),
                (t.prototype.getDefaultUrl = function (e) {
                  return "string" == typeof e.url
                    ? e.url
                    : xr().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length > 0
                    ? (function (e) {
                        try {
                          var t = new URL(e);
                          return (
                            "" === t.pathname &&
                              (t.pathname = t.pathname + "/"),
                            t.toString()
                          );
                        } catch (t) {
                          return (
                            qe.warn("Could not parse export URL: '" + e + "'"),
                            e
                          );
                        }
                      })(xr().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT)
                    : xr().OTEL_EXPORTER_OTLP_ENDPOINT.length > 0
                    ? ((t = xr().OTEL_EXPORTER_OTLP_ENDPOINT),
                      (r = Fa),
                      t.endsWith("/") || (t += "/"),
                      t + r)
                    : "http://localhost:4318/v1/traces";
                  var t, r;
                }),
                t
              );
            })(Pa);
          var Ua = "OT_ZONE_CONTEXT",
            Za = (function () {
              function e() {
                (this._enabled = !1), (this._zoneCounter = 0);
              }
              return (
                (e.prototype._activeContextFromZone = function (e) {
                  return (e && e.get(Ua)) || Je;
                }),
                (e.prototype._bindFunction = function (e, t) {
                  var r = this,
                    n = function () {
                      for (
                        var n = this, a = [], i = 0;
                        i < arguments.length;
                        i++
                      )
                        a[i] = arguments[i];
                      return r.with(e, function () {
                        return t.apply(n, a);
                      });
                    };
                  return (
                    Object.defineProperty(n, "length", {
                      enumerable: !1,
                      configurable: !0,
                      writable: !1,
                      value: t.length,
                    }),
                    n
                  );
                }),
                (e.prototype._bindListener = function (e, t) {
                  var r = t;
                  return (
                    void 0 !== r.__ot_listeners ||
                      ((r.__ot_listeners = {}),
                      "function" == typeof r.addEventListener &&
                        (r.addEventListener = this._patchAddEventListener(
                          r,
                          r.addEventListener,
                          e
                        )),
                      "function" == typeof r.removeEventListener &&
                        (r.removeEventListener = this._patchRemoveEventListener(
                          r,
                          r.removeEventListener
                        ))),
                    t
                  );
                }),
                (e.prototype._createZoneName = function () {
                  this._zoneCounter++;
                  var e = Math.random();
                  return this._zoneCounter + "-" + e;
                }),
                (e.prototype._createZone = function (e, t) {
                  var r;
                  return Zone.current.fork({
                    name: e,
                    properties: ((r = {}), (r.OT_ZONE_CONTEXT = t), r),
                  });
                }),
                (e.prototype._getActiveZone = function () {
                  return Zone.current;
                }),
                (e.prototype._patchAddEventListener = function (e, t, r) {
                  var n = this;
                  return function (a, i, s) {
                    void 0 === e.__ot_listeners && (e.__ot_listeners = {});
                    var o = e.__ot_listeners[a];
                    void 0 === o &&
                      ((o = new WeakMap()), (e.__ot_listeners[a] = o));
                    var c = n.bind(r, i);
                    return o.set(i, c), t.call(this, a, c, s);
                  };
                }),
                (e.prototype._patchRemoveEventListener = function (e, t) {
                  return function (r, n) {
                    if (
                      void 0 === e.__ot_listeners ||
                      void 0 === e.__ot_listeners[r]
                    )
                      return t.call(this, r, n);
                    var a = e.__ot_listeners[r],
                      i = a.get(n);
                    return a.delete(n), t.call(this, r, i || n);
                  };
                }),
                (e.prototype.active = function () {
                  if (!this._enabled) return Je;
                  var e = this._getActiveZone(),
                    t = this._activeContextFromZone(e);
                  return t || Je;
                }),
                (e.prototype.bind = function (e, t) {
                  return (
                    void 0 === e && (e = this.active()),
                    "function" == typeof t
                      ? this._bindFunction(e, t)
                      : (void 0 === (r = t) && (r = {}),
                        "function" == typeof r.addEventListener &&
                          "function" == typeof r.removeEventListener &&
                          this._bindListener(e, t),
                        t)
                  );
                  var r;
                }),
                (e.prototype.disable = function () {
                  return (this._enabled = !1), this;
                }),
                (e.prototype.enable = function () {
                  return (this._enabled = !0), this;
                }),
                (e.prototype.with = function (e, t, r) {
                  for (var n = [], a = 3; a < arguments.length; a++)
                    n[a - 3] = arguments[a];
                  var i = this._createZoneName(),
                    s = this._createZone(i, e);
                  return s.run(t, r, n);
                }),
                e
              );
            })(),
            Ha =
              (r(6037),
              (function () {
                var e = function (t, r) {
                  return (
                    (e =
                      Object.setPrototypeOf ||
                      ({ __proto__: [] } instanceof Array &&
                        function (e, t) {
                          e.__proto__ = t;
                        }) ||
                      function (e, t) {
                        for (var r in t)
                          Object.prototype.hasOwnProperty.call(t, r) &&
                            (e[r] = t[r]);
                      }),
                    e(t, r)
                  );
                };
                return function (t, r) {
                  if ("function" != typeof r && null !== r)
                    throw new TypeError(
                      "Class extends value " +
                        String(r) +
                        " is not a constructor or null"
                    );
                  function n() {
                    this.constructor = t;
                  }
                  e(t, r),
                    (t.prototype =
                      null === r
                        ? Object.create(r)
                        : ((n.prototype = r.prototype), new n()));
                };
              })()),
            za = (function () {
              function e() {}
              return (
                (e.prototype.createHistogram = function (e, t) {
                  return ei;
                }),
                (e.prototype.createCounter = function (e, t) {
                  return Ya;
                }),
                (e.prototype.createUpDownCounter = function (e, t) {
                  return ti;
                }),
                (e.prototype.createObservableGauge = function (e, t) {
                  return ni;
                }),
                (e.prototype.createObservableCounter = function (e, t) {
                  return ri;
                }),
                (e.prototype.createObservableUpDownCounter = function (e, t) {
                  return ai;
                }),
                (e.prototype.addBatchObservableCallback = function (e, t) {}),
                (e.prototype.removeBatchObservableCallback = function (e) {}),
                e
              );
            })(),
            Va = function () {},
            Wa = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), (t.prototype.add = function (e, t) {}), t;
            })(Va),
            Ga = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), (t.prototype.add = function (e, t) {}), t;
            })(Va),
            qa = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), (t.prototype.record = function (e, t) {}), t;
            })(Va),
            Ka = (function () {
              function e() {}
              return (
                (e.prototype.addCallback = function (e) {}),
                (e.prototype.removeCallback = function (e) {}),
                e
              );
            })(),
            $a = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), t;
            })(Ka),
            Xa = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), t;
            })(Ka),
            Ja = (function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return Ha(t, e), t;
            })(Ka),
            Qa = new za(),
            Ya = new Wa(),
            ei = new qa(),
            ti = new Ga(),
            ri = new $a(),
            ni = new Xa(),
            ai = new Ja();
          var ii = new ((function () {
              function e() {}
              return (
                (e.prototype.getMeter = function (e, t, r) {
                  return Qa;
                }),
                e
              );
            })())(),
            si = "metrics",
            oi = (function () {
              function e() {}
              return (
                (e.getInstance = function () {
                  return (
                    this._instance || (this._instance = new e()), this._instance
                  );
                }),
                (e.prototype.setGlobalMeterProvider = function (e) {
                  return Ne(si, e, Ge.instance());
                }),
                (e.prototype.getMeterProvider = function () {
                  return je(si) || ii;
                }),
                (e.prototype.getMeter = function (e, t, r) {
                  return this.getMeterProvider().getMeter(e, t, r);
                }),
                (e.prototype.disable = function () {
                  Fe(si, Ge.instance());
                }),
                e
              );
            })().getInstance();
          const ci = {
            context: xt,
            diag: qe,
            metrics: oi,
            propagation: $t,
            trace: Ot,
          };
          function di(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function pi(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? di(Object(r), !0).forEach(function (t) {
                    (0, o.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : di(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var li = (function () {
            function e(t) {
              var r = t.roomId,
                n = t.peerId,
                a = t.sdkName,
                s = t.logs,
                o = t.observabilityJwt,
                c = t.traces,
                d = t.metaData;
              if (
                ((0, i.Z)(this, e),
                (this._peerId = n),
                (this._roomId = r),
                (this._logs = s),
                (this._tracesEnabled = c.enabled),
                (this._observabilityJwt = o),
                "react-native" != a && this._tracesEnabled)
              ) {
                var p = new Ba({
                  url: c.endPoint,
                  headers: { Authorization: this._observabilityJwt },
                });
                (this._provider = new ma({
                  resource: new dn({
                    "service.name": "videosdk-otel",
                    "sdk-version": "0.0.1",
                  }),
                })),
                  (this._tracer = this._provider.getTracer(n)),
                  this._provider.addSpanProcessor(new ca(p)),
                  this._provider.register({ contextManager: new Za() }),
                  (this._rootSpan = this._tracer.startSpan(
                    "room_".concat(r, "_peer_").concat(n, "_sdk_").concat(a),
                    {},
                    Je
                  )),
                  this._rootSpan.setAttributes({
                    roomId: r,
                    peerId: n,
                    sdkName: a,
                    userId: d.userId,
                    email: d.email,
                  }),
                  this._rootSpan.end();
              }
            }
            var t, r;
            return (
              (0, s.Z)(e, [
                {
                  key: "trace",
                  value: function (e) {
                    var t = e.spanName,
                      r = e.attributes,
                      n = void 0 === r ? {} : r,
                      i = e.span,
                      s = void 0 === i ? void 0 : i;
                    if (this._tracesEnabled) {
                      var o;
                      o = s || this.getCurrentSpan();
                      var c = ci.trace.setSpan(Je, o),
                        p = this._tracer.startActiveSpan(
                          t,
                          {},
                          c,
                          (function () {
                            var e = (0, a.Z)(
                              d().mark(function e(t) {
                                return d().wrap(function (e) {
                                  for (;;)
                                    switch ((e.prev = e.next)) {
                                      case 0:
                                        return (
                                          t.setAttributes(n),
                                          e.abrupt("return", t)
                                        );
                                      case 2:
                                      case "end":
                                        return e.stop();
                                    }
                                }, e);
                              })
                            );
                            return function (t) {
                              return e.apply(this, arguments);
                            };
                          })()
                        );
                      return p;
                    }
                    return null;
                  },
                },
                {
                  key: "traceAutoComplete",
                  value: function (e) {
                    var t = e.spanName,
                      r = e.attributes,
                      n = void 0 === r ? {} : r,
                      a = e.span,
                      i = void 0 === a ? void 0 : a,
                      s = e.status,
                      o = void 0 === s ? 1 : s,
                      c = e.message,
                      d = void 0 === c ? "SUCCESS" : c;
                    if (this._tracesEnabled) {
                      var p;
                      p = i || this._rootSpan;
                      var l = ci.trace.setSpan(Je, p),
                        u = this._tracer.startSpan(t, {}, l);
                      u.setAttributes(n),
                        u.setStatus({ code: o, message: d }),
                        u.end();
                    }
                  },
                },
                {
                  key: "completeSpan",
                  value: function (e) {
                    var t = e.span,
                      r = e.status,
                      n = e.message;
                    this._tracesEnabled &&
                      (t.setStatus({ code: r, message: n }), t.end());
                  },
                },
                {
                  key: "getCurrentSpan",
                  value: function () {
                    var e = ci.trace.getSpan(ci.context.active());
                    return e || (e = this._rootSpan), e;
                  },
                },
                {
                  key: "getCurrentSpanName",
                  value: function () {
                    var e;
                    return null === (e = this.getCurrentSpan()) || void 0 === e
                      ? void 0
                      : e.name;
                  },
                },
                {
                  key: "flush",
                  value:
                    ((r = (0, a.Z)(
                      d().mark(function e() {
                        return d().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (!this._tracesEnabled) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (
                                    (e.next = 3), this._provider.shutdown()
                                  );
                                case 3:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function () {
                      return r.apply(this, arguments);
                    }),
                },
                {
                  key: "pushLogs",
                  value:
                    ((t = (0, a.Z)(
                      d().mark(function e(t) {
                        var r, n, a, i, s, o;
                        return d().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (
                                    ((r = t.logType),
                                    (n = t.logText),
                                    (a = t.attributes),
                                    (i = this._logs),
                                    (s = i.enabled),
                                    (o = i.endPoint),
                                    !s)
                                  ) {
                                    e.next = 8;
                                    break;
                                  }
                                  return (
                                    (e.next = 5),
                                    fetch(o, {
                                      method: "POST",
                                      headers: {
                                        Authorization: this._observabilityJwt,
                                        "Content-Type": "application/json",
                                      },
                                      body: JSON.stringify({
                                        logType: r,
                                        logText: n,
                                        attributes: pi(
                                          pi({}, a),
                                          {},
                                          {
                                            roomId: this._roomId,
                                            peerId: this._peerId,
                                          }
                                        ),
                                      }),
                                    })
                                      .then(function (e) {
                                        return e.json();
                                      })
                                      .catch(function (e) {
                                        return console.log("error", e), {};
                                      })
                                  );
                                case 5:
                                  return e.abrupt("return", e.sent);
                                case 8:
                                  return e.abrupt("return", null);
                                case 9:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return t.apply(this, arguments);
                    }),
                },
              ]),
              e
            );
          })();
          function ui(e, t) {
            var r =
              ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
              e["@@iterator"];
            if (!r) {
              if (
                Array.isArray(e) ||
                (r = (function (e, t) {
                  if (!e) return;
                  if ("string" == typeof e) return hi(e, t);
                  var r = Object.prototype.toString.call(e).slice(8, -1);
                  "Object" === r && e.constructor && (r = e.constructor.name);
                  if ("Map" === r || "Set" === r) return Array.from(e);
                  if (
                    "Arguments" === r ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                  )
                    return hi(e, t);
                })(e)) ||
                (t && e && "number" == typeof e.length)
              ) {
                r && (e = r);
                var n = 0,
                  a = function () {};
                return {
                  s: a,
                  n: function () {
                    return n >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[n++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: a,
                };
              }
              throw new TypeError(
                "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
              );
            }
            var i,
              s = !0,
              o = !1;
            return {
              s: function () {
                r = r.call(e);
              },
              n: function () {
                var e = r.next();
                return (s = e.done), e;
              },
              e: function (e) {
                (o = !0), (i = e);
              },
              f: function () {
                try {
                  s || null == r.return || r.return();
                } finally {
                  if (o) throw i;
                }
              },
            };
          }
          function hi(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
          }
          function mi(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(e);
              t &&
                (n = n.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          function fi(e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? mi(Object(r), !0).forEach(function (t) {
                    (0, o.Z)(e, t, r[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    e,
                    Object.getOwnPropertyDescriptors(r)
                  )
                : mi(Object(r)).forEach(function (t) {
                    Object.defineProperty(
                      e,
                      t,
                      Object.getOwnPropertyDescriptor(r, t)
                    );
                  });
            }
            return e;
          }
          var _i,
            gi = {
              sd: {
                low: { s: 0, t: 2 },
                med: { s: 0, t: 2 },
                high: { s: 1, t: 2 },
                s0t0: { s: 0, t: 0 },
                s0t1: { s: 0, t: 1 },
                s0t2: { s: 0, t: 2 },
                s1t0: { s: 1, t: 0 },
                s1t1: { s: 1, t: 1 },
                s1t2: { s: 1, t: 2 },
                s2t0: { s: 2, t: 0 },
                s2t1: { s: 2, t: 1 },
                s2t2: { s: 2, t: 2 },
              },
              hd: {
                low: { s: 0, t: 2 },
                med: { s: 1, t: 2 },
                high: { s: 2, t: 2 },
                s0t0: { s: 0, t: 0 },
                s0t1: { s: 0, t: 1 },
                s0t2: { s: 0, t: 2 },
                s1t0: { s: 1, t: 0 },
                s1t1: { s: 1, t: 1 },
                s1t2: { s: 1, t: 2 },
                s2t0: { s: 2, t: 0 },
                s2t1: { s: 2, t: 1 },
                s2t2: { s: 2, t: 2 },
              },
            },
            vi = {
              qvga: { width: { ideal: 320 }, height: { ideal: 240 } },
              vga: { width: { ideal: 640 }, height: { ideal: 480 } },
              sd: {
                width: { ideal: 1280 },
                height: { ideal: 720 },
                frameRate: { ideal: 24 },
              },
              hd: {
                width: { ideal: 1280 },
                height: { ideal: 720 },
                frameRate: { ideal: 24 },
              },
            },
            yi = {
              sd: [
                { scaleResolutionDownBy: 6 },
                { scaleResolutionDownBy: 4 },
                { scaleResolutionDownBy: 2 },
              ],
              hd: [
                { scaleResolutionDownBy: 4 },
                { scaleResolutionDownBy: 2 },
                { scaleResolutionDownBy: 1 },
              ],
            },
            bi = [{ scalabilityMode: "S3T3_KEY" }],
            Si = [{ dtx: !0, maxFramerate: 10 }],
            wi = [{ scalabilityMode: "S3T3", dtx: !0 }],
            Ti = new f("RoomClient"),
            Ei = (function () {
              function e(t) {
                var r,
                  n,
                  a = t.roomId,
                  s = t.peerId,
                  c = t.secret,
                  d = t.displayName,
                  p = t.device,
                  l = t.handlerName,
                  u = t.useSimulcast,
                  h = t.useSharingSimulcast,
                  m = t.forceTcp,
                  f = t.mode,
                  _ = t.forceH264,
                  g = t.forceVP9,
                  v = t.svc,
                  y = t.datachannel,
                  b = t.externalVideo,
                  S = t.micEnabled,
                  w = t.webcamEnabled,
                  T = t.maxResolution,
                  E = t.useSpartialLayerAnalytics,
                  R = t._deviceInfo,
                  P = t.customCameraVideoTrack,
                  C = t.customMicrophoneAudioTrack,
                  k = t.autoConsume,
                  O = t.preferredProtocol;
                (0, i.Z)(this, e),
                  (0, o.Z)(this, "delay", function (e) {
                    return new Promise(function (t) {
                      return setTimeout(t, e);
                    });
                  }),
                  Ti.debug(
                    'constructor() [roomId:"%s", peerId:"%s", displayName:"%s", device:%s]',
                    a,
                    s,
                    d,
                    p.flag
                  ),
                  (this.useSpartialLayerAnalytics = E || !1),
                  (this._deviceInfo = R),
                  (this._eventEmitter = new oe.EventEmitter()),
                  (this._closed = !1),
                  (this._displayName = d),
                  (this._device = p),
                  (this._forceTcp = m),
                  (this._preferredProtocol = O),
                  f == Ce.S.CONFERENCE
                    ? ((r = !0), (n = !0))
                    : ((r = !1), (n = !1)),
                  (this._mode = f),
                  (this._produce = r),
                  (this._consume = n),
                  (this._useDataChannel = y),
                  (this._forceH264 = Boolean(_)),
                  (this._forceVP9 = Boolean(g)),
                  (this._micEnabled = Boolean(S)),
                  (this._webcamEnabled = Boolean(w)),
                  (this._externalVideo = null),
                  (this._externalVideoStream = null),
                  (this._nextDataChannelTestNumber = 0),
                  b &&
                    ((this._externalVideo = document.createElement("video")),
                    (this._externalVideo.controls = !0),
                    (this._externalVideo.loop = !0),
                    this._externalVideo.setAttribute("playsinline", ""),
                    (this._externalVideo.src = b),
                    this._externalVideo.play().catch(function (e) {
                      return Ti.warn("externalVideo.play() failed:%o", e);
                    })),
                  (this._handlerName = l),
                  (this._useSimulcast = u),
                  (this._useSharingSimulcast = h),
                  (this._protooUrl = ""),
                  (this._secret = c),
                  (this._peerId = s),
                  (this._roomId = a),
                  (this._baseUrl = ""),
                  (this._protoo = null),
                  (this._mediasoupDevice = null),
                  (this._sendTransport = null),
                  (this._recvTransport = null),
                  (this._micProducer = null),
                  (this._webcamProducer = null),
                  (this._shareProducer = null),
                  (this._shareAudioProducer = null),
                  (this._chatDataProducer = null),
                  (this._botDataProducer = null),
                  (this._consumers = new Map()),
                  (this._dataConsumers = new Map()),
                  (this._mics = new Map()),
                  (this._mic = { device: null }),
                  (this._webcams = new Map()),
                  (this._webcam = { device: null, resolution: T || "hd" }),
                  (this._pinnedParticipants = new Map()),
                  v &&
                    ((bi[0].scalabilityMode = "".concat(v, "_KEY")),
                    (wi[0].scalabilityMode = v)),
                  (this.customCameraVideoTrack = P),
                  (this.customMicrophoneAudioTrack = C),
                  (this._autoConsume = k),
                  (this._iceServers = []);
                (this._metrics = new Pe.VideoSDKMetrics({
                  refreshEvery: 1e3,
                  startAfter: 1e3,
                  verbose: !1,
                })),
                  (this._collectStats = "react-native" != R.sdkType),
                  (this._stats = {}),
                  (this._latestStats = {}),
                  (this._isWebsocketAlive = !1),
                  (this._pingWebsocketInterval = null),
                  (this._pingInternetInterval = null),
                  (this._pingWebsocketFailedCounter = 0),
                  (this._pongInternetCounter = 0),
                  (this._transportState = ""),
                  (this._openTelemetry = null);
              }
              var t,
                r,
                c,
                u,
                h,
                m,
                f,
                _,
                g,
                v,
                b,
                S,
                w,
                T,
                E,
                R,
                k,
                O,
                ce,
                pe,
                le,
                ue,
                he,
                me,
                fe,
                _e,
                ge,
                ve,
                ye,
                Se,
                we,
                Oe,
                xe,
                De,
                Ie,
                Le,
                Me,
                Ae,
                Ne,
                je,
                Fe,
                Be,
                Ue,
                Ze,
                He,
                ze,
                Ve,
                We,
                Ge,
                qe,
                Ke,
                $e,
                Xe,
                Je,
                Qe,
                Ye,
                et,
                tt,
                rt,
                nt,
                at,
                it,
                st,
                ot,
                ct,
                dt,
                pt,
                lt,
                ut,
                ht,
                mt,
                ft,
                _t,
                gt,
                vt,
                yt,
                bt,
                St,
                wt,
                Tt,
                Et,
                Rt,
                Pt,
                Ct,
                kt,
                Ot,
                xt,
                Dt,
                It,
                Lt,
                Mt,
                At,
                Nt,
                jt,
                Ft,
                Bt,
                Ut,
                Zt,
                Ht;
              return (
                (0, s.Z)(
                  e,
                  [
                    {
                      key: "on",
                      value: function (e, t) {
                        this._eventEmitter.on(e, t);
                      },
                    },
                    {
                      key: "close",
                      value:
                        ((Ht = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i, s, o, c, p, l;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        ((o = t.sendLeft),
                                        (c = void 0 === o || o) &&
                                          (this._eventEmitter.emit(
                                            "MEETING_STATE_CHANGED",
                                            { state: "CLOSING" }
                                          ),
                                          null === (p = this._openTelemetry) ||
                                            void 0 === p ||
                                            p.traceAutoComplete({
                                              spanName:
                                                "Meeting is in CLOSING State",
                                              status: 1,
                                            })),
                                        !this._closed)
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return (
                                        (this._closed = !0),
                                        this._pingWebsocketInterval &&
                                          clearInterval(
                                            this._pingWebsocketInterval
                                          ),
                                        (this._pingWebsocketInterval = null),
                                        this._pingInternetInterval &&
                                          clearInterval(
                                            this._pingInternetInterval
                                          ),
                                        (this._pingInternetInterval = null),
                                        this._protoo.close(),
                                        this._metrics.running &&
                                          this._metrics.stopAllProbes(),
                                        Ti.debug("close()"),
                                        (e.next = 14),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName: "Closing Trasnport",
                                            })
                                      );
                                    case 14:
                                      return (
                                        (l = e.sent),
                                        this._sendTransport &&
                                          this._sendTransport.close(),
                                        this._recvTransport &&
                                          this._recvTransport.close(),
                                        null === (n = this._openTelemetry) ||
                                          void 0 === n ||
                                          n.completeSpan({
                                            span: l,
                                            status: 1,
                                            message: "Closed Trasnport",
                                          }),
                                        _i.dispatch(x("closed")),
                                        c &&
                                          this._eventEmitter.emit(
                                            "MEETING_STATE_CHANGED",
                                            { state: "CLOSED" }
                                          ),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.traceAutoComplete({
                                            spanName:
                                              "Meeting is in CLOSED State",
                                            status: 1,
                                          }),
                                        c &&
                                          this._eventEmitter.emit(
                                            "MEETING_LEFT"
                                          ),
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.traceAutoComplete({
                                            spanName:
                                              "Emitted MEETING_LEFT Event",
                                            status: 1,
                                          }),
                                        (e.next = 25),
                                        null === (s = this._openTelemetry) ||
                                        void 0 === s
                                          ? void 0
                                          : s.flush()
                                      );
                                    case 25:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ht.apply(this, arguments);
                        }),
                    },
                    {
                      key: "join",
                      value:
                        ((Zt = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              i,
                              s,
                              c,
                              u,
                              h,
                              m,
                              f,
                              _ = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        y({
                                          roomId: this._roomId,
                                          secret: this._secret,
                                        })
                                      );
                                    case 2:
                                      return (
                                        (n = e.sent),
                                        (i = n.baseUrl),
                                        (s = n.iceServers),
                                        (c = n.logs),
                                        (u = n.observabilityJwt),
                                        (h = n.traces),
                                        (m = n.metaData),
                                        (this._baseUrl = i),
                                        (this._protooUrl = "wss://"
                                          .concat(this._baseUrl, "/?roomId=")
                                          .concat(this._roomId, "&peerId=")
                                          .concat(this._peerId, "&secret=")
                                          .concat(this._secret, "&mode=")
                                          .concat(this._mode)),
                                        (this._iceServers = s),
                                        (this._tracesEnabled = h.enabled),
                                        "react-native" !=
                                          this._deviceInfo.sdkType &&
                                          (this._openTelemetry = new li({
                                            roomId: this._roomId,
                                            peerId: this._peerId,
                                            sdkName: "".concat(
                                              this._deviceInfo.sdkType,
                                              "-sdk"
                                            ),
                                            traces: h,
                                            logs: c,
                                            observabilityJwt: u,
                                            metaData: m,
                                          })),
                                        (e.next = 16),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName: "Join() Calling",
                                              attributes: {
                                                DeviceInfo: JSON.stringify(
                                                  this._deviceInfo
                                                ),
                                                mode: this._mode,
                                                displayName: this._displayName,
                                                multiStream: this._useSimulcast,
                                                micEnabled: this._micEnabled,
                                                webcamEnabled:
                                                  this._webcamEnabled,
                                                CustomVideoTrack:
                                                  !!this.customCameraVideoTrack,
                                                CustomMicTrack:
                                                  !!this
                                                    .customMicrophoneAudioTrack,
                                              },
                                            })
                                      );
                                    case 16:
                                      (this._joinSpan = e.sent),
                                        (f = new p.qo(this._protooUrl)),
                                        (this._protoo = new p._z(f)),
                                        this._eventEmitter.emit(
                                          "MEETING_STATE_CHANGED",
                                          { state: "CONNECTING" }
                                        ),
                                        _i.dispatch(x("connecting")),
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName:
                                              "Meeting is in CONNECTING State",
                                            status: 1,
                                          }),
                                        this._protoo.on("open", function () {
                                          var e;
                                          (_._isWebsocketAlive = !0),
                                            (_._closed = !1),
                                            _.startPingPong(),
                                            _._eventEmitter.emit(
                                              "MEETING_STATE_CHANGED",
                                              { state: "CONNECTED" }
                                            ),
                                            null === (e = _._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  "Meeting is in CONNECTED State",
                                                status: 1,
                                              }),
                                            _.requestEntry();
                                        }),
                                        this._protoo.on("failed", function () {
                                          var e;
                                          _._eventEmitter.emit(
                                            "MEETING_STATE_CHANGED",
                                            { state: "FAILED" }
                                          ),
                                            null === (e = _._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  "Meeting is in FAILED State",
                                                status: 2,
                                              }),
                                            _i.dispatch(
                                              se({
                                                type: "error",
                                                text: "WebSocket connection failed",
                                              })
                                            );
                                        }),
                                        this._protoo.on(
                                          "disconnected",
                                          function () {
                                            var e;
                                            _._eventEmitter.emit(
                                              "MEETING_STATE_CHANGED",
                                              { state: "DISCONNECTED" }
                                            ),
                                              null === (e = _._openTelemetry) ||
                                                void 0 === e ||
                                                e.traceAutoComplete({
                                                  spanName:
                                                    "Meeting is in DISCONNECTED State",
                                                  status: 1,
                                                }),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "WebSocket disconnected",
                                                })
                                              ),
                                              _._sendTransport &&
                                                (_._sendTransport.close(),
                                                (_._sendTransport = null)),
                                              _._recvTransport &&
                                                (_._recvTransport.close(),
                                                (_._recvTransport = null)),
                                              _i.dispatch(x("closed"));
                                          }
                                        ),
                                        this._protoo.on("close", function () {
                                          _._closed ||
                                            _.close({ sendLeft: !0 });
                                        }),
                                        this._protoo.on(
                                          "request",
                                          (function () {
                                            var e = (0, a.Z)(
                                              d().mark(function e(t, r, n) {
                                                var a,
                                                  i,
                                                  s,
                                                  c,
                                                  p,
                                                  u,
                                                  h,
                                                  m,
                                                  f,
                                                  g,
                                                  v,
                                                  y,
                                                  b,
                                                  S,
                                                  w,
                                                  T,
                                                  E,
                                                  R,
                                                  P,
                                                  C,
                                                  k,
                                                  O,
                                                  x,
                                                  D,
                                                  I,
                                                  L,
                                                  M,
                                                  A,
                                                  N,
                                                  j,
                                                  F,
                                                  B,
                                                  U,
                                                  Z,
                                                  H,
                                                  z,
                                                  V,
                                                  W,
                                                  G,
                                                  q,
                                                  K,
                                                  $,
                                                  Q,
                                                  Y,
                                                  ee,
                                                  te,
                                                  re,
                                                  ne,
                                                  ie,
                                                  oe,
                                                  ce,
                                                  de,
                                                  pe,
                                                  le,
                                                  ue,
                                                  he;
                                                return d().wrap(
                                                  function (e) {
                                                    for (;;)
                                                      switch (
                                                        (e.prev = e.next)
                                                      ) {
                                                        case 0:
                                                          Ti.debug(
                                                            'proto "request" event [method:%s, data:%o]',
                                                            t.method,
                                                            t.data
                                                          ),
                                                            (e.t0 = t.method),
                                                            (e.next =
                                                              "close" === e.t0
                                                                ? 4
                                                                : "newConsumer" ===
                                                                  e.t0
                                                                ? 6
                                                                : "newDataConsumer" ===
                                                                  e.t0
                                                                ? 51
                                                                : "enableMic" ===
                                                                  e.t0
                                                                ? 78
                                                                : "disableMic" ===
                                                                  e.t0
                                                                ? 80
                                                                : "enableWebcam" ===
                                                                  e.t0
                                                                ? 96
                                                                : "disableWebcam" ===
                                                                  e.t0
                                                                ? 98
                                                                : "pinStateChanged" ===
                                                                  e.t0
                                                                ? 114
                                                                : "switchRoom" ===
                                                                  e.t0
                                                                ? 137
                                                                : "statsData" ===
                                                                  e.t0
                                                                ? 140
                                                                : 143);
                                                          break;
                                                        case 4:
                                                          return (
                                                            _.close({
                                                              sendLeft: !0,
                                                            }),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 6:
                                                          return (
                                                            (e.next = 8),
                                                            null ===
                                                              (a =
                                                                _._openTelemetry) ||
                                                            void 0 === a
                                                              ? void 0
                                                              : a.trace({
                                                                  spanName:
                                                                    "Protoo REQ: newConsumer",
                                                                  attributes: {
                                                                    request:
                                                                      JSON.stringify(
                                                                        t
                                                                      ),
                                                                  },
                                                                })
                                                          );
                                                        case 8:
                                                          if (
                                                            ((s = e.sent),
                                                            _._consume)
                                                          ) {
                                                            e.next = 13;
                                                            break;
                                                          }
                                                          return (
                                                            n(
                                                              403,
                                                              "I do not want to consume"
                                                            ),
                                                            null ===
                                                              (c =
                                                                _._openTelemetry) ||
                                                              void 0 === c ||
                                                              c.completeSpan({
                                                                span: s,
                                                                status: 2,
                                                                message:
                                                                  "I do not want to consume",
                                                              }),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 13:
                                                          return (
                                                            (p = t.data),
                                                            (u = p.peerId),
                                                            (h = p.producerId),
                                                            (m = p.id),
                                                            (f = p.kind),
                                                            (g =
                                                              p.rtpParameters),
                                                            (v = p.type),
                                                            (y = p.appData),
                                                            (b =
                                                              p.producerPaused),
                                                            (e.next = 16),
                                                            null ===
                                                              (i =
                                                                _._openTelemetry) ||
                                                            void 0 === i
                                                              ? void 0
                                                              : i.trace({
                                                                  spanName:
                                                                    "Creating Consumer",
                                                                  span: s,
                                                                })
                                                          );
                                                        case 16:
                                                          return (
                                                            (S = e.sent),
                                                            (e.prev = 17),
                                                            (e.next = 20),
                                                            _._recvTransport.consume(
                                                              {
                                                                id: m,
                                                                producerId: h,
                                                                kind: f,
                                                                rtpParameters:
                                                                  g,
                                                                appData: fi(
                                                                  fi({}, y),
                                                                  {},
                                                                  { peerId: u }
                                                                ),
                                                              }
                                                            )
                                                          );
                                                        case 20:
                                                          return (
                                                            (P = e.sent),
                                                            (C =
                                                              l.parseScalabilityMode(
                                                                P.rtpParameters
                                                                  .encodings[0]
                                                                  .scalabilityMode
                                                              )),
                                                            (k =
                                                              C.spatialLayers),
                                                            (O =
                                                              C.temporalLayers),
                                                            (P.spatialLayers =
                                                              k),
                                                            (P.temporalLayers =
                                                              O),
                                                            (P.currentSpatialLayers =
                                                              k - 1),
                                                            (P.currentTemporalLayers =
                                                              O - 1),
                                                            _._consumers.set(
                                                              P.id,
                                                              P
                                                            ),
                                                            P.on(
                                                              "transportclose",
                                                              function () {
                                                                _._consumers.delete(
                                                                  P.id
                                                                );
                                                                var e = J(
                                                                  P.id,
                                                                  u
                                                                );
                                                                _i.dispatch(e),
                                                                  _._eventEmitter.emit(
                                                                    e.type,
                                                                    e.payload
                                                                  );
                                                              }
                                                            ),
                                                            null ===
                                                              (w =
                                                                _._openTelemetry) ||
                                                              void 0 === w ||
                                                              w.completeSpan({
                                                                span: S,
                                                                status: 1,
                                                                message:
                                                                  "Consumer Created",
                                                              }),
                                                            (e.next = 31),
                                                            null ===
                                                              (T =
                                                                _._openTelemetry) ||
                                                            void 0 === T
                                                              ? void 0
                                                              : T.trace({
                                                                  spanName:
                                                                    "Sending Stream Enabled Event",
                                                                  span: s,
                                                                })
                                                          );
                                                        case 31:
                                                          (S = e.sent),
                                                            (x = X(
                                                              {
                                                                id: P.id,
                                                                type: v,
                                                                locallyPaused:
                                                                  !1,
                                                                remotelyPaused:
                                                                  b,
                                                                rtpParameters:
                                                                  P.rtpParameters,
                                                                spatialLayers:
                                                                  k,
                                                                temporalLayers:
                                                                  O,
                                                                currentSpatialLayer:
                                                                  k - 1,
                                                                currentTemporalLayer:
                                                                  O - 1,
                                                                preferredSpatialLayer:
                                                                  k - 1,
                                                                preferredTemporalLayer:
                                                                  O - 1,
                                                                priority: 1,
                                                                codec:
                                                                  P.rtpParameters.codecs[0].mimeType.split(
                                                                    "/"
                                                                  )[1],
                                                                track: P.track,
                                                                appData: y,
                                                                instance: P,
                                                              },
                                                              u
                                                            )),
                                                            _i.dispatch(x),
                                                            _._eventEmitter.emit(
                                                              x.type,
                                                              x.payload
                                                            ),
                                                            r(),
                                                            "video" ===
                                                              P.kind &&
                                                              _i.getState().me
                                                                .audioOnly &&
                                                              _._pauseConsumer(
                                                                P
                                                              ),
                                                            null ===
                                                              (E =
                                                                _._openTelemetry) ||
                                                              void 0 === E ||
                                                              E.completeSpan({
                                                                span: S,
                                                                status: 1,
                                                                message:
                                                                  "Event Send Successfully",
                                                              }),
                                                            null == s ||
                                                              s.setAttributes(
                                                                (0, o.Z)(
                                                                  {},
                                                                  "consumer.consumerId",
                                                                  P.id
                                                                )
                                                              ),
                                                            null ===
                                                              (R =
                                                                _._openTelemetry) ||
                                                              void 0 === R ||
                                                              R.completeSpan({
                                                                span: s,
                                                                status: 1,
                                                                message:
                                                                  "New Consumer Created Successfully",
                                                              }),
                                                            "video" == P.kind &&
                                                              P.appData.share &&
                                                              (null ===
                                                                (D =
                                                                  _._openTelemetry) ||
                                                                void 0 === D ||
                                                                D.traceAutoComplete(
                                                                  {
                                                                    spanName:
                                                                      "Presenter Changed",
                                                                    attributes:
                                                                      {
                                                                        "peer.id":
                                                                          u,
                                                                      },
                                                                  }
                                                                )),
                                                            (e.next = 50);
                                                          break;
                                                        case 43:
                                                          throw (
                                                            ((e.prev = 43),
                                                            (e.t1 =
                                                              e.catch(17)),
                                                            null ===
                                                              (I =
                                                                _._openTelemetry) ||
                                                              void 0 === I ||
                                                              I.completeSpan({
                                                                span: S,
                                                                status: 2,
                                                                message:
                                                                  "Error creating a Consumer: ".concat(
                                                                    e.t1
                                                                  ),
                                                              }),
                                                            null ===
                                                              (L =
                                                                _._openTelemetry) ||
                                                              void 0 === L ||
                                                              L.completeSpan({
                                                                span: s,
                                                                status: 2,
                                                                message:
                                                                  "Error creating a Consumer: ".concat(
                                                                    e.t1
                                                                  ),
                                                              }),
                                                            _i.dispatch(
                                                              se({
                                                                type: "error",
                                                                text: "Error creating a Consumer: ".concat(
                                                                  e.t1
                                                                ),
                                                              })
                                                            ),
                                                            _._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error creating a Consumer",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t1
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            e.t1)
                                                          );
                                                        case 50:
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 51:
                                                          if (_._consume) {
                                                            e.next = 54;
                                                            break;
                                                          }
                                                          return (
                                                            n(
                                                              403,
                                                              "I do not want to data consume"
                                                            ),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 54:
                                                          if (
                                                            _._useDataChannel
                                                          ) {
                                                            e.next = 57;
                                                            break;
                                                          }
                                                          return (
                                                            n(
                                                              403,
                                                              "I do not want DataChannels"
                                                            ),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 57:
                                                          return (
                                                            (M = t.data),
                                                            (A = M.peerId),
                                                            (N =
                                                              M.dataProducerId),
                                                            (j = M.id),
                                                            (F =
                                                              M.sctpStreamParameters),
                                                            (B = M.label),
                                                            (U = M.protocol),
                                                            (Z = M.appData),
                                                            (e.prev = 58),
                                                            (e.next = 61),
                                                            _._recvTransport.consumeData(
                                                              {
                                                                id: j,
                                                                dataProducerId:
                                                                  N,
                                                                sctpStreamParameters:
                                                                  F,
                                                                label: B,
                                                                protocol: U,
                                                                appData: fi(
                                                                  fi({}, Z),
                                                                  {},
                                                                  { peerId: A }
                                                                ),
                                                              }
                                                            )
                                                          );
                                                        case 61:
                                                          (H = e.sent),
                                                            _._dataConsumers.set(
                                                              H.id,
                                                              H
                                                            ),
                                                            H.on(
                                                              "transportclose",
                                                              function () {
                                                                _._dataConsumers.delete(
                                                                  H.id
                                                                );
                                                              }
                                                            ),
                                                            H.on(
                                                              "open",
                                                              function () {
                                                                Ti.debug(
                                                                  'DataConsumer "open" event'
                                                                );
                                                              }
                                                            ),
                                                            H.on(
                                                              "close",
                                                              function () {
                                                                Ti.warn(
                                                                  'DataConsumer "close" event'
                                                                ),
                                                                  _._dataConsumers.delete(
                                                                    H.id
                                                                  ),
                                                                  _i.dispatch(
                                                                    se({
                                                                      type: "error",
                                                                      text: "DataConsumer closed",
                                                                    })
                                                                  );
                                                              }
                                                            ),
                                                            H.on(
                                                              "error",
                                                              function (e) {
                                                                Ti.error(
                                                                  'DataConsumer "error" event:%o',
                                                                  e
                                                                ),
                                                                  _i.dispatch(
                                                                    se({
                                                                      type: "error",
                                                                      text: "DataConsumer error: ".concat(
                                                                        e
                                                                      ),
                                                                    })
                                                                  );
                                                              }
                                                            ),
                                                            H.on(
                                                              "message",
                                                              function (e) {
                                                                if (
                                                                  (Ti.debug(
                                                                    'DataConsumer "message" event [streamId:%d]',
                                                                    H
                                                                      .sctpStreamParameters
                                                                      .streamId
                                                                  ),
                                                                  (window.DC_MESSAGE =
                                                                    e),
                                                                  e instanceof
                                                                    ArrayBuffer)
                                                                ) {
                                                                  var t =
                                                                    new DataView(
                                                                      e
                                                                    ).getUint32();
                                                                  return t ==
                                                                    Math.pow(
                                                                      2,
                                                                      32
                                                                    ) -
                                                                      1
                                                                    ? (Ti.warn(
                                                                        "dataChannelTest finished!"
                                                                      ),
                                                                      void (_._nextDataChannelTestNumber = 0))
                                                                    : (t >
                                                                        _._nextDataChannelTestNumber &&
                                                                        Ti.warn(
                                                                          "dataChannelTest: %s packets missing",
                                                                          t -
                                                                            _._nextDataChannelTestNumber
                                                                        ),
                                                                      void (_._nextDataChannelTestNumber =
                                                                        t + 1));
                                                                }
                                                                if (
                                                                  "string" ==
                                                                  typeof e
                                                                )
                                                                  switch (
                                                                    H.label
                                                                  ) {
                                                                    case "chat":
                                                                      var r =
                                                                          _i.getState()
                                                                            .peers,
                                                                        n =
                                                                          Object.keys(
                                                                            r
                                                                          )
                                                                            .map(
                                                                              function (
                                                                                e
                                                                              ) {
                                                                                return r[
                                                                                  e
                                                                                ];
                                                                              }
                                                                            )
                                                                            .find(
                                                                              function (
                                                                                e
                                                                              ) {
                                                                                return e.dataConsumers.includes(
                                                                                  H.id
                                                                                );
                                                                              }
                                                                            );
                                                                      if (!n) {
                                                                        Ti.warn(
                                                                          'DataConsumer "message" from unknown peer'
                                                                        );
                                                                        break;
                                                                      }
                                                                      _i.dispatch(
                                                                        se({
                                                                          title:
                                                                            "".concat(
                                                                              n.displayName,
                                                                              " says:"
                                                                            ),
                                                                          text: e,
                                                                          timeout: 5e3,
                                                                        })
                                                                      ),
                                                                        _._eventEmitter.emit(
                                                                          "CHAT_MESSAGE",
                                                                          {
                                                                            text: e,
                                                                            senderId:
                                                                              n.id,
                                                                            timestamp:
                                                                              new Date().getTime(),
                                                                          }
                                                                        );
                                                                      break;
                                                                    case "bot":
                                                                      _i.dispatch(
                                                                        se({
                                                                          title:
                                                                            "Message from Bot:",
                                                                          text: e,
                                                                          timeout: 5e3,
                                                                        })
                                                                      );
                                                                  }
                                                                else
                                                                  Ti.warn(
                                                                    'ignoring DataConsumer "message" (not a string)'
                                                                  );
                                                              }
                                                            ),
                                                            (window.DC = H),
                                                            _i.dispatch(
                                                              ae(
                                                                {
                                                                  id: H.id,
                                                                  sctpStreamParameters:
                                                                    H.sctpStreamParameters,
                                                                  label:
                                                                    H.label,
                                                                  protocol:
                                                                    H.protocol,
                                                                },
                                                                A
                                                              )
                                                            ),
                                                            r(),
                                                            (e.next = 77);
                                                          break;
                                                        case 73:
                                                          (e.prev = 73),
                                                            (e.t2 =
                                                              e.catch(58)),
                                                            Ti.error(
                                                              '"newDataConsumer" request failed:%o',
                                                              e.t2
                                                            ),
                                                            _i.dispatch(
                                                              se({
                                                                type: "error",
                                                                text: "Error creating a DataConsumer: ".concat(
                                                                  e.t2
                                                                ),
                                                              })
                                                            );
                                                        case 77:
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 78:
                                                          try {
                                                            (V = t.data.peerId),
                                                              null ===
                                                                (z =
                                                                  _._openTelemetry) ||
                                                                void 0 === z ||
                                                                z.traceAutoComplete(
                                                                  {
                                                                    spanName:
                                                                      "Emitting MIC_REQUESTED & Protoo REQ: enableMic",
                                                                    attributes:
                                                                      {
                                                                        peerId:
                                                                          V,
                                                                      },
                                                                    status: 1,
                                                                  }
                                                                ),
                                                              _._eventEmitter.emit(
                                                                "MIC_REQUESTED",
                                                                { peerId: V }
                                                              ),
                                                              r();
                                                          } catch (e) {
                                                            Ti.error(
                                                              '"enableMic" request failed:%o',
                                                              e
                                                            ),
                                                              _._openTelemetry.pushLogs(
                                                                {
                                                                  logText:
                                                                    "Error enableMic request failed",
                                                                  logType:
                                                                    "ERROR",
                                                                  attributes: {
                                                                    error:
                                                                      e.message,
                                                                  },
                                                                }
                                                              ),
                                                              _._emitError({
                                                                code: 3027,
                                                                message:
                                                                  e.message,
                                                              });
                                                          }
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 80:
                                                          return (
                                                            (e.prev = 80),
                                                            (e.next = 83),
                                                            null ===
                                                              (G =
                                                                _._openTelemetry) ||
                                                            void 0 === G
                                                              ? void 0
                                                              : G.trace({
                                                                  spanName:
                                                                    "Protoo REQ: disableMic",
                                                                })
                                                          );
                                                        case 83:
                                                          return (
                                                            (W = e.sent),
                                                            (e.next = 86),
                                                            _.disableMic(!1, W)
                                                          );
                                                        case 86:
                                                          null ===
                                                            (q =
                                                              _._openTelemetry) ||
                                                            void 0 === q ||
                                                            q.completeSpan({
                                                              span: W,
                                                              status: 1,
                                                              message:
                                                                "Request Completed",
                                                            }),
                                                            r(),
                                                            (e.next = 95);
                                                          break;
                                                        case 90:
                                                          (e.prev = 90),
                                                            (e.t3 =
                                                              e.catch(80)),
                                                            null ===
                                                              (K =
                                                                _._openTelemetry) ||
                                                              void 0 === K ||
                                                              K.completeSpan({
                                                                span: W,
                                                                status: 2,
                                                                message:
                                                                  "disableMic request failed ".concat(
                                                                    e.t3
                                                                  ),
                                                              }),
                                                            _._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error disableMic request failed",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t3
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            _._emitError({
                                                              code: 3028,
                                                              message:
                                                                e.t3.message,
                                                            });
                                                        case 95:
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 96:
                                                          try {
                                                            (Q = t.data.peerId),
                                                              null ===
                                                                ($ =
                                                                  _._openTelemetry) ||
                                                                void 0 === $ ||
                                                                $.traceAutoComplete(
                                                                  {
                                                                    spanName:
                                                                      "Emitting WEBCAM_REQUESTED & Protoo REQ: enableWebcam",
                                                                    attributes:
                                                                      {
                                                                        peerId:
                                                                          Q,
                                                                      },
                                                                    status: 1,
                                                                  }
                                                                ),
                                                              _._eventEmitter.emit(
                                                                "WEBCAM_REQUESTED",
                                                                { peerId: Q }
                                                              ),
                                                              r();
                                                          } catch (e) {
                                                            Ti.error(
                                                              '"enableWebcam" request failed:%o',
                                                              e
                                                            ),
                                                              _._openTelemetry.pushLogs(
                                                                {
                                                                  logText:
                                                                    "Error enableWebcam request failed",
                                                                  logType:
                                                                    "ERROR",
                                                                  attributes: {
                                                                    error:
                                                                      e.message,
                                                                  },
                                                                }
                                                              ),
                                                              _._emitError({
                                                                code: 3029,
                                                                message:
                                                                  e.message,
                                                              });
                                                          }
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 98:
                                                          return (
                                                            (e.prev = 98),
                                                            (e.next = 101),
                                                            null ===
                                                              (ee =
                                                                _._openTelemetry) ||
                                                            void 0 === ee
                                                              ? void 0
                                                              : ee.trace({
                                                                  spanName:
                                                                    "Protoo REQ: disableWebcam",
                                                                })
                                                          );
                                                        case 101:
                                                          return (
                                                            (Y = e.sent),
                                                            (e.next = 104),
                                                            _.disableWebcam(Y)
                                                          );
                                                        case 104:
                                                          null ===
                                                            (te =
                                                              _._openTelemetry) ||
                                                            void 0 === te ||
                                                            te.completeSpan({
                                                              span: Y,
                                                              status: 1,
                                                              message:
                                                                "Request Completed",
                                                            }),
                                                            r(),
                                                            (e.next = 113);
                                                          break;
                                                        case 108:
                                                          (e.prev = 108),
                                                            (e.t4 =
                                                              e.catch(98)),
                                                            null ===
                                                              (re =
                                                                _._openTelemetry) ||
                                                              void 0 === re ||
                                                              re.completeSpan({
                                                                span: Y,
                                                                status: 2,
                                                                message:
                                                                  "disableWebcam request failed ".concat(
                                                                    e.t4
                                                                  ),
                                                              }),
                                                            _._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error disableWebcam request failed",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t4
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            _._emitError({
                                                              code: 3030,
                                                              message:
                                                                e.t4.message,
                                                            });
                                                        case 113:
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 114:
                                                          return (
                                                            (e.prev = 114),
                                                            (ce = t.data),
                                                            (de = ce.peerId),
                                                            (pe = ce.state),
                                                            (le = ce.pinnedBy),
                                                            (e.next = 118),
                                                            null ===
                                                              (ie =
                                                                _._openTelemetry) ||
                                                            void 0 === ie
                                                              ? void 0
                                                              : ie.trace({
                                                                  spanName:
                                                                    "Protoo REQ: pinStateChanged",
                                                                  attributes: {
                                                                    requestData:
                                                                      JSON.stringify(
                                                                        {
                                                                          peerId:
                                                                            de,
                                                                          state:
                                                                            pe,
                                                                          pinnedBy:
                                                                            le,
                                                                        }
                                                                      ),
                                                                  },
                                                                })
                                                          );
                                                        case 118:
                                                          (ne = e.sent),
                                                            _._pinnedParticipants.has(
                                                              de
                                                            ) ||
                                                              _._pinnedParticipants.set(
                                                                de,
                                                                {
                                                                  cam: !1,
                                                                  share: !1,
                                                                }
                                                              ),
                                                            (ue =
                                                              _._pinnedParticipants.get(
                                                                de
                                                              )),
                                                            null != pe.cam &&
                                                              (ue.cam = pe.cam),
                                                            null != pe.share &&
                                                              (ue.share =
                                                                pe.share),
                                                            _._pinnedParticipants.set(
                                                              de,
                                                              ue
                                                            ),
                                                            _._eventEmitter.emit(
                                                              "PIN_STATE_CHANGED",
                                                              {
                                                                peerId: de,
                                                                state: pe,
                                                                pinnedBy: le,
                                                              }
                                                            ),
                                                            0 == ue.share &&
                                                              0 == ue.cam &&
                                                              _._pinnedParticipants.delete(
                                                                de
                                                              ),
                                                            ne.setAttributes({
                                                              _pinnedParticipants:
                                                                JSON.stringify(
                                                                  _._pinnedParticipants
                                                                ),
                                                            }),
                                                            null ===
                                                              (oe =
                                                                _._openTelemetry) ||
                                                              void 0 === oe ||
                                                              oe.completeSpan({
                                                                span: ne,
                                                                status: 1,
                                                                message:
                                                                  "Request Completed",
                                                              }),
                                                            r(),
                                                            (e.next = 136);
                                                          break;
                                                        case 131:
                                                          throw (
                                                            ((e.prev = 131),
                                                            (e.t5 =
                                                              e.catch(114)),
                                                            null ===
                                                              (he =
                                                                _._openTelemetry) ||
                                                              void 0 === he ||
                                                              he.completeSpan({
                                                                span: ne,
                                                                status: 2,
                                                                message:
                                                                  "pinStateChanged request failed",
                                                              }),
                                                            _._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error pinStateChanged request failed",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t5
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            e.t5)
                                                          );
                                                        case 136:
                                                          return e.abrupt(
                                                            "break",
                                                            143
                                                          );
                                                        case 137:
                                                          return (
                                                            _._eventEmitter.emit(
                                                              "SWITCH_ROOM",
                                                              t.data
                                                            ),
                                                            r(),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 140:
                                                          return (
                                                            r({
                                                              peerId: _._peerId,
                                                              statsData:
                                                                _._stats,
                                                            }),
                                                            (_._stats = {}),
                                                            e.abrupt(
                                                              "break",
                                                              143
                                                            )
                                                          );
                                                        case 143:
                                                        case "end":
                                                          return e.stop();
                                                      }
                                                  },
                                                  e,
                                                  null,
                                                  [
                                                    [17, 43],
                                                    [58, 73],
                                                    [80, 90],
                                                    [98, 108],
                                                    [114, 131],
                                                  ]
                                                );
                                              })
                                            );
                                            return function (t, r, n) {
                                              return e.apply(this, arguments);
                                            };
                                          })()
                                        ),
                                        this._protoo.on(
                                          "notification",
                                          (function () {
                                            var e = (0, a.Z)(
                                              d().mark(function e(t) {
                                                var r,
                                                  n,
                                                  a,
                                                  i,
                                                  s,
                                                  o,
                                                  c,
                                                  p,
                                                  l,
                                                  u,
                                                  h,
                                                  m,
                                                  f,
                                                  g,
                                                  v,
                                                  y,
                                                  b,
                                                  S,
                                                  w,
                                                  T,
                                                  E,
                                                  R,
                                                  P,
                                                  C,
                                                  k,
                                                  O,
                                                  x,
                                                  I,
                                                  L,
                                                  M,
                                                  A,
                                                  N,
                                                  j,
                                                  F,
                                                  B,
                                                  U,
                                                  Z,
                                                  H,
                                                  V,
                                                  W,
                                                  G,
                                                  X,
                                                  te,
                                                  re,
                                                  ae,
                                                  oe,
                                                  ce,
                                                  de,
                                                  pe,
                                                  le,
                                                  ue,
                                                  he,
                                                  me,
                                                  fe,
                                                  _e,
                                                  ge,
                                                  ve,
                                                  ye,
                                                  be,
                                                  Se,
                                                  we,
                                                  Te,
                                                  Ee,
                                                  Re,
                                                  Pe,
                                                  Ce,
                                                  Oe,
                                                  xe,
                                                  De,
                                                  Ie;
                                                return d().wrap(function (e) {
                                                  for (;;)
                                                    switch ((e.prev = e.next)) {
                                                      case 0:
                                                        Ti.debug(
                                                          'proto "notification" event [method:%s, data:%o]',
                                                          t.method,
                                                          t.data
                                                        ),
                                                          (e.t0 = t.method),
                                                          (e.next =
                                                            "error" === e.t0
                                                              ? 4
                                                              : "participantMediaStateChanged" ===
                                                                e.t0
                                                              ? 9
                                                              : "producerScore" ===
                                                                e.t0
                                                              ? 10
                                                              : "entryRequested" ===
                                                                e.t0
                                                              ? 13
                                                              : "entryResponded" ===
                                                                e.t0
                                                              ? 19
                                                              : "newPeer" ===
                                                                e.t0
                                                              ? 27
                                                              : "peerClosed" ===
                                                                e.t0
                                                              ? 34
                                                              : "peerDisplayNameChanged" ===
                                                                e.t0
                                                              ? 40
                                                              : "downlinkBwe" ===
                                                                e.t0
                                                              ? 44
                                                              : "consumerClosed" ===
                                                                e.t0
                                                              ? 46
                                                              : "consumerPaused" ===
                                                                e.t0
                                                              ? 58
                                                              : "consumerResumed" ===
                                                                e.t0
                                                              ? 65
                                                              : "consumerLayersChanged" ===
                                                                e.t0
                                                              ? 72
                                                              : "consumerScore" ===
                                                                e.t0
                                                              ? 83
                                                              : "dataConsumerClosed" ===
                                                                e.t0
                                                              ? 86
                                                              : "activeSpeaker" ===
                                                                e.t0
                                                              ? 95
                                                              : "recordingStateChanged" ===
                                                                e.t0
                                                              ? 100
                                                              : "recordingStarted" ===
                                                                e.t0
                                                              ? 103
                                                              : "recordingStopped" ===
                                                                e.t0
                                                              ? 105
                                                              : "livestreamStateChanged" ===
                                                                e.t0
                                                              ? 107
                                                              : "livestreamStarted" ===
                                                                e.t0
                                                              ? 110
                                                              : "livestreamStopped" ===
                                                                e.t0
                                                              ? 112
                                                              : "hlsStateChanged" ===
                                                                e.t0
                                                              ? 114
                                                              : "hlsPlayableStateChanged" ===
                                                                e.t0
                                                              ? 117
                                                              : "hlsStarted" ===
                                                                e.t0
                                                              ? 119
                                                              : "hlsStopped" ===
                                                                e.t0
                                                              ? 122
                                                              : "whiteboardStarted" ===
                                                                e.t0
                                                              ? 124
                                                              : "whiteboardStopped" ===
                                                                e.t0
                                                              ? 127
                                                              : "videoStatusChanged" ===
                                                                e.t0
                                                              ? 129
                                                              : "videoSeeked" ===
                                                                e.t0
                                                              ? 131
                                                              : "connectionOpen" ===
                                                                e.t0
                                                              ? 134
                                                              : "connectionClose" ===
                                                                e.t0
                                                              ? 136
                                                              : "connectionChatMessage" ===
                                                                e.t0
                                                              ? 138
                                                              : "connectionParticipantJoined" ===
                                                                e.t0
                                                              ? 140
                                                              : "connectionParticipantLeft" ===
                                                                e.t0
                                                              ? 142
                                                              : "pubsubMessage" ===
                                                                e.t0
                                                              ? 144
                                                              : "peerModeChanged" ===
                                                                e.t0
                                                              ? 146
                                                              : "restartIce" ===
                                                                e.t0
                                                              ? 149
                                                              : 155);
                                                        break;
                                                      case 4:
                                                        return (
                                                          (n = t.data),
                                                          _._eventEmitter.emit(
                                                            "ERROR",
                                                            n
                                                          ),
                                                          _._openTelemetry.pushLogs(
                                                            {
                                                              logText:
                                                                "Error in Meeting Session",
                                                              logType: "ERROR",
                                                              attributes: {
                                                                error:
                                                                  n.message,
                                                              },
                                                            }
                                                          ),
                                                          null ===
                                                            (r =
                                                              _._openTelemetry) ||
                                                            void 0 === r ||
                                                            r.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Emitted `ERROR` Event",
                                                                attributes: {
                                                                  error:
                                                                    n.message,
                                                                },
                                                                status: 2,
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 9:
                                                        try {
                                                          (a = t.data),
                                                            (i = a.peerId),
                                                            (s = a.kind),
                                                            (o = a.newState),
                                                            _._eventEmitter.emit(
                                                              "PARTICIPANT_MEDIA_STATE_CHANGED",
                                                              {
                                                                peerId: i,
                                                                kind: s,
                                                                newState: o,
                                                              }
                                                            ),
                                                            "video" == s &&
                                                              (null ===
                                                                (c =
                                                                  _._openTelemetry) ||
                                                                void 0 === c ||
                                                                c.traceAutoComplete(
                                                                  {
                                                                    spanName: ""
                                                                      .concat(
                                                                        i,
                                                                        " has "
                                                                      )
                                                                      .concat(
                                                                        o
                                                                          ? "enable"
                                                                          : "disable",
                                                                        " "
                                                                      )
                                                                      .concat(
                                                                        s
                                                                      ),
                                                                    status: 1,
                                                                  }
                                                                ));
                                                        } catch (e) {
                                                          Ti.error(
                                                            '"newProducer" request failed:%o',
                                                            e
                                                          ),
                                                            _._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error newProducer request failed",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.message,
                                                                },
                                                              }
                                                            );
                                                        }
                                                      case 10:
                                                        return (
                                                          (p = t.data),
                                                          (l = p.producerId),
                                                          (u = p.score),
                                                          _i.dispatch(z(l, u)),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 13:
                                                        return (
                                                          (m = t.data),
                                                          (f = m.id),
                                                          (g = m.name),
                                                          (e.next = 16),
                                                          null ===
                                                            (h =
                                                              _._openTelemetry) ||
                                                          void 0 === h
                                                            ? void 0
                                                            : h.trace({
                                                                spanName:
                                                                  "Protoo Noti: entryRequested",
                                                                span: _._joinSpan,
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    {
                                                                      id: f,
                                                                      name: g,
                                                                    }
                                                                  ),
                                                                },
                                                              })
                                                        );
                                                      case 16:
                                                        return (
                                                          (v = e.sent),
                                                          f !== _._peerId
                                                            ? (_._eventEmitter.emit(
                                                                "ENTRY_REQUESTED",
                                                                {
                                                                  id: f,
                                                                  name: g,
                                                                }
                                                              ),
                                                              null ===
                                                                (y =
                                                                  _._openTelemetry) ||
                                                                void 0 === y ||
                                                                y.completeSpan({
                                                                  span: v,
                                                                  status: 1,
                                                                  message:
                                                                    "EntryResponded Recieved",
                                                                }))
                                                            : null ===
                                                                (b =
                                                                  _._openTelemetry) ||
                                                              void 0 === b ||
                                                              b.completeSpan({
                                                                span: v,
                                                                status: 2,
                                                                message:
                                                                  "Entry Request Failed",
                                                              }),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 19:
                                                        return (
                                                          (w = t.data),
                                                          (T = w.id),
                                                          (E = w.decision),
                                                          (R = w.sessionId),
                                                          _._tracesEnabled &&
                                                            _._joinSpan.setAttribute(
                                                              "sessionId",
                                                              R
                                                            ),
                                                          _._eventEmitter.emit(
                                                            "ENTRY_RESPONDED",
                                                            {
                                                              id: T,
                                                              decision: E,
                                                            }
                                                          ),
                                                          (e.next = 24),
                                                          null ===
                                                            (S =
                                                              _._openTelemetry) ||
                                                          void 0 === S
                                                            ? void 0
                                                            : S.trace({
                                                                spanName:
                                                                  "Protoo Noti: entryResponded",
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    {
                                                                      id: T,
                                                                      decision:
                                                                        E,
                                                                    }
                                                                  ),
                                                                },
                                                                span: _._joinSpan,
                                                              })
                                                        );
                                                      case 24:
                                                        return (
                                                          (P = e.sent),
                                                          T === _._peerId &&
                                                          "allowed" === E
                                                            ? (_.joinRoom(),
                                                              null ===
                                                                (C =
                                                                  _._openTelemetry) ||
                                                                void 0 === C ||
                                                                C.completeSpan({
                                                                  span: P,
                                                                  status: 1,
                                                                  message:
                                                                    "EntryResponded Recieved",
                                                                }))
                                                            : null ===
                                                                (k =
                                                                  _._openTelemetry) ||
                                                              void 0 === k ||
                                                              k.completeSpan({
                                                                span: _._joinSpan,
                                                                status: 2,
                                                                message:
                                                                  "Join Request Denied",
                                                              }),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 27:
                                                        (O = t.data),
                                                          (x = q(
                                                            fi(
                                                              fi({}, O),
                                                              {},
                                                              {
                                                                consumers: [],
                                                                dataConsumers:
                                                                  [],
                                                              }
                                                            )
                                                          )),
                                                          _i.dispatch(x),
                                                          _._eventEmitter.emit(
                                                            x.type,
                                                            x.payload
                                                          ),
                                                          _i.dispatch(
                                                            se({
                                                              text: "".concat(
                                                                O.displayName,
                                                                " has joined the room"
                                                              ),
                                                            })
                                                          );
                                                        try {
                                                          null ===
                                                            (I =
                                                              _._openTelemetry) ||
                                                            void 0 === I ||
                                                            I.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Protoo Noti: newPeer ".concat(
                                                                    O.displayName
                                                                  ),
                                                                attributes: {
                                                                  peerData:
                                                                    JSON.stringify(
                                                                      O
                                                                    ),
                                                                },
                                                              }
                                                            );
                                                        } catch (e) {
                                                          _._openTelemetry.pushLogs(
                                                            {
                                                              logText:
                                                                "Error Protoo Noti: newPeer",
                                                              logType: "ERROR",
                                                              attributes: {
                                                                error:
                                                                  e.message,
                                                              },
                                                            }
                                                          ),
                                                            console.error(e);
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 34:
                                                        return (
                                                          (M = t.data.peerId),
                                                          (A = K(M)),
                                                          _i.dispatch(A),
                                                          _._eventEmitter.emit(
                                                            A.type,
                                                            A.payload
                                                          ),
                                                          null ===
                                                            (L =
                                                              _._openTelemetry) ||
                                                            void 0 === L ||
                                                            L.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Protoo Noti: peerClosed for ".concat(
                                                                    M
                                                                  ),
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 40:
                                                        return (
                                                          (N = t.data),
                                                          (j = N.peerId),
                                                          (F = N.displayName),
                                                          (B =
                                                            N.oldDisplayName),
                                                          _i.dispatch($(F, j)),
                                                          _i.dispatch(
                                                            se({
                                                              text: ""
                                                                .concat(
                                                                  B,
                                                                  " is now "
                                                                )
                                                                .concat(F),
                                                            })
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 44:
                                                        return (
                                                          Ti.debug(
                                                            "'downlinkBwe' event:%o",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 46:
                                                        if (
                                                          ((Z =
                                                            t.data.consumerId),
                                                          (H =
                                                            _._consumers.get(
                                                              Z
                                                            )))
                                                        ) {
                                                          e.next = 50;
                                                          break;
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 50:
                                                        return (
                                                          H.close(),
                                                          _._consumers.delete(
                                                            Z
                                                          ),
                                                          (V =
                                                            H.appData.peerId),
                                                          (W = J(Z, V)),
                                                          _i.dispatch(W),
                                                          _._eventEmitter.emit(
                                                            W.type,
                                                            W.payload
                                                          ),
                                                          null ===
                                                            (U =
                                                              _._openTelemetry) ||
                                                            void 0 === U ||
                                                            U.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Protoo Noti: consumerClosed for ".concat(
                                                                    Z
                                                                  ),
                                                                attributes: {
                                                                  consumerData:
                                                                    JSON.stringify(
                                                                      H
                                                                    ),
                                                                },
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 58:
                                                        if (
                                                          ((G =
                                                            t.data.consumerId),
                                                          (X =
                                                            _._consumers.get(
                                                              G
                                                            )))
                                                        ) {
                                                          e.next = 62;
                                                          break;
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 62:
                                                        return (
                                                          X.pause(),
                                                          _i.dispatch(
                                                            Q(G, "remote")
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 65:
                                                        if (
                                                          ((te =
                                                            t.data.consumerId),
                                                          (re =
                                                            _._consumers.get(
                                                              te
                                                            )))
                                                        ) {
                                                          e.next = 69;
                                                          break;
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 69:
                                                        return (
                                                          re.resume(),
                                                          _i.dispatch(
                                                            Y(te, "remote")
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 72:
                                                        if (
                                                          ((ae = t.data),
                                                          (oe = ae.consumerId),
                                                          (ce =
                                                            ae.spatialLayer),
                                                          (de =
                                                            ae.temporalLayer),
                                                          ((pe =
                                                            _._consumers.get(
                                                              oe
                                                            )).currentSpatialLayer =
                                                            ce),
                                                          (pe.currentTemporalLayer =
                                                            de),
                                                          pe)
                                                        ) {
                                                          e.next = 78;
                                                          break;
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 78:
                                                        return (
                                                          pe.appData.encodings
                                                            .length > 1
                                                            ? (_._eventEmitter.emit(
                                                                "VIDEO_QUALITY_CHANGED",
                                                                {
                                                                  peerId:
                                                                    pe.appData
                                                                      .peerId,
                                                                  prevQuality:
                                                                    pe.spatialLayers -
                                                                      1 -
                                                                      pe.currentSpatialLayer ==
                                                                    0
                                                                      ? "HIGH"
                                                                      : pe.spatialLayers -
                                                                          1 -
                                                                          pe.currentSpatialLayer ==
                                                                        1
                                                                      ? "MEDIUM"
                                                                      : "LOW",
                                                                  currentQuality:
                                                                    pe.spatialLayers -
                                                                      1 -
                                                                      ce ==
                                                                    0
                                                                      ? "HIGH"
                                                                      : pe.spatialLayers -
                                                                          1 -
                                                                          ce ==
                                                                        1
                                                                      ? "MEDIUM"
                                                                      : "LOW",
                                                                }
                                                              ),
                                                              _._openTelemetry.pushLogs(
                                                                {
                                                                  logText:
                                                                    "Consumer Peer "
                                                                      .concat(
                                                                        pe
                                                                          .appData
                                                                          .peerId,
                                                                        " changed to "
                                                                      )
                                                                      .concat(
                                                                        pe.spatialLayers -
                                                                          1 -
                                                                          ce ==
                                                                          0
                                                                          ? "HIGH"
                                                                          : pe.spatialLayers -
                                                                              1 -
                                                                              ce ==
                                                                            1
                                                                          ? "MEDIUM"
                                                                          : "LOW",
                                                                        ", previous quality was "
                                                                      )
                                                                      .concat(
                                                                        pe.spatialLayers -
                                                                          1 -
                                                                          pe.currentSpatialLayer ==
                                                                          0
                                                                          ? "HIGH"
                                                                          : pe.spatialLayers -
                                                                              1 -
                                                                              pe.currentSpatialLayer ==
                                                                            1
                                                                          ? "MEDIUM"
                                                                          : "LOW"
                                                                      ),
                                                                  logType:
                                                                    "INFO",
                                                                  attributes: {
                                                                    consumerId:
                                                                      oe,
                                                                  },
                                                                }
                                                              ))
                                                            : (_._eventEmitter.emit(
                                                                "VIDEO_QUALITY_CHANGED",
                                                                {
                                                                  peerId:
                                                                    pe.appData
                                                                      .peerId,
                                                                  prevQuality:
                                                                    "HIGH",
                                                                  currentQuality:
                                                                    "HIGH",
                                                                }
                                                              ),
                                                              _._openTelemetry.pushLogs(
                                                                {
                                                                  logText:
                                                                    "Consumer Peer ".concat(
                                                                      pe.appData
                                                                        .peerId,
                                                                      " changed to HIGH, previous quality was HIGH"
                                                                    ),
                                                                  logType:
                                                                    "INFO",
                                                                  attributes: {
                                                                    consumerId:
                                                                      oe,
                                                                  },
                                                                }
                                                              )),
                                                          (pe.currentSpatialLayer =
                                                            ce),
                                                          (pe.currentTemporalLayer =
                                                            de),
                                                          _i.dispatch(
                                                            ee(oe, ce, de)
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 83:
                                                        return (
                                                          (le = t.data),
                                                          (ue = le.consumerId),
                                                          (he = le.score),
                                                          _i.dispatch(
                                                            ne(ue, he)
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 86:
                                                        if (
                                                          ((me =
                                                            t.data
                                                              .dataConsumerId),
                                                          (fe =
                                                            _._dataConsumers.get(
                                                              me
                                                            )))
                                                        ) {
                                                          e.next = 90;
                                                          break;
                                                        }
                                                        return e.abrupt(
                                                          "break",
                                                          156
                                                        );
                                                      case 90:
                                                        return (
                                                          fe.close(),
                                                          _._dataConsumers.delete(
                                                            me
                                                          ),
                                                          (_e =
                                                            fe.appData.peerId),
                                                          _i.dispatch(
                                                            ie(me, _e)
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 95:
                                                        return (
                                                          (ge = t.data.peerId),
                                                          (ve = D(ge)),
                                                          _i.dispatch(ve),
                                                          _._eventEmitter.emit(
                                                            ve.type,
                                                            ve.payload
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 100:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "RECORDING_STATE_CHANGED",
                                                            t.data
                                                          ),
                                                          null ===
                                                            (ye =
                                                              _._openTelemetry) ||
                                                            void 0 === ye ||
                                                            ye.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Emitted RECORDING_STATE_CHANGED, status : ".concat(
                                                                    t.data
                                                                      .status
                                                                  ),
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    t.data
                                                                  ),
                                                                },
                                                                status: 1,
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 103:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "RECORDING_STARTED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 105:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "RECORDING_STOPPED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 107:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "LIVESTREAM_STATE_CHANGED",
                                                            t.data
                                                          ),
                                                          null ===
                                                            (be =
                                                              _._openTelemetry) ||
                                                            void 0 === be ||
                                                            be.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Emitted LIVESTREAM_STATE_CHANGED, status : ".concat(
                                                                    t.data
                                                                      .status
                                                                  ),
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    t.data
                                                                  ),
                                                                },
                                                                status: 1,
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 110:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "LIVESTREAM_STARTED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 112:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "LIVESTREAM_STOPPED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 114:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "HLS_STATE_CHANGED",
                                                            t.data
                                                          ),
                                                          null ===
                                                            (Se =
                                                              _._openTelemetry) ||
                                                            void 0 === Se ||
                                                            Se.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Emitted HLS_STATE_CHANGED, status : ".concat(
                                                                    t.data
                                                                      .status
                                                                  ),
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    t.data
                                                                  ),
                                                                },
                                                                status: 1,
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 117:
                                                        return (
                                                          t.data.isPlayable &&
                                                            (_._eventEmitter.emit(
                                                              "HLS_STATE_CHANGED",
                                                              fi(
                                                                fi({}, t.data),
                                                                {},
                                                                {
                                                                  status:
                                                                    ke.o
                                                                      .HLS_PLAYABLE,
                                                                }
                                                              )
                                                            ),
                                                            null ===
                                                              (we =
                                                                _._openTelemetry) ||
                                                              void 0 === we ||
                                                              we.traceAutoComplete(
                                                                {
                                                                  spanName:
                                                                    "Protoo Noti: hlsPlayableStateChanged",
                                                                  status: 1,
                                                                }
                                                              )),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 119:
                                                        return (
                                                          (Te =
                                                            t.data
                                                              .downstreamUrl),
                                                          _._eventEmitter.emit(
                                                            "HLS_STARTED",
                                                            Te
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 122:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "HLS_STOPPED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 124:
                                                        return (
                                                          (Ee = t.data.state),
                                                          _._eventEmitter.emit(
                                                            "WHITEBOARD_STARTED",
                                                            { state: Ee }
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 127:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "WHITEBOARD_STOPPED",
                                                            {}
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 129:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "VIDEO_STATE_CHANGED",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 131:
                                                        return (
                                                          (Re =
                                                            t.data.currentTime),
                                                          _._eventEmitter.emit(
                                                            "VIDEO_SEEKED",
                                                            { currentTime: Re }
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 134:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "CONNECTION_OPEN",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 136:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "CONNECTION_CLOSE",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 138:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "CONNECTION_CHAT_MESSAGE",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 140:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "CONNECTION_PARTICIPANT_JOIN",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 142:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "CONNECTION_PARTICIPANT_LEFT",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 144:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "PUBSUB_MESSAGE",
                                                            t.data
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 146:
                                                        return (
                                                          _._eventEmitter.emit(
                                                            "PEER_MODE_CHANGED",
                                                            t.data
                                                          ),
                                                          null ===
                                                            (Pe =
                                                              _._openTelemetry) ||
                                                            void 0 === Pe ||
                                                            Pe.traceAutoComplete(
                                                              {
                                                                spanName:
                                                                  "Emitted PEER_MODE_CHANGED",
                                                                attributes: {
                                                                  data: JSON.stringify(
                                                                    t.data
                                                                  ),
                                                                },
                                                                status: 1,
                                                              }
                                                            ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 149:
                                                        return (
                                                          (Oe = t.data),
                                                          (xe = Oe.transportId),
                                                          (De =
                                                            Oe.iceParameters),
                                                          (e.next = 152),
                                                          null ===
                                                            (Ce =
                                                              _._openTelemetry) ||
                                                          void 0 === Ce
                                                            ? void 0
                                                            : Ce.trace({
                                                                spanName:
                                                                  "Protoo Noti: restartIce for transportId :".concat(
                                                                    xe
                                                                  ),
                                                                attributes: {
                                                                  iceParameters:
                                                                    JSON.stringify(
                                                                      De
                                                                    ),
                                                                },
                                                              })
                                                        );
                                                      case 152:
                                                        return (
                                                          (Ie = e.sent),
                                                          _.handleRemoteRestartIce(
                                                            {
                                                              transportId: xe,
                                                              iceParameters: De,
                                                              internalSpan: Ie,
                                                            }
                                                          ),
                                                          e.abrupt("break", 156)
                                                        );
                                                      case 155:
                                                        Ti.error(
                                                          'unknown protoo notification.method "%s"',
                                                          t.method
                                                        );
                                                      case 156:
                                                      case "end":
                                                        return e.stop();
                                                    }
                                                }, e);
                                              })
                                            );
                                            return function (t) {
                                              return e.apply(this, arguments);
                                            };
                                          })()
                                        );
                                    case 28:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return Zt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "requestEntry",
                      value:
                        ((Ut = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName: "Requesting Entry",
                                              span: this._joinSpan,
                                            })
                                      );
                                    case 2:
                                      return (
                                        (n = e.sent),
                                        (e.next = 5),
                                        this._protoo.request("requestEntry", {
                                          name: this._displayName,
                                        })
                                      );
                                    case 5:
                                      null === (r = this._openTelemetry) ||
                                        void 0 === r ||
                                        r.completeSpan({
                                          span: n,
                                          status: 1,
                                          message:
                                            "Entry Requested Successfully",
                                        });
                                    case 6:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return Ut.apply(this, arguments);
                        }),
                    },
                    {
                      key: "respondEntry",
                      value:
                        ((Bt = (0, a.Z)(
                          d().mark(function e(t, r) {
                            var n, a, i;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        null === (n = this._openTelemetry) ||
                                        void 0 === n
                                          ? void 0
                                          : n.trace({
                                              spanName: "Responding Entry",
                                              attributes: {
                                                peerId: t,
                                                decision: r,
                                              },
                                              span: this._joinSpan,
                                            })
                                      );
                                    case 2:
                                      return (
                                        (i = e.sent),
                                        (e.next = 5),
                                        this._protoo.request("respondEntry", {
                                          id: t,
                                          decision: r,
                                        })
                                      );
                                    case 5:
                                      null === (a = this._openTelemetry) ||
                                        void 0 === a ||
                                        a.completeSpan({
                                          message:
                                            "Entry Responded Successfully",
                                          span: i,
                                          status: 1,
                                        });
                                    case 6:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e, t) {
                          return Bt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startRecording",
                      value:
                        ((Ft = (0, a.Z)(
                          d().mark(function e(t, r, n) {
                            var a, i, s, o;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("startRecording()"),
                                        (e.next = 3),
                                        null === (a = this._openTelemetry) ||
                                        void 0 === a
                                          ? void 0
                                          : a.trace({
                                              spanName:
                                                "startRecording() Start",
                                              attributes: {
                                                webhookUrl:
                                                  t || "webhookUrl Not Specify",
                                                awsDirPath:
                                                  r || "awsDirPath Not Specify",
                                                config: n
                                                  ? JSON.stringify(n)
                                                  : "config Not Specify",
                                              },
                                            })
                                      );
                                    case 3:
                                      return (
                                        (s = e.sent),
                                        (e.prev = 4),
                                        (e.next = 7),
                                        this._protoo.request("startRecording", {
                                          webhookUrl: t,
                                          awsDirPath: r,
                                          config: n,
                                        })
                                      );
                                    case 7:
                                      e.next = 15;
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(4)),
                                        Ti.error(
                                          "startRecording() | failed:%o",
                                          e.t0
                                        ),
                                        null === (o = this._openTelemetry) ||
                                          void 0 === o ||
                                          o.completeSpan({
                                            span: s,
                                            status: 2,
                                            message: "startRecording() failed",
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error startRecording() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        this._emitError({
                                          code: 3017,
                                          message: e.t0.message,
                                        });
                                    case 15:
                                      null === (i = this._openTelemetry) ||
                                        void 0 === i ||
                                        i.completeSpan({
                                          span: s,
                                          status: 1,
                                          message: "startRecording() End",
                                        });
                                    case 16:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 9]]
                            );
                          })
                        )),
                        function (e, t, r) {
                          return Ft.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopRecording",
                      value:
                        ((jt = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopRecording()"),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName: "stopRecording() Start",
                                            })
                                      );
                                    case 3:
                                      return (
                                        (n = e.sent),
                                        (e.prev = 4),
                                        (e.next = 7),
                                        this._protoo.request(
                                          "stopRecording",
                                          {}
                                        )
                                      );
                                    case 7:
                                      e.next = 14;
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(4)),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.completeSpan({
                                            span: n,
                                            status: 2,
                                            message: "stopRecording() failed",
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error stopRecording() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        this._emitError({
                                          code: 3018,
                                          message: e.t0.message,
                                        });
                                    case 14:
                                      null === (r = this._openTelemetry) ||
                                        void 0 === r ||
                                        r.completeSpan({
                                          span: n,
                                          status: 1,
                                          message: "stopRecording() End",
                                        });
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 9]]
                            );
                          })
                        )),
                        function () {
                          return jt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startLivestream",
                      value:
                        ((Nt = (0, a.Z)(
                          d().mark(function e(t, r) {
                            var n, a, i, s;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("startLivestream()"),
                                        (e.next = 3),
                                        null === (n = this._openTelemetry) ||
                                        void 0 === n
                                          ? void 0
                                          : n.trace({
                                              spanName:
                                                "startLivestream() Start",
                                              attributes: {
                                                outputs: t
                                                  ? JSON.stringify(t)
                                                  : "outputs Not Specify",
                                                config: r
                                                  ? JSON.stringify(r)
                                                  : "config Not Specify",
                                              },
                                            })
                                      );
                                    case 3:
                                      return (
                                        (i = e.sent),
                                        (e.prev = 4),
                                        (e.next = 7),
                                        this._protoo.request(
                                          "startLivestream",
                                          { outputs: t, config: r }
                                        )
                                      );
                                    case 7:
                                      e.next = 14;
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(4)),
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: i,
                                            status: 1,
                                            message: "startLivestream() End",
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error startLivestream() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        this._emitError({
                                          code: 3019,
                                          message: e.t0.message,
                                        });
                                    case 14:
                                      null === (a = this._openTelemetry) ||
                                        void 0 === a ||
                                        a.completeSpan({
                                          span: i,
                                          status: 1,
                                          message: "startLivestream() End",
                                        });
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 9]]
                            );
                          })
                        )),
                        function (e, t) {
                          return Nt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopLivestream",
                      value:
                        ((At = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopLivestream()"),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "stopLivestream() Start",
                                            })
                                      );
                                    case 3:
                                      return (
                                        (n = e.sent),
                                        (e.prev = 4),
                                        (e.next = 7),
                                        this._protoo.request(
                                          "stopLivestream",
                                          {}
                                        )
                                      );
                                    case 7:
                                      e.next = 14;
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(4)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error stopLivestream() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.completeSpan({
                                            span: n,
                                            status: 2,
                                            message:
                                              "Error stopLivestream() failed",
                                          }),
                                        this._emitError({
                                          code: 3020,
                                          message: e.t0.message,
                                        });
                                    case 14:
                                      null === (r = this._openTelemetry) ||
                                        void 0 === r ||
                                        r.completeSpan({
                                          span: n,
                                          status: 1,
                                          message: "stopLivestream() End",
                                        });
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 9]]
                            );
                          })
                        )),
                        function () {
                          return At.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startHls",
                      value:
                        ((Mt = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (t = t || {}),
                                        Ti.debug("startHls()"),
                                        (e.next = 4),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName: "startHls() Start",
                                              attributes: {
                                                config: t
                                                  ? JSON.stringify(t)
                                                  : "config Not Specify",
                                              },
                                            })
                                      );
                                    case 4:
                                      return (
                                        (a = e.sent),
                                        (e.prev = 5),
                                        (e.next = 8),
                                        this._protoo.request("startHls", {
                                          config: t,
                                        })
                                      );
                                    case 8:
                                      e.next = 15;
                                      break;
                                    case 10:
                                      (e.prev = 10),
                                        (e.t0 = e.catch(5)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error startHls() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: a,
                                            status: 2,
                                            message: "Error startHls() failed",
                                          }),
                                        Ti.error(
                                          "startHls() | failed:%o",
                                          e.t0
                                        );
                                    case 15:
                                      null === (n = this._openTelemetry) ||
                                        void 0 === n ||
                                        n.completeSpan({
                                          span: a,
                                          status: 1,
                                          message: "startHlsSpan() End",
                                        });
                                    case 16:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[5, 10]]
                            );
                          })
                        )),
                        function (e) {
                          return Mt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopHls",
                      value:
                        ((Lt = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopHls()"),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName: "stopHls() Start",
                                            })
                                      );
                                    case 3:
                                      return (
                                        (n = e.sent),
                                        (e.prev = 4),
                                        (e.next = 7),
                                        this._protoo.request("stopHls", {})
                                      );
                                    case 7:
                                      e.next = 13;
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(4)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error stopHls() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.completeSpan({
                                            span: n,
                                            status: 2,
                                            message: "Error stopHls() failed",
                                          });
                                    case 13:
                                      null === (r = this._openTelemetry) ||
                                        void 0 === r ||
                                        r.completeSpan({
                                          span: n,
                                          status: 1,
                                          message: "stopHls() End",
                                        });
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 9]]
                            );
                          })
                        )),
                        function () {
                          return Lt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startWhiteboard",
                      value:
                        ((It = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("startWhiteboard()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request(
                                          "startWhiteboard",
                                          {}
                                        )
                                      );
                                    case 4:
                                      e.next = 10;
                                      break;
                                    case 6:
                                      (e.prev = 6),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "startWhiteboard() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3021,
                                          message: e.t0.message,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 6]]
                            );
                          })
                        )),
                        function () {
                          return It.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopWhiteboard",
                      value:
                        ((Dt = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopWhiteboard()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request(
                                          "stopWhiteboard",
                                          {}
                                        )
                                      );
                                    case 4:
                                      e.next = 10;
                                      break;
                                    case 6:
                                      (e.prev = 6),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "stopWhiteboard() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3022,
                                          message: e.t0.message,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 6]]
                            );
                          })
                        )),
                        function () {
                          return Dt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pinStateChange",
                      value:
                        ((xt = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (n = t.peerId),
                                        (a = t.state),
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName:
                                              "Pin state Change for ".concat(n),
                                            attributes: {
                                              state: a
                                                ? JSON.stringify(a)
                                                : null,
                                            },
                                            status: 1,
                                          }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "pinStateChanged",
                                          { peerId: n, state: a }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error pinStateChange() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error("pinStateChange() | failed");
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return xt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startVideo",
                      value:
                        ((Ot = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.link),
                                        Ti.debug("startVideo()"),
                                        this._openTelemetry.pushLogs({
                                          logText: "startVideo() Calling",
                                          logType: "INFO",
                                        }),
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._protoo.request("startVideo", {
                                          link: r,
                                        })
                                      );
                                    case 6:
                                      e.next = 13;
                                      break;
                                    case 8:
                                      (e.prev = 8),
                                        (e.t0 = e.catch(3)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error startVideo() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "startVideo() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3023,
                                          message: e.t0.message,
                                        });
                                    case 13:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 8]]
                            );
                          })
                        )),
                        function (e) {
                          return Ot.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopVideo",
                      value:
                        ((kt = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopVideo()"),
                                        this._openTelemetry.pushLogs({
                                          logText: "stopVideo() Calling",
                                          logType: "INFO",
                                        }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request("stopVideo", {})
                                      );
                                    case 5:
                                      e.next = 12;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error stopVideo() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "stopVideo() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3024,
                                          message: e.t0.message,
                                        });
                                    case 12:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function () {
                          return kt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pauseVideo",
                      value:
                        ((Ct = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("pauseVideo()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request("pauseVideo", {
                                          currentTime: t,
                                        })
                                      );
                                    case 4:
                                      e.next = 10;
                                      break;
                                    case 6:
                                      (e.prev = 6),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "pauseVideo() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3025,
                                          message: e.t0.message,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 6]]
                            );
                          })
                        )),
                        function (e) {
                          return Ct.apply(this, arguments);
                        }),
                    },
                    {
                      key: "resumeVideo",
                      value:
                        ((Pt = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("resumeVideo()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request("resumeVideo", {})
                                      );
                                    case 4:
                                      e.next = 10;
                                      break;
                                    case 6:
                                      (e.prev = 6),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "resumeVideo() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3026,
                                          message: e.t0.message,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 6]]
                            );
                          })
                        )),
                        function () {
                          return Pt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "seekVideo",
                      value:
                        ((Rt = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("seekVideo()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request("seekVideo", {
                                          currentTime: t,
                                        })
                                      );
                                    case 4:
                                      e.next = 10;
                                      break;
                                    case 6:
                                      (e.prev = 6),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "seekVideo() | failed:%o",
                                          e.t0
                                        ),
                                        this._emitError({
                                          code: 3031,
                                          message: e.t0.message,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 6]]
                            );
                          })
                        )),
                        function (e) {
                          return Rt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enablePeerMic",
                      value:
                        ((Et = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName: "Enabling peer ".concat(
                                              t,
                                              " Mic"
                                            ),
                                            status: 1,
                                          }),
                                        Ti.debug("enablePeerMic()"),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request("enablePeerMic", {
                                          peerId: t,
                                        })
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error enablePeerMic() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "enablePeerMic() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return Et.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disablePeerMic",
                      value:
                        ((Tt = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName: "Disabling peer ".concat(
                                              t,
                                              " Mic"
                                            ),
                                            status: 1,
                                          }),
                                        Ti.debug("disablePeerMic()"),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request("disablePeerMic", {
                                          peerId: t,
                                        })
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error disablePeerMic() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "disablePeerMic() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return Tt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "consumeWebcamStreams",
                      value:
                        ((wt = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("consumeWebcamStreams()"),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "consumeWebcamStreams() Calling",
                                          logType: "INFO",
                                          attributes: { peerId: t },
                                        }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "consumeVideoStreams",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error consumeWebcamStreams() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "consumeWebcamStreams() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return wt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "consumeMicStreams",
                      value:
                        ((St = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("consumeMicStreams()"),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "consumeMicStreams() Calling",
                                          logType: "INFO",
                                          attributes: { peerId: t },
                                        }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "consumeAudioStreams",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error consumeMicStreams() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "consumeMicStreams() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return St.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopConsumingMicStreams",
                      value:
                        ((bt = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("stopConsumingAudioStreams()"),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error stopConsumingAudioStreams() Calling",
                                          logType: "INFO",
                                          attributes: { peerId: t },
                                        }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "stopConsumingAudioStreams",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error stopConsumingMicStreams() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "stopConsumingMicStreams() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return bt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "stopConsumingWebcamStreams",
                      value:
                        ((yt = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug(
                                          "stopConsumingWebcamStreams()"
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "stopConsumingWebcamStreams() Calling",
                                          logType: "INFO",
                                          attributes: { peerId: t },
                                        }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "stopConsumingVideoStreams",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error stopConsumingWebcamStreams() failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "stopConsumingWebcamStreams() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return yt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "changeMode",
                      value:
                        ((vt = (0, a.Z)(
                          d().mark(function e(t) {
                            var r,
                              n,
                              a,
                              i,
                              s,
                              c,
                              p,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b,
                              S,
                              w,
                              T,
                              E,
                              R,
                              P,
                              k,
                              O,
                              x,
                              D = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName:
                                                "changeMode() Calling with mode : ".concat(
                                                  t
                                                ),
                                            })
                                      );
                                    case 2:
                                      if (
                                        ((n = e.sent),
                                        (a = this._mode),
                                        (e.prev = 4),
                                        a !== t)
                                      ) {
                                        e.next = 10;
                                        break;
                                      }
                                      throw (
                                        (n.setAttributes({
                                          message: "You are already in ".concat(
                                            t,
                                            " mode"
                                          ),
                                        }),
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: n,
                                            status: 2,
                                            message: "changeMode() Ending",
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText: "You are already in ".concat(
                                            t,
                                            " mode"
                                          ),
                                          logType: "INFO",
                                        }),
                                        new Error(
                                          "You are already in ".concat(
                                            t,
                                            " mode"
                                          )
                                        ))
                                      );
                                    case 10:
                                      if (
                                        ((this._mode = t),
                                        t !== Ce.S.CONFERENCE)
                                      ) {
                                        e.next = 42;
                                        break;
                                      }
                                      return (
                                        (this._consume = !0),
                                        (this._produce = !0),
                                        (this._mediasoupDevice = new l.Device({
                                          handlerName: this._handlerName,
                                        })),
                                        (e.next = 17),
                                        this._protoo.request(
                                          "getRouterRtpCapabilities"
                                        )
                                      );
                                    case 17:
                                      return (
                                        (p = e.sent),
                                        null == n ||
                                          n.setAttributes(
                                            (0, o.Z)(
                                              {},
                                              "routerRtpCapabilities",
                                              JSON.stringify(p).toString()
                                            )
                                          ),
                                        (e.next = 21),
                                        this._mediasoupDevice.load({
                                          routerRtpCapabilities: p,
                                        })
                                      );
                                    case 21:
                                      if (!this._produce) {
                                        e.next = 26;
                                        break;
                                      }
                                      return (
                                        (e.next = 24),
                                        this._protoo.request(
                                          "createWebRtcTransport",
                                          {
                                            preferredProtocol:
                                              this._preferredProtocol,
                                            producing: !0,
                                            consuming: !1,
                                            sctpCapabilities: this
                                              ._useDataChannel
                                              ? this._mediasoupDevice
                                                  .sctpCapabilities
                                              : void 0,
                                          }
                                        )
                                      );
                                    case 24:
                                      (u = e.sent),
                                        this.createProducerTransport(u, n);
                                    case 26:
                                      if (!this._consume) {
                                        e.next = 33;
                                        break;
                                      }
                                      return (
                                        (e.next = 29),
                                        this._protoo.request(
                                          "createWebRtcTransport",
                                          {
                                            preferredProtocol:
                                              this._preferredProtocol,
                                            producing: !1,
                                            consuming: !0,
                                            sctpCapabilities: this
                                              ._useDataChannel
                                              ? this._mediasoupDevice
                                                  .sctpCapabilities
                                              : void 0,
                                          }
                                        )
                                      );
                                    case 29:
                                      (h = e.sent),
                                        (m = h.id),
                                        (f = h.iceParameters),
                                        (_ = h.iceCandidates),
                                        (g = h.dtlsParameters),
                                        (v = h.sctpParameters),
                                        (this._recvTransport =
                                          this._mediasoupDevice.createRecvTransport(
                                            {
                                              id: m,
                                              iceParameters: f,
                                              iceCandidates: _,
                                              dtlsParameters: g,
                                              sctpParameters: v,
                                              iceServers: this._iceServers,
                                            }
                                          )),
                                        this._recvTransport.on(
                                          "connect",
                                          function (e, t, r) {
                                            var n = e.dtlsParameters;
                                            D._protoo
                                              .request(
                                                "connectWebRtcTransport",
                                                {
                                                  transportId:
                                                    D._recvTransport.id,
                                                  dtlsParameters: n,
                                                }
                                              )
                                              .then(t)
                                              .catch(r);
                                          }
                                        );
                                    case 33:
                                      return (
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.traceAutoComplete({
                                            spanName:
                                              "Sending changeMode request to server",
                                            status: 1,
                                          }),
                                        (e.next = 36),
                                        this._protoo.request("changeMode", {
                                          mode: t,
                                        })
                                      );
                                    case 36:
                                      this._produce &&
                                        (_i.dispatch(
                                          L({
                                            canSendMic:
                                              this._mediasoupDevice.canProduce(
                                                "audio"
                                              ),
                                            canSendWebcam:
                                              this._mediasoupDevice.canProduce(
                                                "video"
                                              ),
                                          })
                                        ),
                                        this._micEnabled &&
                                          this.enableMic(
                                            this.customMicrophoneAudioTrack
                                          ),
                                        (y = C()),
                                        this._webcamEnabled &&
                                          (!y ||
                                            y.webcamEnabled ||
                                            this._externalVideo) &&
                                          this.enableWebcam(
                                            this.customCameraVideoTrack,
                                            n
                                          ),
                                        this.enableChatDataProducer()),
                                        window.SHOW_INFO &&
                                          ((b = _i.getState()),
                                          (S = b.me),
                                          _i.dispatch(I(S.id))),
                                        null === (c = this._openTelemetry) ||
                                          void 0 === c ||
                                          c.traceAutoComplete({
                                            spanName:
                                              "Emitting PEER_MODE_CHANGED for Peer : ".concat(
                                                this._peerId,
                                                " "
                                              ),
                                            status: 1,
                                          }),
                                        this._eventEmitter.emit(
                                          "PEER_MODE_CHANGED",
                                          {
                                            peerId: this._peerId,
                                            mode: "CONFERENCE",
                                          }
                                        ),
                                        (e.next = 58);
                                      break;
                                    case 42:
                                      if (t !== Ce.S.VIEWER) {
                                        e.next = 58;
                                        break;
                                      }
                                      return (
                                        null === (w = this._openTelemetry) ||
                                          void 0 === w ||
                                          w.traceAutoComplete({
                                            spanName:
                                              "Sending changeMode request to server",
                                            status: 1,
                                          }),
                                        (e.next = 46),
                                        this._protoo.request("changeMode", {
                                          mode: t,
                                        })
                                      );
                                    case 46:
                                      return (
                                        (this._consume = !1),
                                        (this._produce = !1),
                                        this._dataConsumers.clear(),
                                        (e.next = 51),
                                        null === (T = this._openTelemetry) ||
                                        void 0 === T
                                          ? void 0
                                          : T.trace({
                                              spanName: "Closing Trasnport",
                                              span: n,
                                            })
                                      );
                                    case 51:
                                      (O = e.sent),
                                        null === (E = this._sendTransport) ||
                                          void 0 === E ||
                                          E.close(),
                                        (this._sendTransport = null),
                                        null === (R = this._recvTransport) ||
                                          void 0 === R ||
                                          R.close(),
                                        (this._recvTransport = null),
                                        null === (P = this._openTelemetry) ||
                                          void 0 === P ||
                                          P.completeSpan({
                                            span: O,
                                            status: 1,
                                            message: "Closed Trasnport",
                                          }),
                                        null === (k = this._openTelemetry) ||
                                          void 0 === k ||
                                          k.completeSpan({
                                            span: O,
                                            status: 1,
                                            message: "changeMode() Ending",
                                          });
                                    case 58:
                                      e.next = 64;
                                      break;
                                    case 60:
                                      (e.prev = 60),
                                        (e.t0 = e.catch(4)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error changeMode(".concat(
                                            t,
                                            ") | failed"
                                          ),
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (x = this._openTelemetry) ||
                                          void 0 === x ||
                                          x.completeSpan({
                                            span: n,
                                            status: 2,
                                            message: "changeMode(".concat(
                                              t,
                                              ") | failed"
                                            ),
                                          });
                                    case 64:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 60]]
                            );
                          })
                        )),
                        function (e) {
                          return vt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enablePeerWebcam",
                      value:
                        ((gt = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName: "Enabling peer ".concat(
                                              t,
                                              " Webcam"
                                            ),
                                            status: 1,
                                          }),
                                        Ti.debug("enablePeerWebcam()"),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "enablePeerWebcam",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error enablePeerWebcam | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "enablePeerWebcam() | failed:%o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return gt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disablePeerWebcam",
                      value:
                        ((_t = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName: "Disabling peer ".concat(
                                              t,
                                              " Webcam"
                                            ),
                                            status: 1,
                                          }),
                                        Ti.debug("disablePeerWebcam()"),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "disablePeerWebcam",
                                          { peerId: t }
                                        )
                                      );
                                    case 5:
                                      e.next = 10;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error disablePeerWebcam | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return _t.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableMic",
                      value:
                        ((ft = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b,
                              S,
                              w,
                              T,
                              E,
                              R,
                              P,
                              C,
                              k,
                              O,
                              x,
                              D,
                              I,
                              L,
                              M,
                              A,
                              N = this,
                              j = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r =
                                          j.length > 0 && void 0 !== j[0]
                                            ? j[0]
                                            : void 0),
                                        (n =
                                          j.length > 1 && void 0 !== j[1]
                                            ? j[1]
                                            : void 0),
                                        (e.next = 4),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "enableMic() Calling ".concat(
                                                  r
                                                    ? "With Custom Audio Track"
                                                    : "Without Custom Audio Track "
                                                ),
                                              attributes: {
                                                customAudioConfig: r
                                                  ? JSON.stringify(r)
                                                  : "Not Specify Custom Track",
                                              },
                                              span: n || null,
                                            })
                                      );
                                    case 4:
                                      if (
                                        ((a = e.sent),
                                        Ti.debug("enableMic()"),
                                        (this._micEnabled = !0),
                                        !this._micProducer)
                                      ) {
                                        e.next = 23;
                                        break;
                                      }
                                      return (
                                        (e.next = 10),
                                        null === (i = this._openTelemetry) ||
                                        void 0 === i
                                          ? void 0
                                          : i.trace({
                                              spanName: "Mic Producer found",
                                              span: a,
                                            })
                                      );
                                    case 10:
                                      return (
                                        (c = e.sent),
                                        r &&
                                          (null === (p = this._openTelemetry) ||
                                            void 0 === p ||
                                            p.traceAutoComplete({
                                              spanName:
                                                "Stopping customAudioTrack",
                                              status: 1,
                                            }),
                                          r.getTracks().forEach(function (e) {
                                            e.stop();
                                          })),
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: c,
                                            status: 1,
                                            message: "Resuming Mic Producer",
                                          }),
                                        this._micProducer.resume(),
                                        (l = this._micProducer),
                                        (e.next = 17),
                                        this._sendTransport.produce({
                                          track: this._micProducer.track,
                                          encodings:
                                            this._micProducer._appData
                                              .encodings,
                                          codecOptions:
                                            this._micProducer._appData
                                              .codecOptions,
                                        })
                                      );
                                    case 17:
                                      return (
                                        (this._micProducer = e.sent),
                                        (u = U({
                                          id: this._micProducer.id,
                                          paused: this._micProducer.paused,
                                          track: this._micProducer.track,
                                          rtpParameters:
                                            this._micProducer.rtpParameters,
                                          codec:
                                            this._micProducer.rtpParameters.codecs[0].mimeType.split(
                                              "/"
                                            )[1],
                                          encodings: l._appData.encodings,
                                          codecOptions: l._appData.codecOptions,
                                          instance: this._micProducer,
                                        })),
                                        _i.dispatch(u),
                                        this._eventEmitter.emit(
                                          u.type,
                                          u.payload
                                        ),
                                        null === (o = this._openTelemetry) ||
                                          void 0 === o ||
                                          o.completeSpan({
                                            span: a,
                                            status: 1,
                                            message: "Enable Mic Successful",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 23:
                                      if (
                                        this._mediasoupDevice.canProduce(
                                          "audio"
                                        )
                                      ) {
                                        e.next = 27;
                                        break;
                                      }
                                      return (
                                        Ti.error(
                                          "enableMic() | cannot produce audio"
                                        ),
                                        null === (h = this._openTelemetry) ||
                                          void 0 === h ||
                                          h.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              'enableMic() | cannot produce audio"',
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 27:
                                      if (
                                        ((e.prev = 27), this._externalVideo)
                                      ) {
                                        e.next = 57;
                                        break;
                                      }
                                      return (
                                        Ti.debug(
                                          "enableMic() | calling getUserMedia()"
                                        ),
                                        (e.next = 32),
                                        this._updateMics(a)
                                      );
                                    case 32:
                                      if (this._mic.device) {
                                        e.next = 36;
                                        break;
                                      }
                                      throw (
                                        (null === (S = this._openTelemetry) ||
                                          void 0 === S ||
                                          S.traceAutoComplete({
                                            spanName: "Mic Device Not Found",
                                            status: 2,
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error Mic Device Not Found",
                                          logType: "ERROR",
                                        }),
                                        new Error("no mic devices"))
                                      );
                                    case 36:
                                      try {
                                        r &&
                                          "ended" ==
                                            (m = r.getAudioTracks()[0])
                                              .readyState &&
                                          ((m = null),
                                          null === (w = this._openTelemetry) ||
                                            void 0 === w ||
                                            w.traceAutoComplete({
                                              spanName:
                                                "Dispose Audio Custom Track, it is in ended state",
                                              status: 2,
                                            }));
                                      } catch (e) {
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Invalid Custom Audio Track Passed. Reverting to default Error",
                                          logType: "ERROR",
                                          attributes: { error: e.message },
                                        }),
                                          console.log(
                                            "Invalid Custom Audio Track Passed. Reverting to default Error: ".concat(
                                              e
                                            )
                                          );
                                      }
                                      if (m) {
                                        e.next = 55;
                                        break;
                                      }
                                      return (
                                        (e.next = 40),
                                        null === (T = this._openTelemetry) ||
                                        void 0 === T
                                          ? void 0
                                          : T.trace({
                                              spanName: "Creating Track",
                                              span: a,
                                            })
                                      );
                                    case 40:
                                      return (
                                        (R = e.sent),
                                        (e.prev = 41),
                                        (e.next = 44),
                                        navigator.mediaDevices.getUserMedia({
                                          audio: {
                                            deviceId: {
                                              ideal: this._mic.device.deviceId,
                                            },
                                            channelCount: 1,
                                            noiseSuppression: !0,
                                            echoCancellation: !0,
                                            googEchoCancellation: !0,
                                            googEchoCancellation2: !0,
                                            googAutoGainControl: !0,
                                            googAutoGainControl2: !0,
                                            googNoiseSuppression: !0,
                                            googNoiseSuppression2: !0,
                                            googHighpassFilter: !0,
                                          },
                                        })
                                      );
                                    case 44:
                                      (P = e.sent), (e.next = 53);
                                      break;
                                    case 47:
                                      return (
                                        (e.prev = 47),
                                        (e.t0 = e.catch(41)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error in getUserMedia for audio",
                                          logType: "ERROR",
                                          attributes: {
                                            error: JSON.stringify(e.t0),
                                          },
                                        }),
                                        null === (C = this._openTelemetry) ||
                                          void 0 === C ||
                                          C.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "Error in getUserMedia for audio",
                                          }),
                                        "Permission denied" === e.t0.message ||
                                        "NotAllowedError" === e.t0.name
                                          ? (this._openTelemetry.pushLogs({
                                              logText:
                                                "Error Invalid Custom Audio Track Passed. Reverting to default Error: ".concat(
                                                  error
                                                ),
                                              logType: "ERROR",
                                            }),
                                            this._emitError(
                                              Ee.H
                                                .ERROR_GET_AUDIO_MEDIA_PERMISSION_DENIED
                                            ))
                                          : this._emitError(
                                              Ee.H.ERROR_GET_AUDIO_MEDIA
                                            ),
                                        e.abrupt("return")
                                      );
                                    case 53:
                                      (m = P.getAudioTracks()[0]),
                                        null === (E = this._openTelemetry) ||
                                          void 0 === E ||
                                          E.completeSpan({
                                            message: "Audio Track Generated",
                                            span: R,
                                            status: 1,
                                          });
                                    case 55:
                                      e.next = 61;
                                      break;
                                    case 57:
                                      return (
                                        (e.next = 59),
                                        this._getExternalVideoStream()
                                      );
                                    case 59:
                                      (k = e.sent),
                                        (m = k.getAudioTracks()[0].clone());
                                    case 61:
                                      return (
                                        (e.next = 63),
                                        null === (f = this._openTelemetry) ||
                                        void 0 === f
                                          ? void 0
                                          : f.trace({
                                              spanName:
                                                "Generating Producer Configuration",
                                              span: a,
                                            })
                                      );
                                    case 63:
                                      return (
                                        (O = e.sent),
                                        (x = { opusStereo: 1, opusDtx: 1 }),
                                        r &&
                                          ((D = r.encoderConfig
                                            ? de.v.audioProfiles[
                                                r.encoderConfig
                                              ]
                                            : de.v.audioProfiles
                                                .speech_standard),
                                          (x = {
                                            opusStereo: D.stereo ? 1 : 0,
                                            opusFec: D.fec ? 1 : 0,
                                            opusDtx: D.dtx ? 1 : 0,
                                            opusMaxPlaybackRate:
                                              D.maxPlaybackRate,
                                            opusPtime: D.packetTime,
                                          })),
                                        (L = {
                                          encodings: (I = [
                                            { networkPriority: "high" },
                                          ]),
                                          codecOptions: x,
                                        }),
                                        null === (_ = this._openTelemetry) ||
                                          void 0 === _ ||
                                          _.traceAutoComplete({
                                            spanName: "Generated AppData",
                                            attributes: {
                                              appData: JSON.stringify(L),
                                            },
                                            status: 1,
                                          }),
                                        null === (g = this._openTelemetry) ||
                                          void 0 === g ||
                                          g.completeSpan({
                                            span: O,
                                            status: 1,
                                            message:
                                              "Producer Configuration Generated",
                                          }),
                                        (e.next = 73),
                                        null === (v = this._openTelemetry) ||
                                        void 0 === v
                                          ? void 0
                                          : v.trace({
                                              spanName: "Creating Mic Producer",
                                              span: a,
                                            })
                                      );
                                    case 73:
                                      return (
                                        (O = e.sent),
                                        (e.next = 76),
                                        this._sendTransport.produce({
                                          track: m,
                                          encodings: I,
                                          codecOptions: x,
                                          appData: L,
                                        })
                                      );
                                    case 76:
                                      (this._micProducer = e.sent),
                                        (M = U({
                                          id: this._micProducer.id,
                                          paused: this._micProducer.paused,
                                          track: this._micProducer.track,
                                          rtpParameters:
                                            this._micProducer.rtpParameters,
                                          codec:
                                            this._micProducer.rtpParameters.codecs[0].mimeType.split(
                                              "/"
                                            )[1],
                                          encodings: I,
                                          codecOptions: x,
                                          instance: this._micProducer,
                                        })),
                                        _i.dispatch(M),
                                        this._eventEmitter.emit(
                                          M.type,
                                          M.payload
                                        ),
                                        this._micProducer.on(
                                          "transportclose",
                                          function () {
                                            var e,
                                              t = Z(N._micProducer.id);
                                            _i.dispatch(t),
                                              N._eventEmitter.emit(
                                                t.type,
                                                t.payload
                                              ),
                                              null === (e = N._micProducer) ||
                                                void 0 === e ||
                                                e.close(),
                                              (N._micProducer = null);
                                          }
                                        ),
                                        this._micProducer.on(
                                          "trackended",
                                          function () {
                                            var e;
                                            null === (e = N._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  "this._micProducer trackended or Microphone disconnected!",
                                                status: 2,
                                              }),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Microphone disconnected!",
                                                })
                                              ),
                                              N.disableMic(!1, a).catch(
                                                function () {}
                                              );
                                          }
                                        ),
                                        null === (y = this._openTelemetry) ||
                                          void 0 === y ||
                                          y.completeSpan({
                                            span: O,
                                            status: 1,
                                            message: "Mic Producer Created",
                                          }),
                                        null === (b = this._openTelemetry) ||
                                          void 0 === b ||
                                          b.completeSpan({
                                            span: a,
                                            status: 1,
                                            message: "Enable Mic Successful",
                                          }),
                                        (e.next = 95);
                                      break;
                                    case 86:
                                      return (
                                        (e.prev = 86),
                                        (e.t1 = e.catch(27)),
                                        null === (A = this._openTelemetry) ||
                                          void 0 === A ||
                                          A.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "Error enabling microphone: ".concat(
                                                e.t1
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error enabling microphone",
                                          logType: "ERROR",
                                          attributes: { error: e.t1.message },
                                        }),
                                        Ti.error(
                                          "enableMic() | failed:%o",
                                          e.t1
                                        ),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error enabling microphone: ".concat(
                                              e.t1
                                            ),
                                          })
                                        ),
                                        (e.next = 94),
                                        this._protoo.request("produceError", {
                                          mediaType: "audio",
                                          message: e.t1.message,
                                        })
                                      );
                                    case 94:
                                      m && m.stop();
                                    case 95:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [27, 86],
                                [41, 47],
                              ]
                            );
                          })
                        )),
                        function () {
                          return ft.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disableMic",
                      value:
                        ((mt = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (n =
                                          b.length > 0 &&
                                          void 0 !== b[0] &&
                                          b[0]),
                                        (a =
                                          b.length > 1 && void 0 !== b[1]
                                            ? b[1]
                                            : void 0),
                                        Ti.debug("disableMic()"),
                                        (e.next = 5),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName: "disableMic() Calling",
                                              status: 1,
                                              span: a || null,
                                            })
                                      );
                                    case 5:
                                      if (((i = e.sent), this._micProducer)) {
                                        e.next = 9;
                                        break;
                                      }
                                      return (
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: i,
                                            status: 2,
                                            message: "Mic Producer Not found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 9:
                                      return (
                                        (e.next = 11),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName: "Closing Mic Producer",
                                              span: i,
                                              status: 1,
                                            })
                                      );
                                    case 11:
                                      if (
                                        ((o = e.sent),
                                        (this._micEnabled = !1),
                                        !this._micProducer || n)
                                      ) {
                                        e.next = 35;
                                        break;
                                      }
                                      return (
                                        (e.next = 16),
                                        null === (c = this._openTelemetry) ||
                                        void 0 === c
                                          ? void 0
                                          : c.trace({
                                              spanName: "Pausing Mic Producer",
                                              span: o,
                                              status: 1,
                                            })
                                      );
                                    case 16:
                                      return (
                                        (u = e.sent),
                                        this._micProducer.pause(),
                                        (h = Z(this._micProducer.id)),
                                        null === (p = this._openTelemetry) ||
                                          void 0 === p ||
                                          p.completeSpan({
                                            span: u,
                                            status: 1,
                                            message: "Pause Mic Successfully",
                                          }),
                                        _i.dispatch(h),
                                        this._eventEmitter.emit(
                                          h.type,
                                          h.payload
                                        ),
                                        (e.prev = 22),
                                        (e.next = 25),
                                        this._protoo.request("closeProducer", {
                                          producerId: this._micProducer.id,
                                        })
                                      );
                                    case 25:
                                      null === (m = this._openTelemetry) ||
                                        void 0 === m ||
                                        m.completeSpan({
                                          span: o,
                                          status: 1,
                                          message:
                                            "Requested Server to Close Producer",
                                        }),
                                        (e.next = 33);
                                      break;
                                    case 28:
                                      (e.prev = 28),
                                        (e.t0 = e.catch(22)),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error closing server-side mic Producer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        null === (f = this._openTelemetry) ||
                                          void 0 === f ||
                                          f.completeSpan({
                                            span: i,
                                            status: 2,
                                            message:
                                              "Error closing server-side mic Producer closeProducer :".concat(
                                                n
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error closing server-side mic Producer closeProducer :".concat(
                                              n
                                            ),
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 33:
                                      return (
                                        null === (l = this._openTelemetry) ||
                                          void 0 === l ||
                                          l.completeSpan({
                                            span: i,
                                            status: 1,
                                            message:
                                              "Mic Disabled Successfully",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 35:
                                      return (
                                        this._micProducer.close(),
                                        (_ = Z(this._micProducer.id)),
                                        _i.dispatch(_),
                                        this._eventEmitter.emit(
                                          _.type,
                                          _.payload
                                        ),
                                        (e.prev = 39),
                                        (e.next = 42),
                                        this._protoo.request("closeProducer", {
                                          producerId: this._micProducer.id,
                                        })
                                      );
                                    case 42:
                                      null === (g = this._openTelemetry) ||
                                        void 0 === g ||
                                        g.completeSpan({
                                          span: o,
                                          status: 1,
                                          message:
                                            "Requested Server to Close Producer",
                                        }),
                                        null === (v = this._openTelemetry) ||
                                          void 0 === v ||
                                          v.completeSpan({
                                            span: i,
                                            status: 1,
                                            message:
                                              "Mic Disabled Successfully",
                                          }),
                                        (e.next = 51);
                                      break;
                                    case 46:
                                      (e.prev = 46),
                                        (e.t1 = e.catch(39)),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error closing server-side mic Producer: ".concat(
                                              e.t1
                                            ),
                                          })
                                        ),
                                        null === (y = this._openTelemetry) ||
                                          void 0 === y ||
                                          y.completeSpan({
                                            span: i,
                                            status: 2,
                                            message:
                                              "Error closing server-side mic Producer closeProducer :".concat(
                                                n
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error closing server-side mic Producer closeProducer :".concat(
                                              n
                                            ),
                                          logType: "ERROR",
                                          attributes: { error: e.t1.message },
                                        });
                                    case 51:
                                      this._micProducer = null;
                                    case 52:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [22, 28],
                                [39, 46],
                              ]
                            );
                          })
                        )),
                        function () {
                          return mt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "muteMic",
                      value:
                        ((ht = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("muteMic()"),
                                        (this._micEnabled = !1),
                                        this._micProducer.pause(),
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._protoo.request("pauseProducer", {
                                          producerId: this._micProducer.id,
                                        })
                                      );
                                    case 6:
                                      _i.dispatch({
                                        type: "SET_PRODUCER_PAUSED",
                                        payload: {
                                          producerId: this._micProducer.id,
                                        },
                                      }),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(3)),
                                        Ti.error(
                                          "muteMic() | failed: %o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error pausing server-side mic Producer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error pausing server-side mic Producer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 9]]
                            );
                          })
                        )),
                        function () {
                          return ht.apply(this, arguments);
                        }),
                    },
                    {
                      key: "unmuteMic",
                      value:
                        ((ut = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("unmuteMic()"),
                                        (this._micEnabled = !0),
                                        this._micProducer.resume(),
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._protoo.request("resumeProducer", {
                                          producerId: this._micProducer.id,
                                        })
                                      );
                                    case 6:
                                      _i.dispatch({
                                        type: "SET_PRODUCER_RESUMED",
                                        payload: {
                                          producerId: this._micProducer.id,
                                        },
                                      }),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(3)),
                                        Ti.error(
                                          "unmuteMic() | failed: %o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error resuming server-side mic Producer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error resuming server-side mic Producer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 9]]
                            );
                          })
                        )),
                        function () {
                          return ut.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableWebcam",
                      value:
                        ((lt = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b,
                              S,
                              w,
                              T,
                              E,
                              R,
                              P,
                              C,
                              k,
                              O,
                              x,
                              D,
                              I,
                              L,
                              M,
                              A = this,
                              N = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r =
                                          N.length > 0 && void 0 !== N[0]
                                            ? N[0]
                                            : void 0),
                                        (n =
                                          N.length > 1 && void 0 !== N[1]
                                            ? N[1]
                                            : void 0),
                                        (e.next = 4),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "enableWebcam() Calling ".concat(
                                                  r
                                                    ? "With Custom Video Track"
                                                    : "Without Custom Video Track "
                                                ),
                                              attributes: {
                                                customVideoConfig: r
                                                  ? JSON.stringify(r)
                                                  : "Not Specify Custom Track",
                                              },
                                              span: n || null,
                                            })
                                      );
                                    case 4:
                                      if (
                                        ((a = e.sent),
                                        Ti.debug("enableWebcam()"),
                                        (this._webcamEnabled = !0),
                                        !this._webcamProducer)
                                      ) {
                                        e.next = 10;
                                        break;
                                      }
                                      return (
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: a,
                                            status: 2,
                                            message: "Webcam Producer found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 10:
                                      if (
                                        this._mediasoupDevice.canProduce(
                                          "video"
                                        )
                                      ) {
                                        e.next = 14;
                                        break;
                                      }
                                      return (
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "enableWebcam() | cannot produce video",
                                          }),
                                        Ti.error(
                                          "enableWebcam() | cannot produce video"
                                        ),
                                        e.abrupt("return")
                                      );
                                    case 14:
                                      if (
                                        (_i.dispatch(W(!0)),
                                        (p = this._webcam.resolution),
                                        (e.prev = 16),
                                        this._externalVideo)
                                      ) {
                                        e.next = 56;
                                        break;
                                      }
                                      return (
                                        (e.next = 20), this._updateWebcams(a)
                                      );
                                    case 20:
                                      if ((c = this._webcam.device)) {
                                        e.next = 25;
                                        break;
                                      }
                                      throw (
                                        (null === (g = this._openTelemetry) ||
                                          void 0 === g ||
                                          g.traceAutoComplete({
                                            spanName: "Webcam Device Not Found",
                                            status: 2,
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Webcam Device Not Found",
                                          logType: "ERROR",
                                        }),
                                        new Error("no webcam devices"))
                                      );
                                    case 25:
                                      Ti.debug(
                                        "enableWebcam() | calling getUserMedia()"
                                      );
                                      try {
                                        r &&
                                          "ended" ==
                                            (o = r.getVideoTracks()[0])
                                              .readyState &&
                                          ((o = null),
                                          null === (v = this._openTelemetry) ||
                                            void 0 === v ||
                                            v.traceAutoComplete({
                                              spanName:
                                                "Dispose Video Custom Track, it is in ended state",
                                              status: 2,
                                            }));
                                      } catch (e) {
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Invalid Custom Track Passed. Reverting to default Error",
                                          logType: "ERROR",
                                          attributes: { error: e.message },
                                        }),
                                          console.log(
                                            "Invalid Custom Track Passed. Reverting to default Error: ".concat(
                                              e
                                            )
                                          );
                                      }
                                      if (o) {
                                        e.next = 54;
                                        break;
                                      }
                                      return (
                                        (e.next = 30),
                                        null === (y = this._openTelemetry) ||
                                        void 0 === y
                                          ? void 0
                                          : y.trace({
                                              spanName: "Creating Track",
                                              span: a,
                                            })
                                      );
                                    case 30:
                                      if (
                                        ((b = e.sent),
                                        (e.prev = 31),
                                        "hd" != this._webcam.resolution)
                                      ) {
                                        e.next = 39;
                                        break;
                                      }
                                      return (
                                        (e.next = 35),
                                        Re.VideoSDK.createCameraVideoTrack({
                                          cameraId: c.deviceId,
                                          encoderConfig: "h720p_w1280p",
                                          multiStream: this._useSimulcast,
                                        })
                                      );
                                    case 35:
                                      (r = e.sent),
                                        b.setAttributes({
                                          customVideoTrackConfig:
                                            JSON.stringify({
                                              encoderConfig: "h720p_w1280p",
                                              multiStream: this._useSimulcast,
                                            }),
                                        }),
                                        (e.next = 43);
                                      break;
                                    case 39:
                                      return (
                                        (e.next = 41),
                                        Re.VideoSDK.createCameraVideoTrack({
                                          cameraId: c.deviceId,
                                          encoderConfig: "h540p_w960p",
                                          multiStream: this._useSimulcast,
                                        })
                                      );
                                    case 41:
                                      (r = e.sent),
                                        b.setAttributes({
                                          customVideoTrackConfig:
                                            JSON.stringify({
                                              encoderConfig: "h540p_w960p",
                                              multiStream: this._useSimulcast,
                                            }),
                                        });
                                    case 43:
                                      (o = r.getVideoTracks()[0]),
                                        null === (S = this._openTelemetry) ||
                                          void 0 === S ||
                                          S.completeSpan({
                                            message: "Video Track Generated",
                                            span: b,
                                            status: 1,
                                          }),
                                        (e.next = 54);
                                      break;
                                    case 47:
                                      return (
                                        (e.prev = 47),
                                        (e.t0 = e.catch(31)),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error Creating VideoTrack",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (w = this._openTelemetry) ||
                                          void 0 === w ||
                                          w.completeSpan({
                                            message:
                                              "Error Creating VideoTrack",
                                            span: a,
                                            status: 2,
                                          }),
                                        console.log(
                                          "Error Creating VideoTrack: ",
                                          e.t0
                                        ),
                                        "Permission denied" === e.t0.message ||
                                        "NotAllowedError" === e.t0.name
                                          ? this._emitError(
                                              Ee.H
                                                .ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED
                                            )
                                          : this._emitError(
                                              Ee.H.ERROR_GET_VIDEO_MEDIA
                                            ),
                                        e.abrupt("return")
                                      );
                                    case 54:
                                      e.next = 61;
                                      break;
                                    case 56:
                                      return (
                                        (c = { label: "external video" }),
                                        (e.next = 59),
                                        this._getExternalVideoStream()
                                      );
                                    case 59:
                                      (T = e.sent),
                                        (o = T.getVideoTracks()[0].clone());
                                    case 61:
                                      return (
                                        (e.next = 63),
                                        null === (l = this._openTelemetry) ||
                                        void 0 === l
                                          ? void 0
                                          : l.trace({
                                              spanName:
                                                "Generating Producer Configuration",
                                              span: a,
                                            })
                                      );
                                    case 63:
                                      if (
                                        ((E = e.sent),
                                        (C = { videoGoogleStartBitrate: 1e3 }),
                                        !this._forceH264)
                                      ) {
                                        e.next = 72;
                                        break;
                                      }
                                      if (
                                        (P =
                                          this._mediasoupDevice.rtpCapabilities.codecs.find(
                                            function (e) {
                                              return (
                                                "video/h264" ===
                                                e.mimeType.toLowerCase()
                                              );
                                            }
                                          ))
                                      ) {
                                        e.next = 70;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error desired H264 codec+configuration is not supported",
                                          logType: "ERROR",
                                        }),
                                        new Error(
                                          "desired H264 codec+configuration is not supported"
                                        ))
                                      );
                                    case 70:
                                      e.next = 77;
                                      break;
                                    case 72:
                                      if (!this._forceVP9) {
                                        e.next = 77;
                                        break;
                                      }
                                      if (
                                        (P =
                                          this._mediasoupDevice.rtpCapabilities.codecs.find(
                                            function (e) {
                                              return (
                                                "video/vp9" ===
                                                e.mimeType.toLowerCase()
                                              );
                                            }
                                          ))
                                      ) {
                                        e.next = 77;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error desired VP9 codec+configuration is not supported",
                                          logType: "ERROR",
                                        }),
                                        new Error(
                                          "desired VP9 codec+configuration is not supported"
                                        ))
                                      );
                                    case 77:
                                      o
                                        ? ((k = o.getConstraints()),
                                          (R = be(!1, k.width, k.height, {
                                            simulcast: r.multiStream,
                                          })))
                                        : this._useSimulcast &&
                                          ((O =
                                            this._mediasoupDevice.rtpCapabilities.codecs.find(
                                              function (e) {
                                                return "video" === e.kind;
                                              }
                                            )),
                                          (R =
                                            (this._forceVP9 && P) ||
                                            "video/vp9" ===
                                              O.mimeType.toLowerCase()
                                              ? bi
                                              : yi[this._webcam.resolution])),
                                        (x = {});
                                      try {
                                        x = {
                                          encodings: R,
                                          width: r
                                            ? null === (D = o) || void 0 === D
                                              ? void 0
                                              : D.getConstraints().width
                                            : vi[p].width.ideal,
                                          height: r
                                            ? null === (I = o) || void 0 === I
                                              ? void 0
                                              : I.getConstraints().height
                                            : vi[p].height.ideal,
                                        };
                                      } catch (e) {
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Enable Webcam AppData",
                                          logType: "ERROR",
                                          attributes: { error: e.message },
                                        }),
                                          console.log(e);
                                      }
                                      return (
                                        null === (u = this._openTelemetry) ||
                                          void 0 === u ||
                                          u.traceAutoComplete({
                                            spanName:
                                              "Track Generated with height "
                                                .concat(x.height, " and width ")
                                                .concat(
                                                  x.width,
                                                  " with multiStream "
                                                )
                                                .concat(this._useSimulcast),
                                            attributes: {
                                              appData: JSON.stringify(x),
                                            },
                                            status: 1,
                                          }),
                                        null === (h = this._openTelemetry) ||
                                          void 0 === h ||
                                          h.completeSpan({
                                            span: E,
                                            status: 1,
                                            message:
                                              "Producer Configuration Generated",
                                          }),
                                        (e.next = 84),
                                        null === (m = this._openTelemetry) ||
                                        void 0 === m
                                          ? void 0
                                          : m.trace({
                                              spanName:
                                                "Creating Webcam Producer",
                                              span: a,
                                            })
                                      );
                                    case 84:
                                      return (
                                        (E = e.sent),
                                        (e.next = 87),
                                        this._sendTransport.produce({
                                          track: o,
                                          encodings: R,
                                          codecOptions: C,
                                          codec: P,
                                          appData: x,
                                        })
                                      );
                                    case 87:
                                      (this._webcamProducer = e.sent),
                                        (L = U({
                                          id: this._webcamProducer.id,
                                          deviceLabel: c.label,
                                          type: this._getWebcamType(c),
                                          paused: this._webcamProducer.paused,
                                          track: this._webcamProducer.track,
                                          rtpParameters:
                                            this._webcamProducer.rtpParameters,
                                          codec:
                                            this._webcamProducer.rtpParameters.codecs[0].mimeType.split(
                                              "/"
                                            )[1],
                                          instance: this._webcamProducer,
                                        })),
                                        _i.dispatch(L),
                                        this._eventEmitter.emit(
                                          L.type,
                                          L.payload
                                        ),
                                        this._webcamProducer.on(
                                          "transportclose",
                                          function () {
                                            var e,
                                              t = Z(A._webcamProducer.id);
                                            _i.dispatch(t),
                                              A._eventEmitter.emit(
                                                t.type,
                                                t.payload
                                              ),
                                              null ===
                                                (e = A._webcamProducer) ||
                                                void 0 === e ||
                                                e.close(),
                                              (A._webcamProducer = null);
                                          }
                                        ),
                                        this._webcamProducer.on(
                                          "trackended",
                                          function () {
                                            var e;
                                            null === (e = A._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  " this._webcamProducer trackended or Webcam disconnected!",
                                                status: 2,
                                              }),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Webcam disconnected!",
                                                })
                                              ),
                                              A.disableWebcam(a).catch(
                                                function () {}
                                              );
                                          }
                                        ),
                                        null === (f = this._openTelemetry) ||
                                          void 0 === f ||
                                          f.completeSpan({
                                            span: E,
                                            status: 1,
                                            message: "Webcam Producer Created",
                                          }),
                                        null === (_ = this._openTelemetry) ||
                                          void 0 === _ ||
                                          _.completeSpan({
                                            span: a,
                                            status: 1,
                                            message: "Enable Webcam Successful",
                                          }),
                                        (e.next = 106);
                                      break;
                                    case 97:
                                      return (
                                        (e.prev = 97),
                                        (e.t1 = e.catch(16)),
                                        console.log(
                                          "enableWebcam() | failed:%o",
                                          e.t1
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error enabling webcam",
                                          logType: "ERROR",
                                          attributes: { error: e.t1.message },
                                        }),
                                        null === (M = this._openTelemetry) ||
                                          void 0 === M ||
                                          M.completeSpan({
                                            span: a,
                                            status: 2,
                                            message: "Error enabling webcam",
                                          }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error enabling webcam: ".concat(
                                              e.t1
                                            ),
                                          })
                                        ),
                                        (e.next = 105),
                                        this._protoo.request("produceError", {
                                          mediaType: "video",
                                          message: e.t1.message,
                                        })
                                      );
                                    case 105:
                                      o && o.stop();
                                    case 106:
                                      _i.dispatch(W(!1));
                                    case 107:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [16, 97],
                                [31, 47],
                              ]
                            );
                          })
                        )),
                        function () {
                          return lt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disableWebcam",
                      value:
                        ((pt = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (a =
                                          u.length > 0 && void 0 !== u[0]
                                            ? u[0]
                                            : void 0),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "disableWebcam() Calling",
                                              status: 1,
                                              span: a || null,
                                            })
                                      );
                                    case 3:
                                      if (
                                        ((i = e.sent),
                                        Ti.debug("disableWebcam()"),
                                        (this._webcamEnabled = !1),
                                        this._webcamProducer)
                                      ) {
                                        e.next = 9;
                                        break;
                                      }
                                      return (
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: i,
                                            status: 2,
                                            message:
                                              "Webcam Producer Not found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 9:
                                      return (
                                        (e.next = 11),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName:
                                                "Closing Webcam Producer",
                                              span: i,
                                              status: 1,
                                            })
                                      );
                                    case 11:
                                      return (
                                        (o = e.sent),
                                        this._webcamProducer.close(),
                                        (c = Z(this._webcamProducer.id)),
                                        _i.dispatch(c),
                                        this._eventEmitter.emit(
                                          c.type,
                                          c.payload
                                        ),
                                        (e.prev = 16),
                                        (e.next = 19),
                                        this._protoo.request("closeProducer", {
                                          producerId: this._webcamProducer.id,
                                        })
                                      );
                                    case 19:
                                      null === (p = this._openTelemetry) ||
                                        void 0 === p ||
                                        p.completeSpan({
                                          span: o,
                                          status: 1,
                                          message:
                                            "Requested Server to Close Producer",
                                        }),
                                        (e.next = 27);
                                      break;
                                    case 22:
                                      (e.prev = 22),
                                        (e.t0 = e.catch(16)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error closing server-side webcam Producer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (l = this._openTelemetry) ||
                                          void 0 === l ||
                                          l.completeSpan({
                                            span: i,
                                            status: 2,
                                            message:
                                              "Error closing server-side webcam Producer: ".concat(
                                                e.t0
                                              ),
                                          }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error closing server-side webcam Producer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 27:
                                      (this._webcamProducer = null),
                                        null === (n = this._openTelemetry) ||
                                          void 0 === n ||
                                          n.completeSpan({
                                            span: i,
                                            status: 1,
                                            message:
                                              "Webcam Disabled Successfully",
                                          });
                                    case 29:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[16, 22]]
                            );
                          })
                        )),
                        function () {
                          return pt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getMics",
                      value:
                        ((dt = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (t = []),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._updateMics()
                                      );
                                    case 4:
                                      this._mics.forEach(function (e, r) {
                                        t.push({ deviceId: r, label: e.label });
                                      }),
                                        (e.next = 11);
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(1)),
                                        Ti.error("getMics() | Error", e.t0),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error getMics() | Error",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 11:
                                      return e.abrupt("return", t);
                                    case 12:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 7]]
                            );
                          })
                        )),
                        function () {
                          return dt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "changeMic",
                      value:
                        ((ct = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, a, i, s, o, c, p, l, u, h, m, f;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName: "changeMic() Calling",
                                            })
                                      );
                                    case 2:
                                      if (
                                        ((a = e.sent),
                                        (e.prev = 3),
                                        "object" != n(t))
                                      ) {
                                        e.next = 12;
                                        break;
                                      }
                                      return (
                                        a.setAttributes({
                                          customTrackConfig: JSON.stringify(t),
                                        }),
                                        (e.next = 8),
                                        this.disableMic(!0, a)
                                      );
                                    case 8:
                                      return (
                                        (e.next = 10), this.enableMic(t, a)
                                      );
                                    case 10:
                                      e.next = 32;
                                      break;
                                    case 12:
                                      return (
                                        (c = t),
                                        (e.next = 15),
                                        this._updateMics()
                                      );
                                    case 15:
                                      return (
                                        (p = Array.from(this._mics.keys())),
                                        (l = p.length),
                                        (u = this._mic.device
                                          ? this._mic.device.deviceId
                                          : void 0),
                                        null != c && null != c
                                          ? (h = p.indexOf(c))
                                          : (h = p.indexOf(u)) < l - 1
                                          ? h++
                                          : (h = 0),
                                        (this._mic.device = this._mics.get(
                                          p[h]
                                        )),
                                        (e.next = 22),
                                        null === (i = this._openTelemetry) ||
                                        void 0 === i
                                          ? void 0
                                          : i.trace({
                                              spanName: "Getting Selected Mic",
                                              span: a,
                                              attributes: {
                                                selectedWebcam: this._mic.device
                                                  ? JSON.stringify(
                                                      this._mic.device
                                                    )
                                                  : "No Mic devices",
                                              },
                                            })
                                      );
                                    case 22:
                                      if (((m = e.sent), this._mic.device)) {
                                        e.next = 26;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error changeMic : No mic Found",
                                          logType: "ERROR",
                                        }),
                                        new Error("No mic Found"))
                                      );
                                    case 26:
                                      return (
                                        (e.next = 28), this.disableMic(!0, a)
                                      );
                                    case 28:
                                      return (
                                        (e.next = 30), this.enableMic(void 0, a)
                                      );
                                    case 30:
                                      null === (s = this._openTelemetry) ||
                                        void 0 === s ||
                                        s.completeSpan({
                                          span: m,
                                          status: 1,
                                          message: "Done",
                                        }),
                                        null === (o = this._openTelemetry) ||
                                          void 0 === o ||
                                          o.completeSpan({
                                            span: a,
                                            status: 1,
                                            message: "changeMic() Ending",
                                          });
                                    case 32:
                                      e.next = 38;
                                      break;
                                    case 34:
                                      (e.prev = 34),
                                        (e.t0 = e.catch(3)),
                                        null === (f = this._openTelemetry) ||
                                          void 0 === f ||
                                          f.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "changeMic() | Error ".concat(
                                                e.t0
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error changeMic() | Error",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 38:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 34]]
                            );
                          })
                        )),
                        function (e) {
                          return ct.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getWebcams",
                      value:
                        ((ot = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (t = []),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._updateWebcams()
                                      );
                                    case 4:
                                      this._webcams.forEach(function (e, r) {
                                        t.push({
                                          deviceId: r,
                                          label: e.label,
                                          facingMode: e.facing || "environment",
                                        });
                                      }),
                                        (e.next = 11);
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "getWebcams() | failed %o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error getWebcams() | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 11:
                                      return e.abrupt("return", t);
                                    case 12:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 7]]
                            );
                          })
                        )),
                        function () {
                          return ot.apply(this, arguments);
                        }),
                    },
                    {
                      key: "replaceWebcamStream",
                      value:
                        ((st = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (!this._webcamProducer) {
                                        e.next = 7;
                                        break;
                                      }
                                      return (
                                        (r = t.getVideoTracks()[0]),
                                        (e.next = 4),
                                        this._webcamProducer.replaceTrack({
                                          track: r,
                                        })
                                      );
                                    case 4:
                                      this._eventEmitter.emit(
                                        "UPDATE_PRODUCER",
                                        { producer: this._webcamProducer }
                                      ),
                                        (e.next = 11);
                                      break;
                                    case 7:
                                      return (e.next = 9), this.disableWebcam();
                                    case 9:
                                      return (
                                        (e.next = 11), this.enableWebcam(t)
                                      );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return st.apply(this, arguments);
                        }),
                    },
                    {
                      key: "changeWebcam",
                      value:
                        ((it = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, a, i, s, o, c, p, l, u, h, m;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName:
                                                "changeWebcam() Calling",
                                            })
                                      );
                                    case 2:
                                      if (
                                        ((a = e.sent),
                                        _i.dispatch(W(!0)),
                                        "object" !== n(t))
                                      ) {
                                        e.next = 20;
                                        break;
                                      }
                                      return (
                                        a.setAttributes({
                                          customTrackConfig: JSON.stringify(t),
                                        }),
                                        (e.prev = 6),
                                        (e.next = 9),
                                        this.disableWebcam(a)
                                      );
                                    case 9:
                                      return (
                                        (e.next = 11), this.enableWebcam(t, a)
                                      );
                                    case 11:
                                      e.next = 18;
                                      break;
                                    case 13:
                                      (e.prev = 13),
                                        (e.t0 = e.catch(6)),
                                        Ti.error(
                                          "changeWebcam() | failed: %o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Could not change webcam",
                                          logType: "ERROR",
                                          attributes: {
                                            object: JSON.stringify(t),
                                            error: e.t0.message,
                                          },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Could not change webcam: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 18:
                                      e.next = 51;
                                      break;
                                    case 20:
                                      return (
                                        (e.prev = 20),
                                        (e.next = 23),
                                        this._updateWebcams(a)
                                      );
                                    case 23:
                                      return (
                                        (c = Array.from(this._webcams.keys())),
                                        (p = c.length),
                                        (l = this._webcam.device
                                          ? this._webcam.device.deviceId
                                          : void 0),
                                        null != t && null != t
                                          ? (u = c.indexOf(t))
                                          : (u = c.indexOf(l)) < p - 1
                                          ? u++
                                          : (u = 0),
                                        (this._webcam.device =
                                          this._webcams.get(c[u])),
                                        Ti.debug(
                                          "changeWebcam() | new selected webcam [device:%o]",
                                          this._webcam.device
                                        ),
                                        (this._webcam.resolution =
                                          this._webcam.resolution || "hd"),
                                        (e.next = 32),
                                        null === (i = this._openTelemetry) ||
                                        void 0 === i
                                          ? void 0
                                          : i.trace({
                                              spanName:
                                                "Getting Selected Webcam",
                                              span: a,
                                              attributes: {
                                                selectedWebcam: this._webcam
                                                  .device
                                                  ? JSON.stringify(
                                                      this._webcam.device
                                                    )
                                                  : "No webcam devices",
                                              },
                                            })
                                      );
                                    case 32:
                                      if (((h = e.sent), this._webcam.device)) {
                                        e.next = 36;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error changeWebcam : No webcam Found",
                                          logType: "ERROR",
                                        }),
                                        new Error("no webcam devices"))
                                      );
                                    case 36:
                                      return (
                                        (e.next = 38), this.disableWebcam(a)
                                      );
                                    case 38:
                                      return (
                                        (e.next = 40),
                                        this.enableWebcam(void 0, a)
                                      );
                                    case 40:
                                      return (
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: h,
                                            status: 1,
                                            message: "Done",
                                          }),
                                        null === (o = this._openTelemetry) ||
                                          void 0 === o ||
                                          o.completeSpan({
                                            span: a,
                                            status: 1,
                                            message: "changeWebcam() Ending",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 45:
                                      (e.prev = 45),
                                        (e.t1 = e.catch(20)),
                                        Ti.error(
                                          "changeWebcam() | failed: %o",
                                          e.t1
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Could not change webcam",
                                          logType: "ERROR",
                                          attributes: {
                                            object: JSON.stringify(t),
                                            error: e.t1.message,
                                          },
                                        }),
                                        null === (m = this._openTelemetry) ||
                                          void 0 === m ||
                                          m.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "Could not change webcam ".concat(
                                                e.t1
                                              ),
                                          }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Could not change webcam: ".concat(
                                              e.t1
                                            ),
                                          })
                                        );
                                    case 51:
                                      _i.dispatch(W(!1));
                                    case 52:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [6, 13],
                                [20, 45],
                              ]
                            );
                          })
                        )),
                        function (e) {
                          return it.apply(this, arguments);
                        }),
                    },
                    {
                      key: "changeWebcamResolution",
                      value:
                        ((at = (0, a.Z)(
                          d().mark(function e() {
                            var t, r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      Ti.debug("changeWebcamResolution()"),
                                        _i.dispatch(W(!0)),
                                        (e.prev = 2),
                                        (e.t0 = this._webcam.resolution),
                                        (e.next =
                                          "qvga" === e.t0
                                            ? 6
                                            : "vga" === e.t0
                                            ? 8
                                            : "hd" === e.t0
                                            ? 10
                                            : 12);
                                      break;
                                    case 6:
                                      return (
                                        (this._webcam.resolution = "vga"),
                                        e.abrupt("break", 13)
                                      );
                                    case 8:
                                      return (
                                        (this._webcam.resolution = "hd"),
                                        e.abrupt("break", 13)
                                      );
                                    case 10:
                                      return (
                                        (this._webcam.resolution = "qvga"),
                                        e.abrupt("break", 13)
                                      );
                                    case 12:
                                      this._webcam.resolution = "hd";
                                    case 13:
                                      return (
                                        Ti.debug(
                                          "changeWebcamResolution() | calling getUserMedia()"
                                        ),
                                        (e.prev = 14),
                                        (e.next = 17),
                                        navigator.mediaDevices.getUserMedia({
                                          video: fi(
                                            {
                                              deviceId: {
                                                exact:
                                                  this._webcam.device.deviceId,
                                              },
                                            },
                                            vi[this._webcam.resolution]
                                          ),
                                        })
                                      );
                                    case 17:
                                      (t = e.sent), (e.next = 25);
                                      break;
                                    case 20:
                                      return (
                                        (e.prev = 20),
                                        (e.t1 = e.catch(14)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error in getUserMedia for changeWebcamResolution",
                                          logType: "ERROR",
                                          attributes: {
                                            error: JSON.stringify(e.t1),
                                          },
                                        }),
                                        "Permission denied" === e.t1.message ||
                                        "NotAllowedError" === e.t1.name
                                          ? this._emitError(
                                              Ee.H
                                                .ERROR_GET_VIDEO_MEDIA_PERMISSION_DENIED
                                            )
                                          : this._emitError(
                                              Ee.H.ERROR_GET_VIDEO_MEDIA
                                            ),
                                        e.abrupt("return")
                                      );
                                    case 25:
                                      return (
                                        (r = t.getVideoTracks()[0]),
                                        (e.next = 28),
                                        this._webcamProducer.replaceTrack({
                                          track: r,
                                        })
                                      );
                                    case 28:
                                      _i.dispatch(
                                        H(this._webcamProducer.id, r)
                                      ),
                                        (e.next = 36);
                                      break;
                                    case 31:
                                      (e.prev = 31),
                                        (e.t2 = e.catch(2)),
                                        Ti.error(
                                          "changeWebcamResolution() | failed: %o",
                                          e.t2
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Could not change webcam resolution",
                                          logType: "ERROR",
                                          attributes: { error: e.t2.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Could not change webcam resolution: ".concat(
                                              e.t2
                                            ),
                                          })
                                        );
                                    case 36:
                                      _i.dispatch(W(!1));
                                    case 37:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [2, 31],
                                [14, 20],
                              ]
                            );
                          })
                        )),
                        function () {
                          return at.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableShare",
                      value:
                        ((nt = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b,
                              S,
                              w,
                              T,
                              E,
                              R,
                              P,
                              C,
                              k,
                              O,
                              x,
                              D = this,
                              I = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r =
                                          I.length > 0 && void 0 !== I[0]
                                            ? I[0]
                                            : void 0),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "enableShare() Calling ".concat(
                                                  r
                                                    ? "With Custom Video Track"
                                                    : "Without Custom Video Track "
                                                ),
                                              attributes: {
                                                customShareConfig: r
                                                  ? JSON.stringify(r)
                                                  : "Not Specify Custom Track",
                                              },
                                            })
                                      );
                                    case 3:
                                      if (
                                        ((n = e.sent),
                                        Ti.debug("enableShare()"),
                                        !this._shareProducer)
                                      ) {
                                        e.next = 8;
                                        break;
                                      }
                                      return (
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.completeSpan({
                                            span: n,
                                            status: 2,
                                            message:
                                              "Screen Share Producer found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 8:
                                      if (
                                        this._mediasoupDevice.canProduce(
                                          "video"
                                        )
                                      ) {
                                        e.next = 12;
                                        break;
                                      }
                                      return (
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: n,
                                            status: 2,
                                            message:
                                              "enableShare() | cannot produce video",
                                          }),
                                        Ti.error(
                                          "enableShare() | cannot produce video"
                                        ),
                                        e.abrupt("return")
                                      );
                                    case 12:
                                      return (
                                        _i.dispatch(G(!0)),
                                        (e.prev = 13),
                                        Ti.debug(
                                          "enableShare() | calling getUserMedia()"
                                        ),
                                        (e.next = 17),
                                        null === (c = this._openTelemetry) ||
                                        void 0 === c
                                          ? void 0
                                          : c.trace({
                                              spanName: "Creating Track",
                                              span: n,
                                            })
                                      );
                                    case 17:
                                      if (((f = e.sent), !r || !r.active)) {
                                        e.next = 23;
                                        break;
                                      }
                                      (s = r.getVideoTracks()[0]),
                                        (o = r.getAudioTracks()[0]),
                                        (e.next = 42);
                                      break;
                                    case 23:
                                      return (
                                        (e.prev = 23),
                                        (e.next = 26),
                                        navigator.mediaDevices.getDisplayMedia({
                                          audio: !0,
                                          video: {
                                            width: { max: 1920 },
                                            height: { max: 1080 },
                                            frameRate: { max: 10 },
                                          },
                                        })
                                      );
                                    case 26:
                                      (g = e.sent), (e.next = 35);
                                      break;
                                    case 29:
                                      return (
                                        (e.prev = 29),
                                        (e.t0 = e.catch(23)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error in getDisplayMedia for screen share",
                                          logType: "ERROR",
                                          attributes: {
                                            error: JSON.stringify(e.t0),
                                          },
                                        }),
                                        null === (v = this._openTelemetry) ||
                                          void 0 === v ||
                                          v.completeSpan({
                                            span: n,
                                            status: 2,
                                            message:
                                              "Error in getDisplayMedia for screen share ".concat(
                                                e.t0
                                              ),
                                          }),
                                        "Permission denied" === e.t0.message ||
                                        "NotAllowedError" === e.t0.name
                                          ? this._emitError(
                                              Ee.H
                                                .ERROR_GET_DISPLAY_MEDIA_PERMISSION_DENIED
                                            )
                                          : this._emitError(
                                              Ee.H.ERROR_GET_DISPLAY_MEDIA
                                            ),
                                        e.abrupt("return")
                                      );
                                    case 35:
                                      if (g) {
                                        e.next = 39;
                                        break;
                                      }
                                      return (
                                        _i.dispatch(G(!0)),
                                        null === (y = this._openTelemetry) ||
                                          void 0 === y ||
                                          y.completeSpan({
                                            span: n,
                                            status: 2,
                                            message: "Stream not found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 39:
                                      (s = g.getVideoTracks()[0]),
                                        (o = g.getAudioTracks()[0]),
                                        null === (_ = this._openTelemetry) ||
                                          void 0 === _ ||
                                          _.completeSpan({
                                            message:
                                              "Track Generated with height "
                                                .concat(
                                                  s.getSettings().height,
                                                  " and width "
                                                )
                                                .concat(s.getSettings().width),
                                            span: f,
                                            status: 1,
                                          });
                                    case 42:
                                      return (
                                        (e.next = 44),
                                        null === (p = this._openTelemetry) ||
                                        void 0 === p
                                          ? void 0
                                          : p.trace({
                                              spanName:
                                                "Generating Producer Configuration",
                                              span: n,
                                            })
                                      );
                                    case 44:
                                      if (
                                        ((b = e.sent),
                                        (T = { videoGoogleStartBitrate: 1e3 }),
                                        !this._forceH264)
                                      ) {
                                        e.next = 53;
                                        break;
                                      }
                                      if (
                                        (w =
                                          this._mediasoupDevice.rtpCapabilities.codecs.find(
                                            function (e) {
                                              return (
                                                "video/h264" ===
                                                e.mimeType.toLowerCase()
                                              );
                                            }
                                          ))
                                      ) {
                                        e.next = 51;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error EnableShare : desired H264 codec+configuration is not supported",
                                          logType: "ERROR",
                                        }),
                                        new Error(
                                          "desired H264 codec+configuration is not supported"
                                        ))
                                      );
                                    case 51:
                                      e.next = 58;
                                      break;
                                    case 53:
                                      if (!this._forceVP9) {
                                        e.next = 58;
                                        break;
                                      }
                                      if (
                                        (w =
                                          this._mediasoupDevice.rtpCapabilities.codecs.find(
                                            function (e) {
                                              return (
                                                "video/vp9" ===
                                                e.mimeType.toLowerCase()
                                              );
                                            }
                                          ))
                                      ) {
                                        e.next = 58;
                                        break;
                                      }
                                      throw (
                                        (this._openTelemetry.pushLogs({
                                          logText:
                                            "Error EnableShare :desired VP9 codec+configuration is not supported",
                                          logType: "ERROR",
                                        }),
                                        new Error(
                                          "desired VP9 codec+configuration is not supported"
                                        ))
                                      );
                                    case 58:
                                      return (
                                        this._useSharingSimulcast &&
                                          ((E =
                                            this._mediasoupDevice.rtpCapabilities.codecs.find(
                                              function (e) {
                                                return "video" === e.kind;
                                              }
                                            )),
                                          (S =
                                            (this._forceVP9 && w) ||
                                            "video/vp9" ===
                                              E.mimeType.toLowerCase()
                                              ? wi
                                              : Si.map(function (e) {
                                                  return fi(
                                                    fi({}, e),
                                                    {},
                                                    { dtx: !0 }
                                                  );
                                                }))),
                                        null === (l = this._openTelemetry) ||
                                          void 0 === l ||
                                          l.completeSpan({
                                            span: b,
                                            status: 1,
                                            message:
                                              "Producer Configuration Generated",
                                          }),
                                        (e.next = 62),
                                        null === (u = this._openTelemetry) ||
                                        void 0 === u
                                          ? void 0
                                          : u.trace({
                                              spanName:
                                                "Creating Share Producer",
                                              span: n,
                                            })
                                      );
                                    case 62:
                                      return (
                                        (b = e.sent),
                                        (e.next = 65),
                                        this._sendTransport.produce({
                                          track: s,
                                          encodings: S,
                                          codecOptions: T,
                                          codec: w,
                                          appData: { share: !0 },
                                        })
                                      );
                                    case 65:
                                      if (
                                        ((this._shareProducer = e.sent),
                                        (R = U({
                                          id: this._shareProducer.id,
                                          type: "share",
                                          paused: this._shareProducer.paused,
                                          track: this._shareProducer.track,
                                          rtpParameters:
                                            this._shareProducer.rtpParameters,
                                          codec:
                                            this._shareProducer.rtpParameters.codecs[0].mimeType.split(
                                              "/"
                                            )[1],
                                          appData: { share: !0 },
                                          instance: this._shareProducer,
                                        })),
                                        _i.dispatch(R),
                                        this._eventEmitter.emit(
                                          R.type,
                                          R.payload
                                        ),
                                        this._shareProducer.on(
                                          "transportclose",
                                          function () {
                                            var e,
                                              t = Z(D._shareProducer.id);
                                            _i.dispatch(t),
                                              D._eventEmitter.emit(
                                                t.type,
                                                t.payload
                                              ),
                                              null === (e = D._shareProducer) ||
                                                void 0 === e ||
                                                e.close(),
                                              (D._shareProducer = null);
                                          }
                                        ),
                                        this._shareProducer.on(
                                          "trackended",
                                          function () {
                                            var e;
                                            null === (e = D._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  " this._shareProducer trackended or Share disconnected!",
                                                status: 2,
                                              }),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Share disconnected!",
                                                })
                                              ),
                                              D.disableShare().catch(
                                                function () {}
                                              );
                                          }
                                        ),
                                        null === (h = this._openTelemetry) ||
                                          void 0 === h ||
                                          h.completeSpan({
                                            span: b,
                                            status: 1,
                                            message: "Share Producer Created",
                                          }),
                                        !o)
                                      ) {
                                        e.next = 94;
                                        break;
                                      }
                                      return (
                                        (e.prev = 73),
                                        (k = { opusStereo: 1, opusDtx: 1 }),
                                        (e.next = 77),
                                        null === (P = this._openTelemetry) ||
                                        void 0 === P
                                          ? void 0
                                          : P.trace({
                                              spanName:
                                                "Creating Share Audio Producer",
                                              span: n,
                                            })
                                      );
                                    case 77:
                                      return (
                                        (b = e.sent),
                                        (e.next = 80),
                                        this._sendTransport.produce({
                                          track: o,
                                          codecOptions: k,
                                          appData: { share: !0 },
                                        })
                                      );
                                    case 80:
                                      (this._shareAudioProducer = e.sent),
                                        (O = U({
                                          id: this._shareAudioProducer.id,
                                          type: "share",
                                          paused:
                                            this._shareAudioProducer.paused,
                                          track: this._shareAudioProducer.track,
                                          rtpParameters:
                                            this._shareAudioProducer
                                              .rtpParameters,
                                          codec:
                                            this._shareAudioProducer.rtpParameters.codecs[0].mimeType.split(
                                              "/"
                                            )[1],
                                          appData: { share: !0 },
                                          instance: this._shareAudioProducer,
                                        })),
                                        _i.dispatch(O),
                                        this._eventEmitter.emit(
                                          O.type,
                                          O.payload
                                        ),
                                        this._shareAudioProducer.on(
                                          "transportclose",
                                          function () {
                                            var e,
                                              t = Z(D._shareAudioProducer.id);
                                            _i.dispatch(t),
                                              D._eventEmitter.emit(
                                                t.type,
                                                t.payload
                                              ),
                                              null ===
                                                (e = D._shareAudioProducer) ||
                                                void 0 === e ||
                                                e.close(),
                                              (D._shareAudioProducer = null);
                                          }
                                        ),
                                        this._shareAudioProducer.on(
                                          "trackended",
                                          function () {
                                            var e;
                                            null === (e = D._openTelemetry) ||
                                              void 0 === e ||
                                              e.traceAutoComplete({
                                                spanName:
                                                  " this._shareAudioProducer trackended",
                                                status: 2,
                                              }),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Share disconnected!",
                                                })
                                              );
                                          }
                                        ),
                                        null === (C = this._openTelemetry) ||
                                          void 0 === C ||
                                          C.completeSpan({
                                            span: b,
                                            status: 1,
                                            message:
                                              "Share Audio Producer Created",
                                          }),
                                        (e.next = 94);
                                      break;
                                    case 89:
                                      return (
                                        (e.prev = 89),
                                        (e.t1 = e.catch(73)),
                                        (e.next = 93),
                                        this._protoo.request("produceError", {
                                          mediaType: "shareAudio",
                                          message: e.t1.message,
                                        })
                                      );
                                    case 93:
                                      this._openTelemetry.pushLogs({
                                        logText:
                                          "Error in shareAudio produceError",
                                        logType: "ERROR",
                                        attributes: { error: e.t1.message },
                                      });
                                    case 94:
                                      null === (m = this._openTelemetry) ||
                                        void 0 === m ||
                                        m.completeSpan({
                                          span: n,
                                          status: 1,
                                          message: "Enable Share Successful",
                                        }),
                                        (e.next = 109);
                                      break;
                                    case 97:
                                      return (
                                        (e.prev = 97),
                                        (e.t2 = e.catch(13)),
                                        Ti.error(
                                          "enableShare() | failed:%o",
                                          e.t2
                                        ),
                                        null === (x = this._openTelemetry) ||
                                          void 0 === x ||
                                          x.completeSpan({
                                            span: n,
                                            status: 2,
                                            message:
                                              "Error in enableShare video produceError",
                                          }),
                                        n.setAttributes({
                                          error: e.t2.message,
                                        }),
                                        console.log(
                                          "screen share catch",
                                          e.t2.message
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error in enableShare video produceError",
                                          logType: "ERROR",
                                          attributes: { error: e.t2.message },
                                        }),
                                        "NotAllowedError" !== e.t2.name &&
                                          _i.dispatch(
                                            se({
                                              type: "error",
                                              text: "Error sharing: ".concat(
                                                e.t2
                                              ),
                                            })
                                          ),
                                        (e.next = 107),
                                        this._protoo.request("produceError", {
                                          mediaType: "share",
                                          message: e.t2.message,
                                        })
                                      );
                                    case 107:
                                      s && s.stop(), o && o.stop();
                                    case 109:
                                      _i.dispatch(G(!1));
                                    case 110:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [
                                [13, 97],
                                [23, 29],
                                [73, 89],
                              ]
                            );
                          })
                        )),
                        function () {
                          return nt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disableShare",
                      value:
                        ((rt = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n, a, i, s, o, c, p, l, u, h;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("disableShare()"),
                                        (e.next = 3),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "disableShare() Calling",
                                              status: 1,
                                            })
                                      );
                                    case 3:
                                      if (((a = e.sent), this._shareProducer)) {
                                        e.next = 7;
                                        break;
                                      }
                                      return (
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: a,
                                            status: 2,
                                            message: "Share Producer Not found",
                                          }),
                                        e.abrupt("return")
                                      );
                                    case 7:
                                      return (
                                        (e.next = 9),
                                        null === (r = this._openTelemetry) ||
                                        void 0 === r
                                          ? void 0
                                          : r.trace({
                                              spanName:
                                                "Closing Share Producer",
                                              span: a,
                                              status: 1,
                                            })
                                      );
                                    case 9:
                                      if (
                                        ((s = e.sent),
                                        this._shareProducer.close(),
                                        (o = Z(this._shareProducer.id)),
                                        _i.dispatch(o),
                                        this._eventEmitter.emit(
                                          o.type,
                                          o.payload
                                        ),
                                        !this._shareAudioProducer)
                                      ) {
                                        e.next = 23;
                                        break;
                                      }
                                      return (
                                        (e.next = 17),
                                        null === (c = this._openTelemetry) ||
                                        void 0 === c
                                          ? void 0
                                          : c.trace({
                                              spanName:
                                                "Closing Share Audio Producer",
                                              span: a,
                                              status: 1,
                                            })
                                      );
                                    case 17:
                                      (l = e.sent),
                                        this._shareAudioProducer.close(),
                                        (o = Z(this._shareAudioProducer.id)),
                                        _i.dispatch(o),
                                        this._eventEmitter.emit(
                                          o.type,
                                          o.payload
                                        ),
                                        null === (p = this._openTelemetry) ||
                                          void 0 === p ||
                                          p.completeSpan({
                                            span: l,
                                            status: 1,
                                            message:
                                              "Closed Share Audio Producer",
                                          });
                                    case 23:
                                      return (
                                        (e.prev = 23),
                                        (e.next = 26),
                                        this._protoo.request("closeProducer", {
                                          producerId: this._shareProducer.id,
                                        })
                                      );
                                    case 26:
                                      if (!this._shareAudioProducer) {
                                        e.next = 29;
                                        break;
                                      }
                                      return (
                                        (e.next = 29),
                                        this._protoo.request("closeProducer", {
                                          producerId:
                                            this._shareAudioProducer.id,
                                        })
                                      );
                                    case 29:
                                      null === (u = this._openTelemetry) ||
                                        void 0 === u ||
                                        u.completeSpan({
                                          span: s,
                                          status: 1,
                                          message:
                                            "Requested Server to Close Producer",
                                        }),
                                        (e.next = 37);
                                      break;
                                    case 32:
                                      (e.prev = 32),
                                        (e.t0 = e.catch(23)),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error closing server-side share Producer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        null === (h = this._openTelemetry) ||
                                          void 0 === h ||
                                          h.completeSpan({
                                            span: a,
                                            status: 2,
                                            message:
                                              "Error closing server-side share Producer ".concat(
                                                e.t0
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error closing server-side share Producer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 37:
                                      (this._shareProducer = null),
                                        (this._shareAudioProducer = null),
                                        null === (n = this._openTelemetry) ||
                                          void 0 === n ||
                                          n.completeSpan({
                                            span: a,
                                            status: 1,
                                            message:
                                              "Screen Share Disabled Successfully",
                                          });
                                    case 40:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[23, 32]]
                            );
                          })
                        )),
                        function () {
                          return rt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableAudioOnly",
                      value:
                        ((tt = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      Ti.debug("enableAudioOnly()"),
                                        _i.dispatch(j(!0)),
                                        this.disableWebcam(),
                                        (t = ui(this._consumers.values())),
                                        (e.prev = 4),
                                        t.s();
                                    case 6:
                                      if ((r = t.n()).done) {
                                        e.next = 13;
                                        break;
                                      }
                                      if ("video" === (n = r.value).kind) {
                                        e.next = 10;
                                        break;
                                      }
                                      return e.abrupt("continue", 11);
                                    case 10:
                                      this._pauseConsumer(n);
                                    case 11:
                                      e.next = 6;
                                      break;
                                    case 13:
                                      e.next = 18;
                                      break;
                                    case 15:
                                      (e.prev = 15),
                                        (e.t0 = e.catch(4)),
                                        t.e(e.t0);
                                    case 18:
                                      return (e.prev = 18), t.f(), e.finish(18);
                                    case 21:
                                      _i.dispatch(N(!0)), _i.dispatch(j(!1));
                                    case 23:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 15, 18, 21]]
                            );
                          })
                        )),
                        function () {
                          return tt.apply(this, arguments);
                        }),
                    },
                    {
                      key: "disableAudioOnly",
                      value:
                        ((et = (0, a.Z)(
                          d().mark(function e() {
                            var t, r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      Ti.debug("disableAudioOnly()"),
                                        _i.dispatch(j(!0)),
                                        !this._webcamProducer &&
                                          this._produce &&
                                          (C() || {}).webcamEnabled &&
                                          this.enableWebcam(),
                                        (t = ui(this._consumers.values())),
                                        (e.prev = 4),
                                        t.s();
                                    case 6:
                                      if ((r = t.n()).done) {
                                        e.next = 13;
                                        break;
                                      }
                                      if ("video" === (n = r.value).kind) {
                                        e.next = 10;
                                        break;
                                      }
                                      return e.abrupt("continue", 11);
                                    case 10:
                                      this._resumeConsumer(n);
                                    case 11:
                                      e.next = 6;
                                      break;
                                    case 13:
                                      e.next = 18;
                                      break;
                                    case 15:
                                      (e.prev = 15),
                                        (e.t0 = e.catch(4)),
                                        t.e(e.t0);
                                    case 18:
                                      return (e.prev = 18), t.f(), e.finish(18);
                                    case 21:
                                      _i.dispatch(N(!1)), _i.dispatch(j(!1));
                                    case 23:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[4, 15, 18, 21]]
                            );
                          })
                        )),
                        function () {
                          return et.apply(this, arguments);
                        }),
                    },
                    {
                      key: "muteAudio",
                      value:
                        ((Ye = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    Ti.debug("muteAudio()"), _i.dispatch(F(!0));
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            }, e);
                          })
                        )),
                        function () {
                          return Ye.apply(this, arguments);
                        }),
                    },
                    {
                      key: "unmuteAudio",
                      value:
                        ((Qe = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    Ti.debug("unmuteAudio()"),
                                      _i.dispatch(F(!1));
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            }, e);
                          })
                        )),
                        function () {
                          return Qe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "handleRemoteRestartIce",
                      value:
                        ((Je = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i, s, o, c;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (a = t.iceParameters),
                                        (i = t.transportId),
                                        (s = t.internalSpan),
                                        i ===
                                          (null === (r = this._sendTransport) ||
                                          void 0 === r
                                            ? void 0
                                            : r.id) &&
                                          this._sendTransport.restartIce({
                                            iceParameters: a,
                                          }),
                                        i ===
                                          (null === (n = this._recvTransport) ||
                                          void 0 === n
                                            ? void 0
                                            : n.id) &&
                                          this._recvTransport.restartIce({
                                            iceParameters: a,
                                          }),
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._protoo.request("iceRestarted", {
                                          transportId: i,
                                        })
                                      );
                                    case 6:
                                      null === (o = this._openTelemetry) ||
                                        void 0 === o ||
                                        o.completeSpan({
                                          span: s,
                                          status: 1,
                                          message: "iceRestarted",
                                        }),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(3)),
                                        null === (c = this._openTelemetry) ||
                                          void 0 === c ||
                                          c.completeSpan({
                                            span: s,
                                            status: 2,
                                            message:
                                              "handleRemoteRestartIce() ICE restart failed ".concat(
                                                e.t0
                                              ),
                                          }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error handleRemoteRestartIce() ICE restart failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "ICE restart failed: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 9]]
                            );
                          })
                        )),
                        function (e) {
                          return Je.apply(this, arguments);
                        }),
                    },
                    {
                      key: "restartIce",
                      value:
                        ((Xe = (0, a.Z)(
                          d().mark(function e() {
                            var t, r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("restartIce()"),
                                        _i.dispatch(B(!0)),
                                        (e.prev = 2),
                                        !this._sendTransport)
                                      ) {
                                        e.next = 9;
                                        break;
                                      }
                                      return (
                                        (e.next = 6),
                                        this._protoo.request("restartIce", {
                                          transportId: this._sendTransport.id,
                                        })
                                      );
                                    case 6:
                                      return (
                                        (t = e.sent),
                                        (e.next = 9),
                                        this._sendTransport.restartIce({
                                          iceParameters: t,
                                        })
                                      );
                                    case 9:
                                      if (!this._recvTransport) {
                                        e.next = 15;
                                        break;
                                      }
                                      return (
                                        (e.next = 12),
                                        this._protoo.request("restartIce", {
                                          transportId: this._recvTransport.id,
                                        })
                                      );
                                    case 12:
                                      return (
                                        (r = e.sent),
                                        (e.next = 15),
                                        this._recvTransport.restartIce({
                                          iceParameters: r,
                                        })
                                      );
                                    case 15:
                                      _i.dispatch(
                                        se({ text: "ICE restarted" })
                                      ),
                                        (e.next = 23);
                                      break;
                                    case 18:
                                      (e.prev = 18),
                                        (e.t0 = e.catch(2)),
                                        Ti.error(
                                          "restartIce() | failed:%o",
                                          e.t0
                                        ),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "ICE restart failed: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error restartIce() ICE restart failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        });
                                    case 23:
                                      _i.dispatch(B(!1));
                                    case 24:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 18]]
                            );
                          })
                        )),
                        function () {
                          return Xe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setMaxSendingSpatialLayer",
                      value:
                        (($e = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "setMaxSendingSpatialLayer() [spatialLayer:%s]",
                                          t
                                        ),
                                        (e.prev = 1),
                                        !this._webcamProducer)
                                      ) {
                                        e.next = 7;
                                        break;
                                      }
                                      return (
                                        (e.next = 5),
                                        this._webcamProducer.setMaxSpatialLayer(
                                          t
                                        )
                                      );
                                    case 5:
                                      e.next = 10;
                                      break;
                                    case 7:
                                      if (!this._shareProducer) {
                                        e.next = 10;
                                        break;
                                      }
                                      return (
                                        (e.next = 10),
                                        this._shareProducer.setMaxSpatialLayer(
                                          t
                                        )
                                      );
                                    case 10:
                                      e.next = 17;
                                      break;
                                    case 12:
                                      (e.prev = 12),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "setMaxSendingSpatialLayer() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error setting max sending video spatial layer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error setting max sending video spatial layer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 17:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 12]]
                            );
                          })
                        )),
                        function (e) {
                          return $e.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setWebcamQuality",
                      value:
                        ((Ke = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (this._webcamProducer) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      if (
                                        ((r = this._webcam.resolution),
                                        (n = gi[r][t].s),
                                        this._webcamProducer.maxSpatialLayer !=
                                          n)
                                      ) {
                                        e.next = 6;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 6:
                                      return (
                                        (e.next = 8),
                                        this._webcamProducer.setMaxSpatialLayer(
                                          n
                                        )
                                      );
                                    case 8:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ke.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setConsumerQuality",
                      value:
                        ((qe = (0, a.Z)(
                          d().mark(function e(t, r) {
                            var n, a, i, s, o, c, p;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (s = this._webcam.resolution),
                                        (e.next = 3),
                                        null === (n = this._openTelemetry) ||
                                        void 0 === n
                                          ? void 0
                                          : n.trace({
                                              spanName: 'Setting "'.concat(
                                                r,
                                                '" Quality'
                                              ),
                                            })
                                      );
                                    case 3:
                                      return (
                                        (o = e.sent),
                                        (c = gi[s][r].s),
                                        (p = gi[s][r].t),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.traceAutoComplete({
                                            spanName:
                                              "Getting spatial & temporal layers",
                                            attributes: {
                                              spatialLayers: JSON.parse(c),
                                              temporalLayers: JSON.parse(p),
                                            },
                                            status: 1,
                                          }),
                                        (e.next = 9),
                                        this.setConsumerPreferredLayers(t, c, p)
                                      );
                                    case 9:
                                      null === (i = this._openTelemetry) ||
                                        void 0 === i ||
                                        i.completeSpan({
                                          message: "Done",
                                          span: o,
                                          status: 1,
                                        });
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e, t) {
                          return qe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setViewPort",
                      value:
                        ((Ge = (0, a.Z)(
                          d().mark(function e(t, r, n) {
                            var a, i, s, o;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (this._consumers.get(t.id)) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      if (
                                        ((a = Te(
                                          this._consumers.get(t.id),
                                          r,
                                          n
                                        )),
                                        (i = a.consumerId),
                                        (s = a.newPreferredSpatialLayer),
                                        (o = a.newPreferredTemporalLayer),
                                        !i)
                                      ) {
                                        e.next = 6;
                                        break;
                                      }
                                      return (
                                        (e.next = 6),
                                        this.setConsumerPreferredLayers(i, s, o)
                                      );
                                    case 6:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e, t, r) {
                          return Ge.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setConsumerPreferredLayers",
                      value:
                        ((We = (0, a.Z)(
                          d().mark(function e(t, r, n) {
                            var a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug(
                                          "setConsumerPreferredLayers() [consumerId:%s, spatialLayer:%s, temporalLayer:%s]",
                                          t,
                                          r,
                                          n
                                        ),
                                        (e.prev = 1),
                                        (a = this._consumers.get(t))
                                          .spatialLayers > 1 &&
                                          ((a.preferredSpatialLayer = r),
                                          (a.preferredTemporalLayer = n)),
                                        (e.next = 6),
                                        this._protoo.request(
                                          "setConsumerPreferredLayers",
                                          {
                                            consumerId: t,
                                            spatialLayer: r,
                                            temporalLayer: n,
                                          }
                                        )
                                      );
                                    case 6:
                                      _i.dispatch(te(t, r, n)), (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "setConsumerPreferredLayers() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error setting Consumer preferred layers:",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error setting Consumer preferred layers: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 9]]
                            );
                          })
                        )),
                        function (e, t, r) {
                          return We.apply(this, arguments);
                        }),
                    },
                    {
                      key: "setConsumerPriority",
                      value:
                        ((Ve = (0, a.Z)(
                          d().mark(function e(t, r) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug(
                                          "setConsumerPriority() [consumerId:%s, priority:%d]",
                                          t,
                                          r
                                        ),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request(
                                          "setConsumerPriority",
                                          { consumerId: t, priority: r }
                                        )
                                      );
                                    case 4:
                                      _i.dispatch(re(t, r)), (e.next = 12);
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "setConsumerPriority() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error setting Consumer priority",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error setting Consumer priority: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 12:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 7]]
                            );
                          })
                        )),
                        function (e, t) {
                          return Ve.apply(this, arguments);
                        }),
                    },
                    {
                      key: "requestConsumerKeyFrame",
                      value:
                        ((ze = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug(
                                          "requestConsumerKeyFrame() [consumerId:%s]",
                                          t
                                        ),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        this._protoo.request(
                                          "requestConsumerKeyFrame",
                                          { consumerId: t }
                                        )
                                      );
                                    case 4:
                                      _i.dispatch(
                                        se({
                                          text: "Keyframe requested for video consumer",
                                        })
                                      ),
                                        (e.next = 12);
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(1)),
                                        Ti.error(
                                          "requestConsumerKeyFrame() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error requesting key frame for Consumer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error requesting key frame for Consumer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 12:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return ze.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableChatDataProducer",
                      value:
                        ((He = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("enableChatDataProducer()"),
                                        this._useDataChannel)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return (
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._sendTransport.produceData({
                                          ordered: !1,
                                          maxRetransmits: 1,
                                          label: "chat",
                                          priority: "medium",
                                          appData: {
                                            info: "my-chat-DataProducer",
                                          },
                                        })
                                      );
                                    case 6:
                                      (this._chatDataProducer = e.sent),
                                        _i.dispatch(
                                          V({
                                            id: this._chatDataProducer.id,
                                            sctpStreamParameters:
                                              this._chatDataProducer
                                                .sctpStreamParameters,
                                            label: this._chatDataProducer.label,
                                            protocol:
                                              this._chatDataProducer.protocol,
                                          })
                                        ),
                                        this._chatDataProducer.on(
                                          "transportclose",
                                          function () {
                                            t._chatDataProducer = null;
                                          }
                                        ),
                                        this._chatDataProducer.on(
                                          "open",
                                          function () {
                                            Ti.debug(
                                              'chat DataProducer "open" event'
                                            );
                                          }
                                        ),
                                        this._chatDataProducer.on(
                                          "close",
                                          function () {
                                            Ti.error(
                                              'chat DataProducer "close" event'
                                            ),
                                              (t._chatDataProducer = null),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Chat DataProducer closed",
                                                })
                                              );
                                          }
                                        ),
                                        this._chatDataProducer.on(
                                          "error",
                                          function (e) {
                                            Ti.error(
                                              'chat DataProducer "error" event:%o',
                                              e
                                            ),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Chat DataProducer error: ".concat(
                                                    e
                                                  ),
                                                })
                                              );
                                          }
                                        ),
                                        this._chatDataProducer.on(
                                          "bufferedamountlow",
                                          function () {
                                            Ti.debug(
                                              'chat DataProducer "bufferedamountlow" event'
                                            );
                                          }
                                        ),
                                        (e.next = 21);
                                      break;
                                    case 15:
                                      throw (
                                        ((e.prev = 15),
                                        (e.t0 = e.catch(3)),
                                        Ti.error(
                                          "enableChatDataProducer() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error enabling chat DataProducer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error enabling chat DataProducer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        e.t0)
                                      );
                                    case 21:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 15]]
                            );
                          })
                        )),
                        function () {
                          return He.apply(this, arguments);
                        }),
                    },
                    {
                      key: "enableBotDataProducer",
                      value:
                        ((Ze = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("enableBotDataProducer()"),
                                        this._useDataChannel)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return (
                                        (e.prev = 3),
                                        (e.next = 6),
                                        this._sendTransport.produceData({
                                          ordered: !1,
                                          maxPacketLifeTime: 2e3,
                                          label: "bot",
                                          priority: "medium",
                                          appData: {
                                            info: "my-bot-DataProducer",
                                          },
                                        })
                                      );
                                    case 6:
                                      (this._botDataProducer = e.sent),
                                        _i.dispatch(
                                          V({
                                            id: this._botDataProducer.id,
                                            sctpStreamParameters:
                                              this._botDataProducer
                                                .sctpStreamParameters,
                                            label: this._botDataProducer.label,
                                            protocol:
                                              this._botDataProducer.protocol,
                                          })
                                        ),
                                        this._botDataProducer.on(
                                          "transportclose",
                                          function () {
                                            t._botDataProducer = null;
                                          }
                                        ),
                                        this._botDataProducer.on(
                                          "open",
                                          function () {
                                            Ti.debug(
                                              'bot DataProducer "open" event'
                                            );
                                          }
                                        ),
                                        this._botDataProducer.on(
                                          "close",
                                          function () {
                                            Ti.error(
                                              'bot DataProducer "close" event'
                                            ),
                                              (t._botDataProducer = null),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Bot DataProducer closed",
                                                })
                                              );
                                          }
                                        ),
                                        this._botDataProducer.on(
                                          "error",
                                          function (e) {
                                            Ti.error(
                                              'bot DataProducer "error" event:%o',
                                              e
                                            ),
                                              _i.dispatch(
                                                se({
                                                  type: "error",
                                                  text: "Bot DataProducer error: ".concat(
                                                    e
                                                  ),
                                                })
                                              );
                                          }
                                        ),
                                        this._botDataProducer.on(
                                          "bufferedamountlow",
                                          function () {
                                            Ti.debug(
                                              'bot DataProducer "bufferedamountlow" event'
                                            );
                                          }
                                        ),
                                        (e.next = 21);
                                      break;
                                    case 15:
                                      throw (
                                        ((e.prev = 15),
                                        (e.t0 = e.catch(3)),
                                        Ti.error(
                                          "enableBotDataProducer() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error enabling bot DataProducer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error enabling bot DataProducer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        e.t0)
                                      );
                                    case 21:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[3, 15]]
                            );
                          })
                        )),
                        function () {
                          return Ze.apply(this, arguments);
                        }),
                    },
                    {
                      key: "sendChatMessage",
                      value:
                        ((Ue = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          'sendChatMessage() [text:"%s]',
                                          t
                                        ),
                                        this._chatDataProducer)
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return (
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "No chat DataProducer",
                                          })
                                        ),
                                        e.abrupt("return")
                                      );
                                    case 4:
                                      try {
                                        this._chatDataProducer.send(t);
                                      } catch (e) {
                                        Ti.error(
                                          "chat DataProducer.send() failed:%o",
                                          e
                                        ),
                                          _i.dispatch(
                                            se({
                                              type: "error",
                                              text: "chat DataProducer.send() failed: ".concat(
                                                e
                                              ),
                                            })
                                          );
                                      }
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ue.apply(this, arguments);
                        }),
                    },
                    {
                      key: "sendBotMessage",
                      value:
                        ((Be = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          'sendBotMessage() [text:"%s]',
                                          t
                                        ),
                                        this._botDataProducer)
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return (
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "No bot DataProducer",
                                          })
                                        ),
                                        e.abrupt("return")
                                      );
                                    case 4:
                                      try {
                                        this._botDataProducer.send(t);
                                      } catch (e) {
                                        Ti.error(
                                          "bot DataProducer.send() failed:%o",
                                          e
                                        ),
                                          _i.dispatch(
                                            se({
                                              type: "error",
                                              text: "bot DataProducer.send() failed: ".concat(
                                                e
                                              ),
                                            })
                                          );
                                      }
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Be.apply(this, arguments);
                        }),
                    },
                    {
                      key: "changeDisplayName",
                      value:
                        ((Fe = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug(
                                          'changeDisplayName() [displayName:"%s"]',
                                          t
                                        ),
                                        P({ displayName: t }),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "changeDisplayName",
                                          { displayName: t }
                                        )
                                      );
                                    case 5:
                                      (this._displayName = t),
                                        _i.dispatch(A(t)),
                                        _i.dispatch(
                                          se({ text: "Display name changed" })
                                        ),
                                        (e.next = 15);
                                      break;
                                    case 10:
                                      (e.prev = 10),
                                        (e.t0 = e.catch(2)),
                                        Ti.error(
                                          "changeDisplayName() | failed: %o",
                                          e.t0
                                        ),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Could not change display name: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        _i.dispatch(A());
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 10]]
                            );
                          })
                        )),
                        function (e) {
                          return Fe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "openConnection",
                      value:
                        ((je = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.roomId),
                                        (n = t.payload),
                                        (e.next = 3),
                                        this._protoo
                                          .request("openConnection", {
                                            roomId: r,
                                            payload: n,
                                          })
                                          .catch(function (e) {
                                            throw new Error(e);
                                          })
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return je.apply(this, arguments);
                        }),
                    },
                    {
                      key: "closeConnection",
                      value:
                        ((Ne = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        this._protoo.request(
                                          "closeConnection",
                                          { roomId: t }
                                        )
                                      );
                                    case 2:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ne.apply(this, arguments);
                        }),
                    },
                    {
                      key: "switchTo",
                      value:
                        ((Ae = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.roomId),
                                        (n = t.peerIds),
                                        (a = t.payload),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "requestSwitchRoom",
                                          { roomId: r, peerIds: n, payload: a }
                                        )
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ae.apply(this, arguments);
                        }),
                    },
                    {
                      key: "switchPeerRoom",
                      value:
                        ((Me = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.peerId),
                                        (n = t.roomId),
                                        (a = t.payload),
                                        (i = t.token),
                                        (e.next = 3),
                                        this._protoo.request("switchPeerRoom", {
                                          roomId: n,
                                          peerId: r,
                                          payload: a,
                                          token: i,
                                        })
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Me.apply(this, arguments);
                        }),
                    },
                    {
                      key: "connectionSwitchPeerRoom",
                      value:
                        ((Le = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i, s;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.roomId),
                                        (n = t.connectionRoomId),
                                        (a = t.peerId),
                                        (i = t.payload),
                                        (s = t.token),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "connectionSwitchPeerRoom",
                                          {
                                            roomId: r,
                                            connectionRoomId: n,
                                            peerId: a,
                                            payload: i,
                                            token: s,
                                          }
                                        )
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Le.apply(this, arguments);
                        }),
                    },
                    {
                      key: "connectionSendChatMessage",
                      value:
                        ((Ie = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.roomId),
                                        (n = t.message),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "connectionSendChatMessage",
                                          { roomId: r, message: n }
                                        )
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return Ie.apply(this, arguments);
                        }),
                    },
                    {
                      key: "connectionEndMeeting",
                      value:
                        ((De = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.roomId),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "connectionCloseRoom",
                                          { roomId: r }
                                        )
                                      );
                                    case 3:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return De.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pubsubPublish",
                      value:
                        ((xe = (0, a.Z)(
                          d().mark(function e(t, r, n) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.prev = 0),
                                        (e.next = 3),
                                        this._protoo.request("pubsubPublish", {
                                          topic: t,
                                          message: r,
                                          options: n,
                                        })
                                      );
                                    case 3:
                                      e.next = 9;
                                      break;
                                    case 5:
                                      (e.prev = 5),
                                        (e.t0 = e.catch(0)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error pubsubPublish() | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "pubsubPublish() | failed: %o",
                                          e.t0
                                        );
                                    case 9:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[0, 5]]
                            );
                          })
                        )),
                        function (e, t, r) {
                          return xe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pubsubSubscribe",
                      value:
                        ((Oe = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.prev = 0),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "pubsubSubscribe",
                                          { topic: t }
                                        )
                                      );
                                    case 3:
                                      return (
                                        (r = e.sent), e.abrupt("return", r)
                                      );
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(0)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error pubsubSubscribe() | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "pubsubSubscribe() | failed: %o",
                                          e.t0
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[0, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return Oe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pubsubUnsubscribe",
                      value:
                        ((we = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.prev = 0),
                                        (e.next = 3),
                                        this._protoo.request(
                                          "pubsubUnsubscribe",
                                          { topic: t }
                                        )
                                      );
                                    case 3:
                                      e.next = 9;
                                      break;
                                    case 5:
                                      (e.prev = 5),
                                        (e.t0 = e.catch(0)),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error pubsubUnsubscribe() | failed",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        Ti.error(
                                          "pubsubUnsubscribe() | failed: %o",
                                          e.t0
                                        );
                                    case 9:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[0, 5]]
                            );
                          })
                        )),
                        function (e) {
                          return we.apply(this, arguments);
                        }),
                    },
                    {
                      key: "closeRoom",
                      value:
                        ((Se = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (e.next = 2),
                                        this._protoo.request("closeRoom", {})
                                      );
                                    case 2:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return Se.apply(this, arguments);
                        }),
                    },
                    {
                      key: "removePeer",
                      value:
                        ((ye = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.traceAutoComplete({
                                            spanName: "Removing peer ".concat(
                                              t
                                            ),
                                            status: 1,
                                          }),
                                        null != t)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return (
                                        (e.next = 5),
                                        this._protoo.request("removePeer", {
                                          peerId: t,
                                        })
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return ye.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startPingPong",
                      value:
                        ((ve = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      null != this._pingWebsocketInterval &&
                                        clearInterval(
                                          this._pingWebsocketInterval
                                        ),
                                        (this._pingWebsocketInterval =
                                          setInterval(function () {
                                            t.pingWebSocket();
                                          }, 2e3));
                                    case 2:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return ve.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pingWebSocket",
                      value:
                        ((ge = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (!this._closed) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      (t = !1),
                                        this._protoo
                                          .request("ping")
                                          .then(function (e) {
                                            e && (t = !0);
                                          })
                                          .catch(function (e) {}),
                                        setTimeout(function () {
                                          t
                                            ? (!r._isWebsocketAlive ||
                                              r._pingWebsocketFailedCounter > 1
                                                ? (r._eventEmitter.emit(
                                                    "MEETING_STATE_CHANGED",
                                                    { state: "CONNECTED" }
                                                  ),
                                                  (r._isWebsocketAlive = !0),
                                                  (r._pingWebsocketFailedCounter = 0),
                                                  r.restartIce())
                                                : ("failed" !=
                                                    r._transportState &&
                                                    "disconnected" !=
                                                      r._transportState) ||
                                                  (console.log(
                                                    "Calling Restart Ice based on transport state",
                                                    r._transportState
                                                  ),
                                                  r.restartIce()),
                                              (r._pingWebsocketFailedCounter = 0))
                                            : (r._isWebsocketAlive &&
                                                r._pingWebsocketFailedCounter >
                                                  1 &&
                                                (r._eventEmitter.emit(
                                                  "MEETING_STATE_CHANGED",
                                                  { state: "DISCONNECTED" }
                                                ),
                                                (r._isWebsocketAlive = !1),
                                                r.startInternetPingPong()),
                                              (r._pingWebsocketFailedCounter =
                                                r._pingWebsocketFailedCounter +
                                                1));
                                        }, 1e3);
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return ge.apply(this, arguments);
                        }),
                    },
                    {
                      key: "startInternetPingPong",
                      value:
                        ((_e = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      null != this._pingInternetInterval &&
                                        clearInterval(
                                          this._pingInternetInterval
                                        ),
                                        (this._pingInternetInterval =
                                          setInterval(function () {
                                            t.pingInternet();
                                          }, 2e3));
                                    case 2:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return _e.apply(this, arguments);
                        }),
                    },
                    {
                      key: "pingInternet",
                      value:
                        ((fe = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (!this._closed) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      return (
                                        this._openTelemetry.pushLogs({
                                          logText: "pinging internet",
                                          logType: "INFO",
                                        }),
                                        (e.next = 5),
                                        fetch(
                                          "https://api.videosdk.live/ping",
                                          { method: "GET" }
                                        )
                                          .then(function (e) {
                                            return e.text();
                                          })
                                          .catch(function (e) {
                                            return (
                                              t._openTelemetry.pushLogs({
                                                logText:
                                                  "Error pingInternet failed",
                                                logType: "ERROR",
                                                attributes: {
                                                  error: e.message,
                                                },
                                              }),
                                              "failed"
                                            );
                                          })
                                      );
                                    case 5:
                                      if ("pong" != e.sent) {
                                        e.next = 16;
                                        break;
                                      }
                                      if (
                                        (this._openTelemetry.pushLogs({
                                          logText: "Pong",
                                          logType: "INFO",
                                        }),
                                        !(
                                          this._pingWebsocketFailedCounter >
                                            5 && this._pongInternetCounter > 3
                                        ) || this._isWebsocketAlive)
                                      ) {
                                        e.next = 14;
                                        break;
                                      }
                                      return (
                                        (this._pongInternetCounter = 0),
                                        this.close({ sendLeft: !1 }),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Re-join the meeting, after diconnect",
                                          logType: "INFO",
                                        }),
                                        (e.next = 14),
                                        this.join()
                                      );
                                    case 14:
                                      (this._pongInternetCounter =
                                        this._pongInternetCounter + 1),
                                        this._isWebsocketAlive &&
                                          ((this._pongInternetCounter = 0),
                                          null != this._pingInternetInterval &&
                                            (clearInterval(
                                              this._pingInternetInterval
                                            ),
                                            (this._pingInternetInterval =
                                              null)));
                                    case 16:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return fe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getSendTransportRemoteStats",
                      value:
                        ((me = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getSendTransportRemoteStats()"
                                        ),
                                        this._sendTransport)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._protoo.request(
                                          "getTransportStats",
                                          {
                                            transportId: this._sendTransport.id,
                                          }
                                        )
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return me.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getRecvTransportRemoteStats",
                      value:
                        ((he = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getRecvTransportRemoteStats()"
                                        ),
                                        this._recvTransport)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._protoo.request(
                                          "getTransportStats",
                                          {
                                            transportId: this._recvTransport.id,
                                          }
                                        )
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return he.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getAudioRemoteStats",
                      value:
                        ((ue = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getAudioRemoteStats()"),
                                        this._micProducer)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._latestStats[this._micProducer.id]
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return ue.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getVideoRemoteStats",
                      value:
                        ((le = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getVideoRemoteStats()"),
                                        (t = this._webcamProducer))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt(
                                        "return",
                                        this._latestStats[t.id]
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return le.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getShareRemoteStats",
                      value:
                        ((pe = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getVideoRemoteStats()"),
                                        (t = this._shareProducer))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt(
                                        "return",
                                        this._latestStats[t.id]
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return pe.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getConsumerRemoteStats",
                      value:
                        ((ce = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getConsumerRemoteStats()"),
                                        (r = this._consumers.get(t)))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return (
                                        this._latestStats[t] &&
                                          ((this._latestStats[
                                            t
                                          ][0].currentSpatialLayer =
                                            r.currentSpatialLayer),
                                          (this._latestStats[
                                            t
                                          ][0].currentTemporalLayer =
                                            r.currentTemporalLayer),
                                          (this._latestStats[
                                            t
                                          ][0].preferredSpatialLayer =
                                            r.preferredSpatialLayer),
                                          (this._latestStats[
                                            t
                                          ][0].preferredTemporalLayer =
                                            r.preferredTemporalLayer)),
                                        e.abrupt("return", this._latestStats[t])
                                      );
                                    case 6:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return ce.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getChatDataProducerRemoteStats",
                      value:
                        ((O = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getChatDataProducerRemoteStats()"
                                        ),
                                        (t = this._chatDataProducer))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt(
                                        "return",
                                        this._protoo.request(
                                          "getDataProducerStats",
                                          { dataProducerId: t.id }
                                        )
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return O.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getBotDataProducerRemoteStats",
                      value:
                        ((k = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getBotDataProducerRemoteStats()"
                                        ),
                                        (t = this._botDataProducer))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt(
                                        "return",
                                        this._protoo.request(
                                          "getDataProducerStats",
                                          { dataProducerId: t.id }
                                        )
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return k.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getDataConsumerRemoteStats",
                      value:
                        ((R = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getDataConsumerRemoteStats()"
                                        ),
                                        this._dataConsumers.get(t))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt(
                                        "return",
                                        this._protoo.request(
                                          "getDataConsumerStats",
                                          { dataConsumerId: t }
                                        )
                                      );
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return R.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getSendTransportLocalStats",
                      value:
                        ((E = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getSendTransportLocalStats()"
                                        ),
                                        this._sendTransport)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._sendTransport.getStats()
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return E.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getRecvTransportLocalStats",
                      value:
                        ((T = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug(
                                          "getRecvTransportLocalStats()"
                                        ),
                                        this._recvTransport)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._recvTransport.getStats()
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return T.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getAudioLocalStats",
                      value:
                        ((w = (0, a.Z)(
                          d().mark(function e() {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getAudioLocalStats()"),
                                        this._micProducer)
                                      ) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt(
                                        "return",
                                        this._micProducer.getStats()
                                      );
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return w.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getVideoLocalStats",
                      value:
                        ((S = (0, a.Z)(
                          d().mark(function e() {
                            var t;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        (Ti.debug("getVideoLocalStats()"),
                                        (t =
                                          this._webcamProducer ||
                                          this._shareProducer))
                                      ) {
                                        e.next = 4;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 4:
                                      return e.abrupt("return", t.getStats());
                                    case 5:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return S.apply(this, arguments);
                        }),
                    },
                    {
                      key: "getConsumerLocalStats",
                      value:
                        ((b = (0, a.Z)(
                          d().mark(function e(t) {
                            var r;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if ((r = this._consumers.get(t))) {
                                        e.next = 3;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 3:
                                      return e.abrupt("return", r.getStats());
                                    case 4:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e) {
                          return b.apply(this, arguments);
                        }),
                    },
                    {
                      key: "applyNetworkThrottle",
                      value:
                        ((v = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a, i;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.uplink),
                                        (n = t.downlink),
                                        (a = t.rtt),
                                        (i = t.secret),
                                        Ti.debug(
                                          "applyNetworkThrottle() [uplink:%s, downlink:%s, rtt:%s]",
                                          r,
                                          n,
                                          a
                                        ),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "applyNetworkThrottle",
                                          {
                                            uplink: r,
                                            downlink: n,
                                            rtt: a,
                                            secret: i,
                                          }
                                        )
                                      );
                                    case 5:
                                      e.next = 11;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        Ti.error(
                                          "applyNetworkThrottle() | failed:%o",
                                          e.t0
                                        ),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error applying network throttle: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 11:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return v.apply(this, arguments);
                        }),
                    },
                    {
                      key: "resetNetworkThrottle",
                      value:
                        ((g = (0, a.Z)(
                          d().mark(function e(t) {
                            var r, n, a;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (r = t.silent),
                                        (n = void 0 !== r && r),
                                        (a = t.secret),
                                        Ti.debug("resetNetworkThrottle()"),
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request(
                                          "resetNetworkThrottle",
                                          { secret: a }
                                        )
                                      );
                                    case 5:
                                      e.next = 10;
                                      break;
                                    case 7:
                                      (e.prev = 7),
                                        (e.t0 = e.catch(2)),
                                        n ||
                                          (Ti.error(
                                            "resetNetworkThrottle() | failed:%o",
                                            e.t0
                                          ),
                                          _i.dispatch(
                                            se({
                                              type: "error",
                                              text: "Error resetting network throttle: ".concat(
                                                e.t0
                                              ),
                                            })
                                          ));
                                    case 10:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 7]]
                            );
                          })
                        )),
                        function (e) {
                          return g.apply(this, arguments);
                        }),
                    },
                    {
                      key: "createProducerTransport",
                      value:
                        ((_ = (0, a.Z)(
                          d().mark(function e(t, r) {
                            var n,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m,
                              f = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (s = t.id),
                                        (o = t.iceParameters),
                                        (c = t.iceCandidates),
                                        (p = t.dtlsParameters),
                                        (l = t.sctpParameters),
                                        (e.next = 3),
                                        null === (n = this._openTelemetry) ||
                                        void 0 === n
                                          ? void 0
                                          : n.trace({
                                              spanName:
                                                "Creating Send Transport",
                                              span: r || null,
                                            })
                                      );
                                    case 3:
                                      (u = e.sent),
                                        (this._sendTransport =
                                          this._mediasoupDevice.createSendTransport(
                                            {
                                              id: s,
                                              iceParameters: o,
                                              iceCandidates: c,
                                              dtlsParameters: p,
                                              sctpParameters: l,
                                              iceServers: this._iceServers,
                                            }
                                          )),
                                        this._sendTransport.on(
                                          "connect",
                                          function (e, t, r) {
                                            var n,
                                              a = e.dtlsParameters;
                                            null === (n = f._openTelemetry) ||
                                              void 0 === n ||
                                              n.traceAutoComplete({
                                                spanName:
                                                  "this._sendTransport `connect` Event : Transport is about to establish the ICE+DTLS connection",
                                                status: 1,
                                              }),
                                              f._protoo
                                                .request(
                                                  "connectWebRtcTransport",
                                                  {
                                                    transportId:
                                                      f._sendTransport.id,
                                                    dtlsParameters: a,
                                                  }
                                                )
                                                .then(t)
                                                .catch(r);
                                          }
                                        ),
                                        this._sendTransport.on(
                                          "produce",
                                          (function () {
                                            var e = (0, a.Z)(
                                              d().mark(function e(t, r, n) {
                                                var a, i, s, o, c, p;
                                                return d().wrap(
                                                  function (e) {
                                                    for (;;)
                                                      switch (
                                                        (e.prev = e.next)
                                                      ) {
                                                        case 0:
                                                          return (
                                                            (a = t.kind),
                                                            (i =
                                                              t.rtpParameters),
                                                            (s = t.appData),
                                                            (e.prev = 1),
                                                            null ===
                                                              (o =
                                                                f._openTelemetry) ||
                                                              void 0 === o ||
                                                              o.traceAutoComplete(
                                                                {
                                                                  spanName:
                                                                    "this._sendTransport `produce` Event : Transmit information about a new producer ",
                                                                  status: 1,
                                                                }
                                                              ),
                                                            (e.next = 5),
                                                            f._protoo.request(
                                                              "produce",
                                                              {
                                                                transportId:
                                                                  f
                                                                    ._sendTransport
                                                                    .id,
                                                                kind: a,
                                                                rtpParameters:
                                                                  i,
                                                                appData: s,
                                                              }
                                                            )
                                                          );
                                                        case 5:
                                                          (c = e.sent),
                                                            (p = c.id),
                                                            r({ id: p }),
                                                            (e.next = 14);
                                                          break;
                                                        case 10:
                                                          (e.prev = 10),
                                                            (e.t0 = e.catch(1)),
                                                            f._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  'Error this._sendTransport "produce" Event catch',
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t0
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            n(e.t0);
                                                        case 14:
                                                        case "end":
                                                          return e.stop();
                                                      }
                                                  },
                                                  e,
                                                  null,
                                                  [[1, 10]]
                                                );
                                              })
                                            );
                                            return function (t, r, n) {
                                              return e.apply(this, arguments);
                                            };
                                          })()
                                        ),
                                        this._sendTransport.on(
                                          "producedata",
                                          (function () {
                                            var e = (0, a.Z)(
                                              d().mark(function e(t, r, n) {
                                                var a, i, s, o, c, p;
                                                return d().wrap(
                                                  function (e) {
                                                    for (;;)
                                                      switch (
                                                        (e.prev = e.next)
                                                      ) {
                                                        case 0:
                                                          return (
                                                            (a =
                                                              t.sctpStreamParameters),
                                                            (i = t.label),
                                                            (s = t.protocol),
                                                            (o = t.appData),
                                                            Ti.debug(
                                                              '"producedata" event: [sctpStreamParameters:%o, appData:%o]',
                                                              a,
                                                              o
                                                            ),
                                                            (e.prev = 2),
                                                            (e.next = 5),
                                                            f._protoo.request(
                                                              "produceData",
                                                              {
                                                                transportId:
                                                                  f
                                                                    ._sendTransport
                                                                    .id,
                                                                sctpStreamParameters:
                                                                  a,
                                                                label: i,
                                                                protocol: s,
                                                                appData: o,
                                                              }
                                                            )
                                                          );
                                                        case 5:
                                                          (c = e.sent),
                                                            (p = c.id),
                                                            r({ id: p }),
                                                            (e.next = 14);
                                                          break;
                                                        case 10:
                                                          (e.prev = 10),
                                                            (e.t0 = e.catch(2)),
                                                            f._openTelemetry.pushLogs(
                                                              {
                                                                logText:
                                                                  "Error producedata event catch",
                                                                logType:
                                                                  "ERROR",
                                                                attributes: {
                                                                  error:
                                                                    e.t0
                                                                      .message,
                                                                },
                                                              }
                                                            ),
                                                            n(e.t0);
                                                        case 14:
                                                        case "end":
                                                          return e.stop();
                                                      }
                                                  },
                                                  e,
                                                  null,
                                                  [[2, 10]]
                                                );
                                              })
                                            );
                                            return function (t, r, n) {
                                              return e.apply(this, arguments);
                                            };
                                          })()
                                        ),
                                        this._sendTransport.on(
                                          "connectionstatechange",
                                          function (e) {
                                            var t;
                                            null === (t = f._openTelemetry) ||
                                              void 0 === t ||
                                              t.traceAutoComplete({
                                                spanName:
                                                  "_sendTransport Event connectionstatechange ".concat(
                                                    e
                                                  ),
                                                status: 1,
                                              }),
                                              "failed" === e && f.restartIce(),
                                              (f._transportState = e);
                                          }
                                        ),
                                        (h = 0),
                                        ((m = this._metrics.addNewProbe(
                                          this._sendTransport,
                                          "sendTransport"
                                        )).onStatsCollected = function (e) {
                                          try {
                                            var t, r, n, a;
                                            f._stats.producerStats ||
                                              (f._stats.producerStats = {}),
                                              f._stats.producerStats.audio ||
                                                (f._stats.producerStats.audio =
                                                  []),
                                              f._stats.producerStats
                                                .shareAudio ||
                                                (f._stats.producerStats.shareAudio =
                                                  []),
                                              f._micProducer &&
                                                (f._latestStats[
                                                  null ===
                                                    (t = f._micProducer) ||
                                                  void 0 === t
                                                    ? void 0
                                                    : t.id
                                                ] = []),
                                              f._shareAudioProducer &&
                                                (f._latestStats[
                                                  null ===
                                                    (r =
                                                      f._shareAudioProducer) ||
                                                  void 0 === r
                                                    ? void 0
                                                    : r.id
                                                ] = []),
                                              e.audio.forEach(function (e) {
                                                var t, r, n;
                                                if (
                                                  f._micProducer &&
                                                  e.trackId ==
                                                    (null ===
                                                      (t = f._micProducer) ||
                                                    void 0 === t
                                                      ? void 0
                                                      : t.track.id)
                                                )
                                                  f._latestStats[
                                                    null ===
                                                      (n = f._micProducer) ||
                                                    void 0 === n
                                                      ? void 0
                                                      : n.id
                                                  ].push(e),
                                                    h % 5 == 0 &&
                                                      f._stats.producerStats.audio.push(
                                                        e
                                                      );
                                                else if (
                                                  f._shareAudioProducer &&
                                                  e.trackId ==
                                                    (null ===
                                                      (r =
                                                        f._shareAudioProducer) ||
                                                    void 0 === r
                                                      ? void 0
                                                      : r.track.id)
                                                ) {
                                                  var a;
                                                  f._latestStats[
                                                    null ===
                                                      (a =
                                                        f._shareAudioProducer) ||
                                                    void 0 === a
                                                      ? void 0
                                                      : a.id
                                                  ].push(e),
                                                    h % 5 == 0 &&
                                                      f._stats.producerStats.shareAudio.push(
                                                        e
                                                      );
                                                }
                                              }),
                                              f._stats.producerStats.video ||
                                                (f._stats.producerStats.video =
                                                  []),
                                              f._stats.producerStats.share ||
                                                (f._stats.producerStats.share =
                                                  []),
                                              f._webcamProducer &&
                                                (f._latestStats[
                                                  null ===
                                                    (n = f._webcamProducer) ||
                                                  void 0 === n
                                                    ? void 0
                                                    : n.id
                                                ] = []),
                                              f._shareProducer &&
                                                (f._latestStats[
                                                  null ===
                                                    (a = f._shareProducer) ||
                                                  void 0 === a
                                                    ? void 0
                                                    : a.id
                                                ] = []),
                                              e.video.forEach(function (e) {
                                                var t, r, n;
                                                if (
                                                  f._webcamProducer &&
                                                  e.trackId ==
                                                    (null ===
                                                      (t = f._webcamProducer) ||
                                                    void 0 === t
                                                      ? void 0
                                                      : t.track.id)
                                                )
                                                  f._latestStats[
                                                    null ===
                                                      (n = f._webcamProducer) ||
                                                    void 0 === n
                                                      ? void 0
                                                      : n.id
                                                  ].push(e);
                                                else if (
                                                  f._shareProducer &&
                                                  e.trackId ==
                                                    (null ===
                                                      (r = f._shareProducer) ||
                                                    void 0 === r
                                                      ? void 0
                                                      : r.track.id)
                                                ) {
                                                  var a;
                                                  f._latestStats[
                                                    null ===
                                                      (a = f._shareProducer) ||
                                                    void 0 === a
                                                      ? void 0
                                                      : a.id
                                                  ].push(e);
                                                }
                                              }),
                                              h % 5 == 0 &&
                                                null != f._webcamProducer &&
                                                f._stats.producerStats.video.push(
                                                  {
                                                    timestamp: new Date(),
                                                    stats:
                                                      f._latestStats[
                                                        f._webcamProducer.id
                                                      ],
                                                  }
                                                ),
                                              h % 5 == 0 &&
                                                null != f._shareProducer &&
                                                f._stats.producerStats.share.push(
                                                  {
                                                    timestamp: new Date(),
                                                    stats:
                                                      f._latestStats[
                                                        f._shareProducer.id
                                                      ],
                                                  }
                                                ),
                                              h++;
                                          } catch (e) {
                                            f._openTelemetry.pushLogs({
                                              logText:
                                                "Error PRODUCER Stats ERROR",
                                              logType: "ERROR",
                                              attributes: { error: e.message },
                                            }),
                                              console.log("PRODUCER ERROR", e);
                                          }
                                        }),
                                        m.start(),
                                        this._sendTransport.observer.on(
                                          "close",
                                          function () {
                                            m.stop(),
                                              f._metrics.removeExistingProbe(m);
                                          }
                                        ),
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.completeSpan({
                                            span: u,
                                            status: 1,
                                            message:
                                              "Send Transport Created Successfully",
                                          });
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e, t) {
                          return _.apply(this, arguments);
                        }),
                    },
                    {
                      key: "createConsumerTransport",
                      value:
                        ((f = (0, a.Z)(
                          d().mark(function e(t, r) {
                            var n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h,
                              m = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (i = t.id),
                                        (s = t.iceParameters),
                                        (o = t.iceCandidates),
                                        (c = t.dtlsParameters),
                                        (p = t.sctpParameters),
                                        (e.next = 3),
                                        null === (n = this._openTelemetry) ||
                                        void 0 === n
                                          ? void 0
                                          : n.trace({
                                              spanName:
                                                "Creating Recieve Transport",
                                              span: r || null,
                                            })
                                      );
                                    case 3:
                                      (l = e.sent),
                                        (this._recvTransport =
                                          this._mediasoupDevice.createRecvTransport(
                                            {
                                              id: i,
                                              iceParameters: s,
                                              iceCandidates: o,
                                              dtlsParameters: c,
                                              sctpParameters: p,
                                              iceServers: this._iceServers,
                                            }
                                          )),
                                        this._recvTransport.on(
                                          "connect",
                                          function (e, t, r) {
                                            var n,
                                              a = e.dtlsParameters;
                                            null === (n = m._openTelemetry) ||
                                              void 0 === n ||
                                              n.traceAutoComplete({
                                                spanName:
                                                  "this._recvTransport `connect` Event : Recieve Transport is about to establish the ICE+DTLS connection",
                                                status: 1,
                                              }),
                                              m._protoo
                                                .request(
                                                  "connectWebRtcTransport",
                                                  {
                                                    transportId:
                                                      m._recvTransport.id,
                                                    dtlsParameters: a,
                                                  }
                                                )
                                                .then(t)
                                                .catch(r);
                                          }
                                        ),
                                        this._recvTransport.on(
                                          "connectionstatechange",
                                          function (e) {
                                            var t;
                                            null === (t = m._openTelemetry) ||
                                              void 0 === t ||
                                              t.traceAutoComplete({
                                                spanName:
                                                  "_recvTransport Event connectionstatechange ".concat(
                                                    e
                                                  ),
                                                status: 1,
                                              }),
                                              "failed" === e && m.restartIce(),
                                              (m._transportState = e);
                                          }
                                        ),
                                        (u = 0),
                                        ((h = this._metrics.addNewProbe(
                                          this._recvTransport,
                                          "transport"
                                        )).onStatsCollected = function (e) {
                                          try {
                                            e.audio.forEach(function (e) {
                                              var t = m._consumers.get(
                                                e.trackId
                                              );
                                              if (null != t) {
                                                var r =
                                                  1 == t.appData.share
                                                    ? "audio" == t.kind
                                                      ? "shareAudio"
                                                      : "share"
                                                    : t.kind;
                                                m._stats.consumerStats ||
                                                  (m._stats.consumerStats = {}),
                                                  m._stats.consumerStats[
                                                    t.appData.peerId
                                                  ] ||
                                                    (m._stats.consumerStats[
                                                      t.appData.peerId
                                                    ] = {}),
                                                  m._stats.consumerStats[
                                                    t.appData.peerId
                                                  ][r] ||
                                                    (m._stats.consumerStats[
                                                      t.appData.peerId
                                                    ][r] = []),
                                                  e.trackId == t.id &&
                                                    ((m._latestStats[t.id] =
                                                      []),
                                                    m._latestStats[t.id].push(
                                                      e
                                                    ),
                                                    u % 5 == 0 &&
                                                      m._stats.consumerStats[
                                                        t.appData.peerId
                                                      ][r].push(e));
                                              }
                                            }),
                                              e.video.forEach(function (e) {
                                                var t = m._consumers.get(
                                                  e.trackId
                                                );
                                                if (null != t) {
                                                  var r =
                                                    1 == t.appData.share
                                                      ? "audio" == t.kind
                                                        ? "shareAudio"
                                                        : "share"
                                                      : t.kind;
                                                  m._stats.consumerStats ||
                                                    (m._stats.consumerStats =
                                                      {}),
                                                    m._stats.consumerStats[
                                                      t.appData.peerId
                                                    ] ||
                                                      (m._stats.consumerStats[
                                                        t.appData.peerId
                                                      ] = {}),
                                                    m._stats.consumerStats[
                                                      t.appData.peerId
                                                    ][r] ||
                                                      (m._stats.consumerStats[
                                                        t.appData.peerId
                                                      ][r] = []),
                                                    e.trackId == t.id &&
                                                      ((m._latestStats[t.id] =
                                                        []),
                                                      m._latestStats[t.id].push(
                                                        e
                                                      ),
                                                      u % 5 == 0 &&
                                                        m._stats.consumerStats[
                                                          t.appData.peerId
                                                        ][r].push(e));
                                                }
                                              }),
                                              u++;
                                          } catch (e) {
                                            m._openTelemetry.pushLogs({
                                              logText:
                                                "Error CONSUMER Stats ERROR",
                                              logType: "ERROR",
                                              attributes: { error: e.message },
                                            }),
                                              console.log("CONSUMER CATCH", e);
                                          }
                                        }),
                                        h.start(),
                                        this._recvTransport.observer.on(
                                          "close",
                                          function () {
                                            h.stop(),
                                              m._metrics.removeExistingProbe(h);
                                          }
                                        ),
                                        null === (a = this._openTelemetry) ||
                                          void 0 === a ||
                                          a.completeSpan({
                                            span: l,
                                            status: 1,
                                            message:
                                              "Recieve Transport Created Successfully",
                                          });
                                    case 13:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function (e, t) {
                          return f.apply(this, arguments);
                        }),
                    },
                    {
                      key: "joinRoom",
                      value:
                        ((m = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              c,
                              p,
                              u,
                              h,
                              m,
                              f,
                              _,
                              g,
                              v,
                              y,
                              b,
                              S,
                              w,
                              T,
                              E,
                              R,
                              P,
                              k;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        Ti.debug("joinRoom()"),
                                        (e.prev = 1),
                                        (e.next = 4),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "Loading Router Capabilities",
                                              span: this._joinSpan,
                                            })
                                      );
                                    case 4:
                                      return (
                                        (c = e.sent),
                                        (this._mediasoupDevice = new l.Device({
                                          handlerName: this._handlerName,
                                        })),
                                        (e.next = 8),
                                        this._protoo.request(
                                          "getRouterRtpCapabilities"
                                        )
                                      );
                                    case 8:
                                      return (
                                        (p = e.sent),
                                        null == c ||
                                          c.setAttributes(
                                            (0, o.Z)(
                                              {},
                                              "routerRtpCapabilities",
                                              JSON.stringify(p).toString()
                                            )
                                          ),
                                        (e.next = 12),
                                        this._mediasoupDevice.load({
                                          routerRtpCapabilities: p,
                                        })
                                      );
                                    case 12:
                                      if (
                                        (null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.completeSpan({
                                            span: c,
                                            status: 1,
                                            message:
                                              "Router Capabilities Loaded",
                                          }),
                                        !this._produce)
                                      ) {
                                        e.next = 18;
                                        break;
                                      }
                                      return (
                                        (e.next = 16),
                                        this._protoo.request(
                                          "createWebRtcTransport",
                                          {
                                            preferredProtocol:
                                              this._preferredProtocol,
                                            producing: !0,
                                            consuming: !1,
                                            sctpCapabilities: this
                                              ._useDataChannel
                                              ? this._mediasoupDevice
                                                  .sctpCapabilities
                                              : void 0,
                                          }
                                        )
                                      );
                                    case 16:
                                      (u = e.sent),
                                        this.createProducerTransport(
                                          u,
                                          this._joinSpan
                                        );
                                    case 18:
                                      if (!this._consume) {
                                        e.next = 23;
                                        break;
                                      }
                                      return (
                                        (e.next = 21),
                                        this._protoo.request(
                                          "createWebRtcTransport",
                                          {
                                            preferredProtocol:
                                              this._preferredProtocol,
                                            producing: !1,
                                            consuming: !0,
                                            sctpCapabilities: this
                                              ._useDataChannel
                                              ? this._mediasoupDevice
                                                  .sctpCapabilities
                                              : void 0,
                                          }
                                        )
                                      );
                                    case 21:
                                      (h = e.sent),
                                        this.createConsumerTransport(
                                          h,
                                          this._joinSpan
                                        );
                                    case 23:
                                      return (
                                        (e.next = 25),
                                        this._protoo.request("join", {
                                          displayName: this._displayName,
                                          device: this._device,
                                          secret: this._secret,
                                          rtpCapabilities:
                                            null ===
                                              (n = this._mediasoupDevice) ||
                                            void 0 === n
                                              ? void 0
                                              : n.rtpCapabilities,
                                          sctpCapabilities:
                                            null ===
                                              (a = this._mediasoupDevice) ||
                                            void 0 === a
                                              ? void 0
                                              : a.sctpCapabilities,
                                          deviceInfo: this._deviceInfo,
                                          autoConsume: this._autoConsume,
                                        })
                                      );
                                    case 25:
                                      (m = e.sent),
                                        (f = m.peers),
                                        (_ = m.poll),
                                        (g = m.messages),
                                        _i.dispatch(x("connected")),
                                        null === (i = this._openTelemetry) ||
                                          void 0 === i ||
                                          i.traceAutoComplete({
                                            spanName:
                                              "Emitted `MEETING_JOINED` Event",
                                            status: 1,
                                          }),
                                        this._eventEmitter.emit(
                                          "MEETING_JOINED",
                                          {
                                            peers: f,
                                            poll: _,
                                            messages: g,
                                            baseUrl: this._baseUrl,
                                          }
                                        ),
                                        _i.dispatch({
                                          type: "REMOVE_ALL_NOTIFICATIONS",
                                        }),
                                        _i.dispatch(
                                          se({
                                            text: "You are in the room!",
                                            timeout: 3e3,
                                          })
                                        ),
                                        (v = ui(f));
                                      try {
                                        for (v.s(); !(y = v.n()).done; )
                                          (b = y.value),
                                            (S = q(
                                              fi(
                                                fi({}, b),
                                                {},
                                                {
                                                  consumers: [],
                                                  dataConsumers: [],
                                                }
                                              )
                                            )),
                                            _i.dispatch(S),
                                            this._eventEmitter.emit(
                                              S.type,
                                              S.payload
                                            );
                                      } catch (e) {
                                        v.e(e);
                                      } finally {
                                        v.f();
                                      }
                                      this._produce &&
                                        (_i.dispatch(
                                          L({
                                            canSendMic:
                                              this._mediasoupDevice.canProduce(
                                                "audio"
                                              ),
                                            canSendWebcam:
                                              this._mediasoupDevice.canProduce(
                                                "video"
                                              ),
                                          })
                                        ),
                                        this._micEnabled
                                          ? this.enableMic(
                                              this.customMicrophoneAudioTrack,
                                              this._joinSpan
                                            )
                                          : this.customMicrophoneAudioTrack &&
                                            (null ===
                                              (w = this._openTelemetry) ||
                                              void 0 === w ||
                                              w.traceAutoComplete({
                                                spanName:
                                                  "Disposing Audio Track",
                                                status: 2,
                                              }),
                                            this.customMicrophoneAudioTrack
                                              .getTracks()
                                              .forEach(function (e) {
                                                e.stop();
                                              })),
                                        (T = C()),
                                        this._webcamEnabled &&
                                        (!T ||
                                          T.webcamEnabled ||
                                          this._externalVideo)
                                          ? this.enableWebcam(
                                              this.customCameraVideoTrack,
                                              this._joinSpan
                                            )
                                          : this.customCameraVideoTrack &&
                                            (null ===
                                              (E = this._openTelemetry) ||
                                              void 0 === E ||
                                              E.traceAutoComplete({
                                                spanName:
                                                  "Disposing Video Track",
                                                status: 2,
                                              }),
                                            this.customCameraVideoTrack
                                              .getTracks()
                                              .forEach(function (e) {
                                                e.stop();
                                              })),
                                        this.enableChatDataProducer()),
                                        window.SHOW_INFO &&
                                          ((R = _i.getState()),
                                          (P = R.me),
                                          _i.dispatch(I(P.id))),
                                        null === (s = this._openTelemetry) ||
                                          void 0 === s ||
                                          s.completeSpan({
                                            span: this._joinSpan,
                                            status: 1,
                                            message: "Room Joined",
                                          }),
                                        (e.next = 48);
                                      break;
                                    case 41:
                                      (e.prev = 41),
                                        (e.t0 = e.catch(1)),
                                        Ti.error("joinRoom() failed:%o", e.t0),
                                        this._openTelemetry.pushLogs({
                                          logText:
                                            "Error Could not join the room",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        null === (k = this._openTelemetry) ||
                                          void 0 === k ||
                                          k.completeSpan({
                                            span: this._joinSpan,
                                            status: 2,
                                            message:
                                              "Could not join the room ".concat(
                                                e.t0
                                              ),
                                          }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Could not join the room: ".concat(
                                              e.t0
                                            ),
                                          })
                                        ),
                                        this.close({ sendLeft: !0 });
                                    case 48:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[1, 41]]
                            );
                          })
                        )),
                        function () {
                          return m.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_updateMics",
                      value:
                        ((h = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (n =
                                          h.length > 0 && void 0 !== h[0]
                                            ? h[0]
                                            : void 0),
                                        (this._mics = new Map()),
                                        Ti.debug("_updateMics() |"),
                                        (e.next = 5),
                                        navigator.mediaDevices.enumerateDevices()
                                      );
                                    case 5:
                                      return (
                                        (a = e.sent),
                                        (e.next = 8),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "_updateMics() Calling for Getting System Mic list",
                                              attributes: {
                                                systemDevice: a
                                                  ? JSON.stringify(a)
                                                  : "Device not found",
                                              },
                                              span: n || null,
                                            })
                                      );
                                    case 8:
                                      (i = e.sent), (s = ui(a));
                                      try {
                                        for (s.s(); !(o = s.n()).done; )
                                          "audioinput" == (c = o.value).kind &&
                                            this._mics.set(c.deviceId, c);
                                      } catch (e) {
                                        s.e(e);
                                      } finally {
                                        s.f();
                                      }
                                      (p = Array.from(this._mics.values())),
                                        (l = p.length),
                                        (u = this._mic.device
                                          ? this._mic.device.deviceId
                                          : void 0),
                                        0 === l
                                          ? (this._mic.device = null)
                                          : this._mics.has(u) ||
                                            (this._mic.device = p[0]),
                                        this._tracesEnabled &&
                                          i.setAttribute({
                                            "this._mic": JSON.stringify(
                                              this._mic
                                            ),
                                          }),
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.completeSpan({
                                            span: i,
                                            status: 1,
                                            message: "Update Mic",
                                          });
                                    case 17:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return h.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_updateWebcams",
                      value:
                        ((u = (0, a.Z)(
                          d().mark(function e() {
                            var t,
                              r,
                              n,
                              a,
                              i,
                              s,
                              o,
                              c,
                              p,
                              l,
                              u,
                              h = arguments;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      return (
                                        (n =
                                          h.length > 0 && void 0 !== h[0]
                                            ? h[0]
                                            : void 0),
                                        Ti.debug("_updateWebcams()"),
                                        (this._webcams = new Map()),
                                        Ti.debug(
                                          "_updateWebcams() | calling enumerateDevices()"
                                        ),
                                        (e.next = 6),
                                        navigator.mediaDevices.enumerateDevices()
                                      );
                                    case 6:
                                      return (
                                        (a = e.sent),
                                        (e.next = 9),
                                        null === (t = this._openTelemetry) ||
                                        void 0 === t
                                          ? void 0
                                          : t.trace({
                                              spanName:
                                                "_updateWebcams() Calling for Getting System Webcam list",
                                              attributes: {
                                                systemDevice: a
                                                  ? JSON.stringify(a)
                                                  : "Device not found",
                                              },
                                              span: n || null,
                                            })
                                      );
                                    case 9:
                                      (i = e.sent),
                                        (s = ui(a)),
                                        (e.prev = 11),
                                        s.s();
                                    case 13:
                                      if ((o = s.n()).done) {
                                        e.next = 20;
                                        break;
                                      }
                                      if ("videoinput" === (c = o.value).kind) {
                                        e.next = 17;
                                        break;
                                      }
                                      return e.abrupt("continue", 18);
                                    case 17:
                                      this._webcams.set(c.deviceId, c);
                                    case 18:
                                      e.next = 13;
                                      break;
                                    case 20:
                                      e.next = 25;
                                      break;
                                    case 22:
                                      (e.prev = 22),
                                        (e.t0 = e.catch(11)),
                                        s.e(e.t0);
                                    case 25:
                                      return (e.prev = 25), s.f(), e.finish(25);
                                    case 28:
                                      (p = Array.from(this._webcams.values())),
                                        (l = p.length),
                                        (u = this._webcam.device
                                          ? this._webcam.device.deviceId
                                          : void 0),
                                        Ti.debug(
                                          "_updateWebcams() [webcams:%o]",
                                          p
                                        ),
                                        0 === l
                                          ? (this._webcam.device = null)
                                          : this._webcams.has(u) ||
                                            (this._webcam.device = p[0]),
                                        this._tracesEnabled &&
                                          i.setAttribute({
                                            "this._webcams": JSON.stringify(
                                              this._webcam
                                            ),
                                          }),
                                        null === (r = this._openTelemetry) ||
                                          void 0 === r ||
                                          r.completeSpan({
                                            span: i,
                                            status: 1,
                                            message: "Update Webcam",
                                          }),
                                        _i.dispatch(M(this._webcams.size > 1));
                                    case 36:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[11, 22, 25, 28]]
                            );
                          })
                        )),
                        function () {
                          return u.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_getWebcamType",
                      value: function (e) {
                        return /(back|rear)/i.test(e.label)
                          ? (Ti.debug(
                              "_getWebcamType() | it seems to be a back camera"
                            ),
                            "back")
                          : (Ti.debug(
                              "_getWebcamType() | it seems to be a front camera"
                            ),
                            "front");
                      },
                    },
                    {
                      key: "_pauseConsumer",
                      value:
                        ((c = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (!t.paused) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      return (
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request("pauseConsumer", {
                                          consumerId: t.id,
                                        })
                                      );
                                    case 5:
                                      t.pause(),
                                        _i.dispatch(Q(t.id, "local")),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(2)),
                                        Ti.error(
                                          "_pauseConsumer() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error pausing Consumer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error pausing Consumer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 9]]
                            );
                          })
                        )),
                        function (e) {
                          return c.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_resumeConsumer",
                      value:
                        ((r = (0, a.Z)(
                          d().mark(function e(t) {
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (t.paused) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt("return");
                                    case 2:
                                      return (
                                        (e.prev = 2),
                                        (e.next = 5),
                                        this._protoo.request("resumeConsumer", {
                                          consumerId: t.id,
                                        })
                                      );
                                    case 5:
                                      t.resume(),
                                        _i.dispatch(Y(t.id, "local")),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      (e.prev = 9),
                                        (e.t0 = e.catch(2)),
                                        Ti.error(
                                          "_resumeConsumer() | failed:%o",
                                          e.t0
                                        ),
                                        this._openTelemetry.pushLogs({
                                          logText: "Error resuming Consumer",
                                          logType: "ERROR",
                                          attributes: { error: e.t0.message },
                                        }),
                                        _i.dispatch(
                                          se({
                                            type: "error",
                                            text: "Error resuming Consumer: ".concat(
                                              e.t0
                                            ),
                                          })
                                        );
                                    case 14:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this,
                              [[2, 9]]
                            );
                          })
                        )),
                        function (e) {
                          return r.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_getExternalVideoStream",
                      value:
                        ((t = (0, a.Z)(
                          d().mark(function e() {
                            var t = this;
                            return d().wrap(
                              function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (!this._externalVideoStream) {
                                        e.next = 2;
                                        break;
                                      }
                                      return e.abrupt(
                                        "return",
                                        this._externalVideoStream
                                      );
                                    case 2:
                                      if (
                                        !(this._externalVideo.readyState < 3)
                                      ) {
                                        e.next = 5;
                                        break;
                                      }
                                      return (
                                        (e.next = 5),
                                        new Promise(function (e) {
                                          return t._externalVideo.addEventListener(
                                            "canplay",
                                            e
                                          );
                                        })
                                      );
                                    case 5:
                                      if (!this._externalVideo.captureStream) {
                                        e.next = 9;
                                        break;
                                      }
                                      (this._externalVideoStream =
                                        this._externalVideo.captureStream()),
                                        (e.next = 14);
                                      break;
                                    case 9:
                                      if (
                                        !this._externalVideo.mozCaptureStream
                                      ) {
                                        e.next = 13;
                                        break;
                                      }
                                      (this._externalVideoStream =
                                        this._externalVideo.mozCaptureStream()),
                                        (e.next = 14);
                                      break;
                                    case 13:
                                      throw new Error(
                                        "video.captureStream() not supported"
                                      );
                                    case 14:
                                      return e.abrupt(
                                        "return",
                                        this._externalVideoStream
                                      );
                                    case 15:
                                    case "end":
                                      return e.stop();
                                  }
                              },
                              e,
                              this
                            );
                          })
                        )),
                        function () {
                          return t.apply(this, arguments);
                        }),
                    },
                    {
                      key: "_emitError",
                      value: function (e) {
                        this._eventEmitter.emit("ERROR", e);
                      },
                    },
                  ],
                  [
                    {
                      key: "init",
                      value: function (e) {
                        _i = e.store;
                      },
                    },
                  ]
                ),
                e
              );
            })();
        },
        1206: function (e) {
          e.exports = (function (e) {
            var t = {};
            function r(n) {
              if (t[n]) return t[n].exports;
              var a = (t[n] = { i: n, l: !1, exports: {} });
              return (
                e[n].call(a.exports, a, a.exports, r), (a.l = !0), a.exports
              );
            }
            return (
              (r.m = e),
              (r.c = t),
              (r.d = function (e, t, n) {
                r.o(e, t) ||
                  Object.defineProperty(e, t, { enumerable: !0, get: n });
              }),
              (r.r = function (e) {
                "undefined" != typeof Symbol &&
                  Symbol.toStringTag &&
                  Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module",
                  }),
                  Object.defineProperty(e, "__esModule", { value: !0 });
              }),
              (r.t = function (e, t) {
                if ((1 & t && (e = r(e)), 8 & t)) return e;
                if (4 & t && "object" == typeof e && e && e.__esModule)
                  return e;
                var n = Object.create(null);
                if (
                  (r.r(n),
                  Object.defineProperty(n, "default", {
                    enumerable: !0,
                    value: e,
                  }),
                  2 & t && "string" != typeof e)
                )
                  for (var a in e)
                    r.d(
                      n,
                      a,
                      function (t) {
                        return e[t];
                      }.bind(null, a)
                    );
                return n;
              }),
              (r.n = function (e) {
                var t =
                  e && e.__esModule
                    ? function () {
                        return e.default;
                      }
                    : function () {
                        return e;
                      };
                return r.d(t, "a", t), t;
              }),
              (r.o = function (e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
              }),
              (r.p = ""),
              r((r.s = 90))
            );
          })({
            17: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n = r(18),
                a = (function () {
                  function e() {}
                  return (
                    (e.getFirstMatch = function (e, t) {
                      var r = t.match(e);
                      return (r && r.length > 0 && r[1]) || "";
                    }),
                    (e.getSecondMatch = function (e, t) {
                      var r = t.match(e);
                      return (r && r.length > 1 && r[2]) || "";
                    }),
                    (e.matchAndReturnConst = function (e, t, r) {
                      if (e.test(t)) return r;
                    }),
                    (e.getWindowsVersionName = function (e) {
                      switch (e) {
                        case "NT":
                          return "NT";
                        case "XP":
                        case "NT 5.1":
                          return "XP";
                        case "NT 5.0":
                          return "2000";
                        case "NT 5.2":
                          return "2003";
                        case "NT 6.0":
                          return "Vista";
                        case "NT 6.1":
                          return "7";
                        case "NT 6.2":
                          return "8";
                        case "NT 6.3":
                          return "8.1";
                        case "NT 10.0":
                          return "10";
                        default:
                          return;
                      }
                    }),
                    (e.getMacOSVersionName = function (e) {
                      var t = e
                        .split(".")
                        .splice(0, 2)
                        .map(function (e) {
                          return parseInt(e, 10) || 0;
                        });
                      if ((t.push(0), 10 === t[0]))
                        switch (t[1]) {
                          case 5:
                            return "Leopard";
                          case 6:
                            return "Snow Leopard";
                          case 7:
                            return "Lion";
                          case 8:
                            return "Mountain Lion";
                          case 9:
                            return "Mavericks";
                          case 10:
                            return "Yosemite";
                          case 11:
                            return "El Capitan";
                          case 12:
                            return "Sierra";
                          case 13:
                            return "High Sierra";
                          case 14:
                            return "Mojave";
                          case 15:
                            return "Catalina";
                          default:
                            return;
                        }
                    }),
                    (e.getAndroidVersionName = function (e) {
                      var t = e
                        .split(".")
                        .splice(0, 2)
                        .map(function (e) {
                          return parseInt(e, 10) || 0;
                        });
                      if ((t.push(0), !(1 === t[0] && t[1] < 5)))
                        return 1 === t[0] && t[1] < 6
                          ? "Cupcake"
                          : 1 === t[0] && t[1] >= 6
                          ? "Donut"
                          : 2 === t[0] && t[1] < 2
                          ? "Eclair"
                          : 2 === t[0] && 2 === t[1]
                          ? "Froyo"
                          : 2 === t[0] && t[1] > 2
                          ? "Gingerbread"
                          : 3 === t[0]
                          ? "Honeycomb"
                          : 4 === t[0] && t[1] < 1
                          ? "Ice Cream Sandwich"
                          : 4 === t[0] && t[1] < 4
                          ? "Jelly Bean"
                          : 4 === t[0] && t[1] >= 4
                          ? "KitKat"
                          : 5 === t[0]
                          ? "Lollipop"
                          : 6 === t[0]
                          ? "Marshmallow"
                          : 7 === t[0]
                          ? "Nougat"
                          : 8 === t[0]
                          ? "Oreo"
                          : 9 === t[0]
                          ? "Pie"
                          : void 0;
                    }),
                    (e.getVersionPrecision = function (e) {
                      return e.split(".").length;
                    }),
                    (e.compareVersions = function (t, r, n) {
                      void 0 === n && (n = !1);
                      var a = e.getVersionPrecision(t),
                        i = e.getVersionPrecision(r),
                        s = Math.max(a, i),
                        o = 0,
                        c = e.map([t, r], function (t) {
                          var r = s - e.getVersionPrecision(t),
                            n = t + new Array(r + 1).join(".0");
                          return e
                            .map(n.split("."), function (e) {
                              return new Array(20 - e.length).join("0") + e;
                            })
                            .reverse();
                        });
                      for (n && (o = s - Math.min(a, i)), s -= 1; s >= o; ) {
                        if (c[0][s] > c[1][s]) return 1;
                        if (c[0][s] === c[1][s]) {
                          if (s === o) return 0;
                          s -= 1;
                        } else if (c[0][s] < c[1][s]) return -1;
                      }
                    }),
                    (e.map = function (e, t) {
                      var r,
                        n = [];
                      if (Array.prototype.map)
                        return Array.prototype.map.call(e, t);
                      for (r = 0; r < e.length; r += 1) n.push(t(e[r]));
                      return n;
                    }),
                    (e.find = function (e, t) {
                      var r, n;
                      if (Array.prototype.find)
                        return Array.prototype.find.call(e, t);
                      for (r = 0, n = e.length; r < n; r += 1) {
                        var a = e[r];
                        if (t(a, r)) return a;
                      }
                    }),
                    (e.assign = function (e) {
                      for (
                        var t,
                          r,
                          n = e,
                          a = arguments.length,
                          i = new Array(a > 1 ? a - 1 : 0),
                          s = 1;
                        s < a;
                        s++
                      )
                        i[s - 1] = arguments[s];
                      if (Object.assign)
                        return Object.assign.apply(Object, [e].concat(i));
                      var o = function () {
                        var e = i[t];
                        "object" == typeof e &&
                          null !== e &&
                          Object.keys(e).forEach(function (t) {
                            n[t] = e[t];
                          });
                      };
                      for (t = 0, r = i.length; t < r; t += 1) o();
                      return e;
                    }),
                    (e.getBrowserAlias = function (e) {
                      return n.BROWSER_ALIASES_MAP[e];
                    }),
                    (e.getBrowserTypeByAlias = function (e) {
                      return n.BROWSER_MAP[e] || "";
                    }),
                    e
                  );
                })();
              (t.default = a), (e.exports = t.default);
            },
            18: function (e, t, r) {
              "use strict";
              (t.__esModule = !0),
                (t.ENGINE_MAP =
                  t.OS_MAP =
                  t.PLATFORMS_MAP =
                  t.BROWSER_MAP =
                  t.BROWSER_ALIASES_MAP =
                    void 0),
                (t.BROWSER_ALIASES_MAP = {
                  "Amazon Silk": "amazon_silk",
                  "Android Browser": "android",
                  Bada: "bada",
                  BlackBerry: "blackberry",
                  Chrome: "chrome",
                  Chromium: "chromium",
                  Electron: "electron",
                  Epiphany: "epiphany",
                  Firefox: "firefox",
                  Focus: "focus",
                  Generic: "generic",
                  "Google Search": "google_search",
                  Googlebot: "googlebot",
                  "Internet Explorer": "ie",
                  "K-Meleon": "k_meleon",
                  Maxthon: "maxthon",
                  "Microsoft Edge": "edge",
                  "MZ Browser": "mz",
                  "NAVER Whale Browser": "naver",
                  Opera: "opera",
                  "Opera Coast": "opera_coast",
                  PhantomJS: "phantomjs",
                  Puffin: "puffin",
                  QupZilla: "qupzilla",
                  QQ: "qq",
                  QQLite: "qqlite",
                  Safari: "safari",
                  Sailfish: "sailfish",
                  "Samsung Internet for Android": "samsung_internet",
                  SeaMonkey: "seamonkey",
                  Sleipnir: "sleipnir",
                  Swing: "swing",
                  Tizen: "tizen",
                  "UC Browser": "uc",
                  Vivaldi: "vivaldi",
                  "WebOS Browser": "webos",
                  WeChat: "wechat",
                  "Yandex Browser": "yandex",
                  Roku: "roku",
                }),
                (t.BROWSER_MAP = {
                  amazon_silk: "Amazon Silk",
                  android: "Android Browser",
                  bada: "Bada",
                  blackberry: "BlackBerry",
                  chrome: "Chrome",
                  chromium: "Chromium",
                  electron: "Electron",
                  epiphany: "Epiphany",
                  firefox: "Firefox",
                  focus: "Focus",
                  generic: "Generic",
                  googlebot: "Googlebot",
                  google_search: "Google Search",
                  ie: "Internet Explorer",
                  k_meleon: "K-Meleon",
                  maxthon: "Maxthon",
                  edge: "Microsoft Edge",
                  mz: "MZ Browser",
                  naver: "NAVER Whale Browser",
                  opera: "Opera",
                  opera_coast: "Opera Coast",
                  phantomjs: "PhantomJS",
                  puffin: "Puffin",
                  qupzilla: "QupZilla",
                  qq: "QQ Browser",
                  qqlite: "QQ Browser Lite",
                  safari: "Safari",
                  sailfish: "Sailfish",
                  samsung_internet: "Samsung Internet for Android",
                  seamonkey: "SeaMonkey",
                  sleipnir: "Sleipnir",
                  swing: "Swing",
                  tizen: "Tizen",
                  uc: "UC Browser",
                  vivaldi: "Vivaldi",
                  webos: "WebOS Browser",
                  wechat: "WeChat",
                  yandex: "Yandex Browser",
                }),
                (t.PLATFORMS_MAP = {
                  tablet: "tablet",
                  mobile: "mobile",
                  desktop: "desktop",
                  tv: "tv",
                }),
                (t.OS_MAP = {
                  WindowsPhone: "Windows Phone",
                  Windows: "Windows",
                  MacOS: "macOS",
                  iOS: "iOS",
                  Android: "Android",
                  WebOS: "WebOS",
                  BlackBerry: "BlackBerry",
                  Bada: "Bada",
                  Tizen: "Tizen",
                  Linux: "Linux",
                  ChromeOS: "Chrome OS",
                  PlayStation4: "PlayStation 4",
                  Roku: "Roku",
                }),
                (t.ENGINE_MAP = {
                  EdgeHTML: "EdgeHTML",
                  Blink: "Blink",
                  Trident: "Trident",
                  Presto: "Presto",
                  Gecko: "Gecko",
                  WebKit: "WebKit",
                });
            },
            90: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n,
                a = (n = r(91)) && n.__esModule ? n : { default: n },
                i = r(18);
              function s(e, t) {
                for (var r = 0; r < t.length; r++) {
                  var n = t[r];
                  (n.enumerable = n.enumerable || !1),
                    (n.configurable = !0),
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(e, n.key, n);
                }
              }
              var o = (function () {
                function e() {}
                var t, r, n;
                return (
                  (e.getParser = function (e, t) {
                    if ((void 0 === t && (t = !1), "string" != typeof e))
                      throw new Error("UserAgent should be a string");
                    return new a.default(e, t);
                  }),
                  (e.parse = function (e) {
                    return new a.default(e).getResult();
                  }),
                  (t = e),
                  (n = [
                    {
                      key: "BROWSER_MAP",
                      get: function () {
                        return i.BROWSER_MAP;
                      },
                    },
                    {
                      key: "ENGINE_MAP",
                      get: function () {
                        return i.ENGINE_MAP;
                      },
                    },
                    {
                      key: "OS_MAP",
                      get: function () {
                        return i.OS_MAP;
                      },
                    },
                    {
                      key: "PLATFORMS_MAP",
                      get: function () {
                        return i.PLATFORMS_MAP;
                      },
                    },
                  ]),
                  (r = null) && s(t.prototype, r),
                  n && s(t, n),
                  e
                );
              })();
              (t.default = o), (e.exports = t.default);
            },
            91: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n = c(r(92)),
                a = c(r(93)),
                i = c(r(94)),
                s = c(r(95)),
                o = c(r(17));
              function c(e) {
                return e && e.__esModule ? e : { default: e };
              }
              var d = (function () {
                function e(e, t) {
                  if ((void 0 === t && (t = !1), null == e || "" === e))
                    throw new Error("UserAgent parameter can't be empty");
                  (this._ua = e),
                    (this.parsedResult = {}),
                    !0 !== t && this.parse();
                }
                var t = e.prototype;
                return (
                  (t.getUA = function () {
                    return this._ua;
                  }),
                  (t.test = function (e) {
                    return e.test(this._ua);
                  }),
                  (t.parseBrowser = function () {
                    var e = this;
                    this.parsedResult.browser = {};
                    var t = o.default.find(n.default, function (t) {
                      if ("function" == typeof t.test) return t.test(e);
                      if (t.test instanceof Array)
                        return t.test.some(function (t) {
                          return e.test(t);
                        });
                      throw new Error("Browser's test function is not valid");
                    });
                    return (
                      t &&
                        (this.parsedResult.browser = t.describe(this.getUA())),
                      this.parsedResult.browser
                    );
                  }),
                  (t.getBrowser = function () {
                    return this.parsedResult.browser
                      ? this.parsedResult.browser
                      : this.parseBrowser();
                  }),
                  (t.getBrowserName = function (e) {
                    return e
                      ? String(this.getBrowser().name).toLowerCase() || ""
                      : this.getBrowser().name || "";
                  }),
                  (t.getBrowserVersion = function () {
                    return this.getBrowser().version;
                  }),
                  (t.getOS = function () {
                    return this.parsedResult.os
                      ? this.parsedResult.os
                      : this.parseOS();
                  }),
                  (t.parseOS = function () {
                    var e = this;
                    this.parsedResult.os = {};
                    var t = o.default.find(a.default, function (t) {
                      if ("function" == typeof t.test) return t.test(e);
                      if (t.test instanceof Array)
                        return t.test.some(function (t) {
                          return e.test(t);
                        });
                      throw new Error("Browser's test function is not valid");
                    });
                    return (
                      t && (this.parsedResult.os = t.describe(this.getUA())),
                      this.parsedResult.os
                    );
                  }),
                  (t.getOSName = function (e) {
                    var t = this.getOS().name;
                    return e ? String(t).toLowerCase() || "" : t || "";
                  }),
                  (t.getOSVersion = function () {
                    return this.getOS().version;
                  }),
                  (t.getPlatform = function () {
                    return this.parsedResult.platform
                      ? this.parsedResult.platform
                      : this.parsePlatform();
                  }),
                  (t.getPlatformType = function (e) {
                    void 0 === e && (e = !1);
                    var t = this.getPlatform().type;
                    return e ? String(t).toLowerCase() || "" : t || "";
                  }),
                  (t.parsePlatform = function () {
                    var e = this;
                    this.parsedResult.platform = {};
                    var t = o.default.find(i.default, function (t) {
                      if ("function" == typeof t.test) return t.test(e);
                      if (t.test instanceof Array)
                        return t.test.some(function (t) {
                          return e.test(t);
                        });
                      throw new Error("Browser's test function is not valid");
                    });
                    return (
                      t &&
                        (this.parsedResult.platform = t.describe(this.getUA())),
                      this.parsedResult.platform
                    );
                  }),
                  (t.getEngine = function () {
                    return this.parsedResult.engine
                      ? this.parsedResult.engine
                      : this.parseEngine();
                  }),
                  (t.getEngineName = function (e) {
                    return e
                      ? String(this.getEngine().name).toLowerCase() || ""
                      : this.getEngine().name || "";
                  }),
                  (t.parseEngine = function () {
                    var e = this;
                    this.parsedResult.engine = {};
                    var t = o.default.find(s.default, function (t) {
                      if ("function" == typeof t.test) return t.test(e);
                      if (t.test instanceof Array)
                        return t.test.some(function (t) {
                          return e.test(t);
                        });
                      throw new Error("Browser's test function is not valid");
                    });
                    return (
                      t &&
                        (this.parsedResult.engine = t.describe(this.getUA())),
                      this.parsedResult.engine
                    );
                  }),
                  (t.parse = function () {
                    return (
                      this.parseBrowser(),
                      this.parseOS(),
                      this.parsePlatform(),
                      this.parseEngine(),
                      this
                    );
                  }),
                  (t.getResult = function () {
                    return o.default.assign({}, this.parsedResult);
                  }),
                  (t.satisfies = function (e) {
                    var t = this,
                      r = {},
                      n = 0,
                      a = {},
                      i = 0;
                    if (
                      (Object.keys(e).forEach(function (t) {
                        var s = e[t];
                        "string" == typeof s
                          ? ((a[t] = s), (i += 1))
                          : "object" == typeof s && ((r[t] = s), (n += 1));
                      }),
                      n > 0)
                    ) {
                      var s = Object.keys(r),
                        c = o.default.find(s, function (e) {
                          return t.isOS(e);
                        });
                      if (c) {
                        var d = this.satisfies(r[c]);
                        if (void 0 !== d) return d;
                      }
                      var p = o.default.find(s, function (e) {
                        return t.isPlatform(e);
                      });
                      if (p) {
                        var l = this.satisfies(r[p]);
                        if (void 0 !== l) return l;
                      }
                    }
                    if (i > 0) {
                      var u = Object.keys(a),
                        h = o.default.find(u, function (e) {
                          return t.isBrowser(e, !0);
                        });
                      if (void 0 !== h) return this.compareVersion(a[h]);
                    }
                  }),
                  (t.isBrowser = function (e, t) {
                    void 0 === t && (t = !1);
                    var r = this.getBrowserName().toLowerCase(),
                      n = e.toLowerCase(),
                      a = o.default.getBrowserTypeByAlias(n);
                    return t && a && (n = a.toLowerCase()), n === r;
                  }),
                  (t.compareVersion = function (e) {
                    var t = [0],
                      r = e,
                      n = !1,
                      a = this.getBrowserVersion();
                    if ("string" == typeof a)
                      return (
                        ">" === e[0] || "<" === e[0]
                          ? ((r = e.substr(1)),
                            "=" === e[1]
                              ? ((n = !0), (r = e.substr(2)))
                              : (t = []),
                            ">" === e[0] ? t.push(1) : t.push(-1))
                          : "=" === e[0]
                          ? (r = e.substr(1))
                          : "~" === e[0] && ((n = !0), (r = e.substr(1))),
                        t.indexOf(o.default.compareVersions(a, r, n)) > -1
                      );
                  }),
                  (t.isOS = function (e) {
                    return this.getOSName(!0) === String(e).toLowerCase();
                  }),
                  (t.isPlatform = function (e) {
                    return this.getPlatformType(!0) === String(e).toLowerCase();
                  }),
                  (t.isEngine = function (e) {
                    return this.getEngineName(!0) === String(e).toLowerCase();
                  }),
                  (t.is = function (e, t) {
                    return (
                      void 0 === t && (t = !1),
                      this.isBrowser(e, t) || this.isOS(e) || this.isPlatform(e)
                    );
                  }),
                  (t.some = function (e) {
                    var t = this;
                    return (
                      void 0 === e && (e = []),
                      e.some(function (e) {
                        return t.is(e);
                      })
                    );
                  }),
                  e
                );
              })();
              (t.default = d), (e.exports = t.default);
            },
            92: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n,
                a = (n = r(17)) && n.__esModule ? n : { default: n },
                i = /version\/(\d+(\.?_?\d+)+)/i,
                s = [
                  {
                    test: [/googlebot/i],
                    describe: function (e) {
                      var t = { name: "Googlebot" },
                        r =
                          a.default.getFirstMatch(
                            /googlebot\/(\d+(\.\d+))/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/opera/i],
                    describe: function (e) {
                      var t = { name: "Opera" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:opera)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/opr\/|opios/i],
                    describe: function (e) {
                      var t = { name: "Opera" },
                        r =
                          a.default.getFirstMatch(
                            /(?:opr|opios)[\s/](\S+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/SamsungBrowser/i],
                    describe: function (e) {
                      var t = { name: "Samsung Internet for Android" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/Whale/i],
                    describe: function (e) {
                      var t = { name: "NAVER Whale Browser" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:whale)[\s/](\d+(?:\.\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/MZBrowser/i],
                    describe: function (e) {
                      var t = { name: "MZ Browser" },
                        r =
                          a.default.getFirstMatch(
                            /(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/focus/i],
                    describe: function (e) {
                      var t = { name: "Focus" },
                        r =
                          a.default.getFirstMatch(
                            /(?:focus)[\s/](\d+(?:\.\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/swing/i],
                    describe: function (e) {
                      var t = { name: "Swing" },
                        r =
                          a.default.getFirstMatch(
                            /(?:swing)[\s/](\d+(?:\.\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/coast/i],
                    describe: function (e) {
                      var t = { name: "Opera Coast" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:coast)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/opt\/\d+(?:.?_?\d+)+/i],
                    describe: function (e) {
                      var t = { name: "Opera Touch" },
                        r =
                          a.default.getFirstMatch(
                            /(?:opt)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/yabrowser/i],
                    describe: function (e) {
                      var t = { name: "Yandex Browser" },
                        r =
                          a.default.getFirstMatch(
                            /(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/ucbrowser/i],
                    describe: function (e) {
                      var t = { name: "UC Browser" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/Maxthon|mxios/i],
                    describe: function (e) {
                      var t = { name: "Maxthon" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/epiphany/i],
                    describe: function (e) {
                      var t = { name: "Epiphany" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/puffin/i],
                    describe: function (e) {
                      var t = { name: "Puffin" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/sleipnir/i],
                    describe: function (e) {
                      var t = { name: "Sleipnir" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/k-meleon/i],
                    describe: function (e) {
                      var t = { name: "K-Meleon" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/micromessenger/i],
                    describe: function (e) {
                      var t = { name: "WeChat" },
                        r =
                          a.default.getFirstMatch(
                            /(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/qqbrowser/i],
                    describe: function (e) {
                      var t = {
                          name: /qqbrowserlite/i.test(e)
                            ? "QQ Browser Lite"
                            : "QQ Browser",
                        },
                        r =
                          a.default.getFirstMatch(
                            /(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/msie|trident/i],
                    describe: function (e) {
                      var t = { name: "Internet Explorer" },
                        r = a.default.getFirstMatch(
                          /(?:msie |rv:)(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/\sedg\//i],
                    describe: function (e) {
                      var t = { name: "Microsoft Edge" },
                        r = a.default.getFirstMatch(
                          /\sedg\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/edg([ea]|ios)/i],
                    describe: function (e) {
                      var t = { name: "Microsoft Edge" },
                        r = a.default.getSecondMatch(
                          /edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/vivaldi/i],
                    describe: function (e) {
                      var t = { name: "Vivaldi" },
                        r = a.default.getFirstMatch(
                          /vivaldi\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/seamonkey/i],
                    describe: function (e) {
                      var t = { name: "SeaMonkey" },
                        r = a.default.getFirstMatch(
                          /seamonkey\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/sailfish/i],
                    describe: function (e) {
                      var t = { name: "Sailfish" },
                        r = a.default.getFirstMatch(
                          /sailfish\s?browser\/(\d+(\.\d+)?)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/silk/i],
                    describe: function (e) {
                      var t = { name: "Amazon Silk" },
                        r = a.default.getFirstMatch(
                          /silk\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/phantom/i],
                    describe: function (e) {
                      var t = { name: "PhantomJS" },
                        r = a.default.getFirstMatch(
                          /phantomjs\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/slimerjs/i],
                    describe: function (e) {
                      var t = { name: "SlimerJS" },
                        r = a.default.getFirstMatch(
                          /slimerjs\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
                    describe: function (e) {
                      var t = { name: "BlackBerry" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/(web|hpw)[o0]s/i],
                    describe: function (e) {
                      var t = { name: "WebOS Browser" },
                        r =
                          a.default.getFirstMatch(i, e) ||
                          a.default.getFirstMatch(
                            /w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,
                            e
                          );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/bada/i],
                    describe: function (e) {
                      var t = { name: "Bada" },
                        r = a.default.getFirstMatch(
                          /dolfin\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/tizen/i],
                    describe: function (e) {
                      var t = { name: "Tizen" },
                        r =
                          a.default.getFirstMatch(
                            /(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/qupzilla/i],
                    describe: function (e) {
                      var t = { name: "QupZilla" },
                        r =
                          a.default.getFirstMatch(
                            /(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/firefox|iceweasel|fxios/i],
                    describe: function (e) {
                      var t = { name: "Firefox" },
                        r = a.default.getFirstMatch(
                          /(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/electron/i],
                    describe: function (e) {
                      var t = { name: "Electron" },
                        r = a.default.getFirstMatch(
                          /(?:electron)\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/MiuiBrowser/i],
                    describe: function (e) {
                      var t = { name: "Miui" },
                        r = a.default.getFirstMatch(
                          /(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/chromium/i],
                    describe: function (e) {
                      var t = { name: "Chromium" },
                        r =
                          a.default.getFirstMatch(
                            /(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,
                            e
                          ) || a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/chrome|crios|crmo/i],
                    describe: function (e) {
                      var t = { name: "Chrome" },
                        r = a.default.getFirstMatch(
                          /(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/GSA/i],
                    describe: function (e) {
                      var t = { name: "Google Search" },
                        r = a.default.getFirstMatch(
                          /(?:GSA)\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: function (e) {
                      var t = !e.test(/like android/i),
                        r = e.test(/android/i);
                      return t && r;
                    },
                    describe: function (e) {
                      var t = { name: "Android Browser" },
                        r = a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/playstation 4/i],
                    describe: function (e) {
                      var t = { name: "PlayStation 4" },
                        r = a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/safari|applewebkit/i],
                    describe: function (e) {
                      var t = { name: "Safari" },
                        r = a.default.getFirstMatch(i, e);
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/.*/i],
                    describe: function (e) {
                      var t =
                        -1 !== e.search("\\(")
                          ? /^(.*)\/(.*)[ \t]\((.*)/
                          : /^(.*)\/(.*) /;
                      return {
                        name: a.default.getFirstMatch(t, e),
                        version: a.default.getSecondMatch(t, e),
                      };
                    },
                  },
                ];
              (t.default = s), (e.exports = t.default);
            },
            93: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n,
                a = (n = r(17)) && n.__esModule ? n : { default: n },
                i = r(18),
                s = [
                  {
                    test: [/Roku\/DVP/],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                        /Roku\/DVP-(\d+\.\d+)/i,
                        e
                      );
                      return { name: i.OS_MAP.Roku, version: t };
                    },
                  },
                  {
                    test: [/windows phone/i],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                        /windows phone (?:os)?\s?(\d+(\.\d+)*)/i,
                        e
                      );
                      return { name: i.OS_MAP.WindowsPhone, version: t };
                    },
                  },
                  {
                    test: [/windows /i],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                          /Windows ((NT|XP)( \d\d?.\d)?)/i,
                          e
                        ),
                        r = a.default.getWindowsVersionName(t);
                      return {
                        name: i.OS_MAP.Windows,
                        version: t,
                        versionName: r,
                      };
                    },
                  },
                  {
                    test: [/Macintosh(.*?) FxiOS(.*?)\//],
                    describe: function (e) {
                      var t = { name: i.OS_MAP.iOS },
                        r = a.default.getSecondMatch(
                          /(Version\/)(\d[\d.]+)/,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/macintosh/i],
                    describe: function (e) {
                      var t = a.default
                          .getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, e)
                          .replace(/[_\s]/g, "."),
                        r = a.default.getMacOSVersionName(t),
                        n = { name: i.OS_MAP.MacOS, version: t };
                      return r && (n.versionName = r), n;
                    },
                  },
                  {
                    test: [/(ipod|iphone|ipad)/i],
                    describe: function (e) {
                      var t = a.default
                        .getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, e)
                        .replace(/[_\s]/g, ".");
                      return { name: i.OS_MAP.iOS, version: t };
                    },
                  },
                  {
                    test: function (e) {
                      var t = !e.test(/like android/i),
                        r = e.test(/android/i);
                      return t && r;
                    },
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                          /android[\s/-](\d+(\.\d+)*)/i,
                          e
                        ),
                        r = a.default.getAndroidVersionName(t),
                        n = { name: i.OS_MAP.Android, version: t };
                      return r && (n.versionName = r), n;
                    },
                  },
                  {
                    test: [/(web|hpw)[o0]s/i],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                          /(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,
                          e
                        ),
                        r = { name: i.OS_MAP.WebOS };
                      return t && t.length && (r.version = t), r;
                    },
                  },
                  {
                    test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
                    describe: function (e) {
                      var t =
                        a.default.getFirstMatch(
                          /rim\stablet\sos\s(\d+(\.\d+)*)/i,
                          e
                        ) ||
                        a.default.getFirstMatch(
                          /blackberry\d+\/(\d+([_\s]\d+)*)/i,
                          e
                        ) ||
                        a.default.getFirstMatch(/\bbb(\d+)/i, e);
                      return { name: i.OS_MAP.BlackBerry, version: t };
                    },
                  },
                  {
                    test: [/bada/i],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                        /bada\/(\d+(\.\d+)*)/i,
                        e
                      );
                      return { name: i.OS_MAP.Bada, version: t };
                    },
                  },
                  {
                    test: [/tizen/i],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                        /tizen[/\s](\d+(\.\d+)*)/i,
                        e
                      );
                      return { name: i.OS_MAP.Tizen, version: t };
                    },
                  },
                  {
                    test: [/linux/i],
                    describe: function () {
                      return { name: i.OS_MAP.Linux };
                    },
                  },
                  {
                    test: [/CrOS/],
                    describe: function () {
                      return { name: i.OS_MAP.ChromeOS };
                    },
                  },
                  {
                    test: [/PlayStation 4/],
                    describe: function (e) {
                      var t = a.default.getFirstMatch(
                        /PlayStation 4[/\s](\d+(\.\d+)*)/i,
                        e
                      );
                      return { name: i.OS_MAP.PlayStation4, version: t };
                    },
                  },
                ];
              (t.default = s), (e.exports = t.default);
            },
            94: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n,
                a = (n = r(17)) && n.__esModule ? n : { default: n },
                i = r(18),
                s = [
                  {
                    test: [/googlebot/i],
                    describe: function () {
                      return { type: "bot", vendor: "Google" };
                    },
                  },
                  {
                    test: [/huawei/i],
                    describe: function (e) {
                      var t =
                          a.default.getFirstMatch(/(can-l01)/i, e) && "Nova",
                        r = { type: i.PLATFORMS_MAP.mobile, vendor: "Huawei" };
                      return t && (r.model = t), r;
                    },
                  },
                  {
                    test: [/nexus\s*(?:7|8|9|10).*/i],
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tablet, vendor: "Nexus" };
                    },
                  },
                  {
                    test: [/ipad/i],
                    describe: function () {
                      return {
                        type: i.PLATFORMS_MAP.tablet,
                        vendor: "Apple",
                        model: "iPad",
                      };
                    },
                  },
                  {
                    test: [/Macintosh(.*?) FxiOS(.*?)\//],
                    describe: function () {
                      return {
                        type: i.PLATFORMS_MAP.tablet,
                        vendor: "Apple",
                        model: "iPad",
                      };
                    },
                  },
                  {
                    test: [/kftt build/i],
                    describe: function () {
                      return {
                        type: i.PLATFORMS_MAP.tablet,
                        vendor: "Amazon",
                        model: "Kindle Fire HD 7",
                      };
                    },
                  },
                  {
                    test: [/silk/i],
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tablet, vendor: "Amazon" };
                    },
                  },
                  {
                    test: [/tablet(?! pc)/i],
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tablet };
                    },
                  },
                  {
                    test: function (e) {
                      var t = e.test(/ipod|iphone/i),
                        r = e.test(/like (ipod|iphone)/i);
                      return t && !r;
                    },
                    describe: function (e) {
                      var t = a.default.getFirstMatch(/(ipod|iphone)/i, e);
                      return {
                        type: i.PLATFORMS_MAP.mobile,
                        vendor: "Apple",
                        model: t,
                      };
                    },
                  },
                  {
                    test: [/nexus\s*[0-6].*/i, /galaxy nexus/i],
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.mobile, vendor: "Nexus" };
                    },
                  },
                  {
                    test: [/[^-]mobi/i],
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.mobile };
                    },
                  },
                  {
                    test: function (e) {
                      return "blackberry" === e.getBrowserName(!0);
                    },
                    describe: function () {
                      return {
                        type: i.PLATFORMS_MAP.mobile,
                        vendor: "BlackBerry",
                      };
                    },
                  },
                  {
                    test: function (e) {
                      return "bada" === e.getBrowserName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.mobile };
                    },
                  },
                  {
                    test: function (e) {
                      return "windows phone" === e.getBrowserName();
                    },
                    describe: function () {
                      return {
                        type: i.PLATFORMS_MAP.mobile,
                        vendor: "Microsoft",
                      };
                    },
                  },
                  {
                    test: function (e) {
                      var t = Number(String(e.getOSVersion()).split(".")[0]);
                      return "android" === e.getOSName(!0) && t >= 3;
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tablet };
                    },
                  },
                  {
                    test: function (e) {
                      return "android" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.mobile };
                    },
                  },
                  {
                    test: function (e) {
                      return "macos" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.desktop, vendor: "Apple" };
                    },
                  },
                  {
                    test: function (e) {
                      return "windows" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.desktop };
                    },
                  },
                  {
                    test: function (e) {
                      return "linux" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.desktop };
                    },
                  },
                  {
                    test: function (e) {
                      return "playstation 4" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tv };
                    },
                  },
                  {
                    test: function (e) {
                      return "roku" === e.getOSName(!0);
                    },
                    describe: function () {
                      return { type: i.PLATFORMS_MAP.tv };
                    },
                  },
                ];
              (t.default = s), (e.exports = t.default);
            },
            95: function (e, t, r) {
              "use strict";
              (t.__esModule = !0), (t.default = void 0);
              var n,
                a = (n = r(17)) && n.__esModule ? n : { default: n },
                i = r(18),
                s = [
                  {
                    test: function (e) {
                      return "microsoft edge" === e.getBrowserName(!0);
                    },
                    describe: function (e) {
                      if (/\sedg\//i.test(e))
                        return { name: i.ENGINE_MAP.Blink };
                      var t = a.default.getFirstMatch(
                        /edge\/(\d+(\.?_?\d+)+)/i,
                        e
                      );
                      return { name: i.ENGINE_MAP.EdgeHTML, version: t };
                    },
                  },
                  {
                    test: [/trident/i],
                    describe: function (e) {
                      var t = { name: i.ENGINE_MAP.Trident },
                        r = a.default.getFirstMatch(
                          /trident\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: function (e) {
                      return e.test(/presto/i);
                    },
                    describe: function (e) {
                      var t = { name: i.ENGINE_MAP.Presto },
                        r = a.default.getFirstMatch(
                          /presto\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: function (e) {
                      var t = e.test(/gecko/i),
                        r = e.test(/like gecko/i);
                      return t && !r;
                    },
                    describe: function (e) {
                      var t = { name: i.ENGINE_MAP.Gecko },
                        r = a.default.getFirstMatch(
                          /gecko\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                  {
                    test: [/(apple)?webkit\/537\.36/i],
                    describe: function () {
                      return { name: i.ENGINE_MAP.Blink };
                    },
                  },
                  {
                    test: [/(apple)?webkit/i],
                    describe: function (e) {
                      var t = { name: i.ENGINE_MAP.WebKit },
                        r = a.default.getFirstMatch(
                          /webkit\/(\d+(\.?_?\d+)+)/i,
                          e
                        );
                      return r && (t.version = r), t;
                    },
                  },
                ];
              (t.default = s), (e.exports = t.default);
            },
          });
        },
        452: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(8269),
            r(8214),
            r(888),
            r(5109),
            (function () {
              var e = n,
                t = e.lib.BlockCipher,
                r = e.algo,
                a = [],
                i = [],
                s = [],
                o = [],
                c = [],
                d = [],
                p = [],
                l = [],
                u = [],
                h = [];
              !(function () {
                for (var e = [], t = 0; t < 256; t++)
                  e[t] = t < 128 ? t << 1 : (t << 1) ^ 283;
                var r = 0,
                  n = 0;
                for (t = 0; t < 256; t++) {
                  var m = n ^ (n << 1) ^ (n << 2) ^ (n << 3) ^ (n << 4);
                  (m = (m >>> 8) ^ (255 & m) ^ 99), (a[r] = m), (i[m] = r);
                  var f = e[r],
                    _ = e[f],
                    g = e[_],
                    v = (257 * e[m]) ^ (16843008 * m);
                  (s[r] = (v << 24) | (v >>> 8)),
                    (o[r] = (v << 16) | (v >>> 16)),
                    (c[r] = (v << 8) | (v >>> 24)),
                    (d[r] = v),
                    (v =
                      (16843009 * g) ^
                      (65537 * _) ^
                      (257 * f) ^
                      (16843008 * r)),
                    (p[m] = (v << 24) | (v >>> 8)),
                    (l[m] = (v << 16) | (v >>> 16)),
                    (u[m] = (v << 8) | (v >>> 24)),
                    (h[m] = v),
                    r
                      ? ((r = f ^ e[e[e[g ^ f]]]), (n ^= e[e[n]]))
                      : (r = n = 1);
                }
              })();
              var m = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
                f = (r.AES = t.extend({
                  _doReset: function () {
                    if (!this._nRounds || this._keyPriorReset !== this._key) {
                      for (
                        var e = (this._keyPriorReset = this._key),
                          t = e.words,
                          r = e.sigBytes / 4,
                          n = 4 * ((this._nRounds = r + 6) + 1),
                          i = (this._keySchedule = []),
                          s = 0;
                        s < n;
                        s++
                      )
                        s < r
                          ? (i[s] = t[s])
                          : ((d = i[s - 1]),
                            s % r
                              ? r > 6 &&
                                s % r == 4 &&
                                (d =
                                  (a[d >>> 24] << 24) |
                                  (a[(d >>> 16) & 255] << 16) |
                                  (a[(d >>> 8) & 255] << 8) |
                                  a[255 & d])
                              : ((d =
                                  (a[(d = (d << 8) | (d >>> 24)) >>> 24] <<
                                    24) |
                                  (a[(d >>> 16) & 255] << 16) |
                                  (a[(d >>> 8) & 255] << 8) |
                                  a[255 & d]),
                                (d ^= m[(s / r) | 0] << 24)),
                            (i[s] = i[s - r] ^ d));
                      for (
                        var o = (this._invKeySchedule = []), c = 0;
                        c < n;
                        c++
                      ) {
                        if (((s = n - c), c % 4)) var d = i[s];
                        else d = i[s - 4];
                        o[c] =
                          c < 4 || s <= 4
                            ? d
                            : p[a[d >>> 24]] ^
                              l[a[(d >>> 16) & 255]] ^
                              u[a[(d >>> 8) & 255]] ^
                              h[a[255 & d]];
                      }
                    }
                  },
                  encryptBlock: function (e, t) {
                    this._doCryptBlock(e, t, this._keySchedule, s, o, c, d, a);
                  },
                  decryptBlock: function (e, t) {
                    var r = e[t + 1];
                    (e[t + 1] = e[t + 3]),
                      (e[t + 3] = r),
                      this._doCryptBlock(
                        e,
                        t,
                        this._invKeySchedule,
                        p,
                        l,
                        u,
                        h,
                        i
                      ),
                      (r = e[t + 1]),
                      (e[t + 1] = e[t + 3]),
                      (e[t + 3] = r);
                  },
                  _doCryptBlock: function (e, t, r, n, a, i, s, o) {
                    for (
                      var c = this._nRounds,
                        d = e[t] ^ r[0],
                        p = e[t + 1] ^ r[1],
                        l = e[t + 2] ^ r[2],
                        u = e[t + 3] ^ r[3],
                        h = 4,
                        m = 1;
                      m < c;
                      m++
                    ) {
                      var f =
                          n[d >>> 24] ^
                          a[(p >>> 16) & 255] ^
                          i[(l >>> 8) & 255] ^
                          s[255 & u] ^
                          r[h++],
                        _ =
                          n[p >>> 24] ^
                          a[(l >>> 16) & 255] ^
                          i[(u >>> 8) & 255] ^
                          s[255 & d] ^
                          r[h++],
                        g =
                          n[l >>> 24] ^
                          a[(u >>> 16) & 255] ^
                          i[(d >>> 8) & 255] ^
                          s[255 & p] ^
                          r[h++],
                        v =
                          n[u >>> 24] ^
                          a[(d >>> 16) & 255] ^
                          i[(p >>> 8) & 255] ^
                          s[255 & l] ^
                          r[h++];
                      (d = f), (p = _), (l = g), (u = v);
                    }
                    (f =
                      ((o[d >>> 24] << 24) |
                        (o[(p >>> 16) & 255] << 16) |
                        (o[(l >>> 8) & 255] << 8) |
                        o[255 & u]) ^
                      r[h++]),
                      (_ =
                        ((o[p >>> 24] << 24) |
                          (o[(l >>> 16) & 255] << 16) |
                          (o[(u >>> 8) & 255] << 8) |
                          o[255 & d]) ^
                        r[h++]),
                      (g =
                        ((o[l >>> 24] << 24) |
                          (o[(u >>> 16) & 255] << 16) |
                          (o[(d >>> 8) & 255] << 8) |
                          o[255 & p]) ^
                        r[h++]),
                      (v =
                        ((o[u >>> 24] << 24) |
                          (o[(d >>> 16) & 255] << 16) |
                          (o[(p >>> 8) & 255] << 8) |
                          o[255 & l]) ^
                        r[h++]),
                      (e[t] = f),
                      (e[t + 1] = _),
                      (e[t + 2] = g),
                      (e[t + 3] = v);
                  },
                  keySize: 8,
                }));
              e.AES = t._createHelper(f);
            })(),
            n.AES);
        },
        5109: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(888),
            void (
              n.lib.Cipher ||
              (function (e) {
                var t = n,
                  r = t.lib,
                  a = r.Base,
                  i = r.WordArray,
                  s = r.BufferedBlockAlgorithm,
                  o = t.enc,
                  c = (o.Utf8, o.Base64),
                  d = t.algo.EvpKDF,
                  p = (r.Cipher = s.extend({
                    cfg: a.extend(),
                    createEncryptor: function (e, t) {
                      return this.create(this._ENC_XFORM_MODE, e, t);
                    },
                    createDecryptor: function (e, t) {
                      return this.create(this._DEC_XFORM_MODE, e, t);
                    },
                    init: function (e, t, r) {
                      (this.cfg = this.cfg.extend(r)),
                        (this._xformMode = e),
                        (this._key = t),
                        this.reset();
                    },
                    reset: function () {
                      s.reset.call(this), this._doReset();
                    },
                    process: function (e) {
                      return this._append(e), this._process();
                    },
                    finalize: function (e) {
                      return e && this._append(e), this._doFinalize();
                    },
                    keySize: 4,
                    ivSize: 4,
                    _ENC_XFORM_MODE: 1,
                    _DEC_XFORM_MODE: 2,
                    _createHelper: (function () {
                      function e(e) {
                        return "string" == typeof e ? y : g;
                      }
                      return function (t) {
                        return {
                          encrypt: function (r, n, a) {
                            return e(n).encrypt(t, r, n, a);
                          },
                          decrypt: function (r, n, a) {
                            return e(n).decrypt(t, r, n, a);
                          },
                        };
                      };
                    })(),
                  })),
                  l =
                    ((r.StreamCipher = p.extend({
                      _doFinalize: function () {
                        return this._process(!0);
                      },
                      blockSize: 1,
                    })),
                    (t.mode = {})),
                  u = (r.BlockCipherMode = a.extend({
                    createEncryptor: function (e, t) {
                      return this.Encryptor.create(e, t);
                    },
                    createDecryptor: function (e, t) {
                      return this.Decryptor.create(e, t);
                    },
                    init: function (e, t) {
                      (this._cipher = e), (this._iv = t);
                    },
                  })),
                  h = (l.CBC = (function () {
                    var t = u.extend();
                    function r(t, r, n) {
                      var a,
                        i = this._iv;
                      i ? ((a = i), (this._iv = e)) : (a = this._prevBlock);
                      for (var s = 0; s < n; s++) t[r + s] ^= a[s];
                    }
                    return (
                      (t.Encryptor = t.extend({
                        processBlock: function (e, t) {
                          var n = this._cipher,
                            a = n.blockSize;
                          r.call(this, e, t, a),
                            n.encryptBlock(e, t),
                            (this._prevBlock = e.slice(t, t + a));
                        },
                      })),
                      (t.Decryptor = t.extend({
                        processBlock: function (e, t) {
                          var n = this._cipher,
                            a = n.blockSize,
                            i = e.slice(t, t + a);
                          n.decryptBlock(e, t),
                            r.call(this, e, t, a),
                            (this._prevBlock = i);
                        },
                      })),
                      t
                    );
                  })()),
                  m = ((t.pad = {}).Pkcs7 = {
                    pad: function (e, t) {
                      for (
                        var r = 4 * t,
                          n = r - (e.sigBytes % r),
                          a = (n << 24) | (n << 16) | (n << 8) | n,
                          s = [],
                          o = 0;
                        o < n;
                        o += 4
                      )
                        s.push(a);
                      var c = i.create(s, n);
                      e.concat(c);
                    },
                    unpad: function (e) {
                      var t = 255 & e.words[(e.sigBytes - 1) >>> 2];
                      e.sigBytes -= t;
                    },
                  }),
                  f =
                    ((r.BlockCipher = p.extend({
                      cfg: p.cfg.extend({ mode: h, padding: m }),
                      reset: function () {
                        var e;
                        p.reset.call(this);
                        var t = this.cfg,
                          r = t.iv,
                          n = t.mode;
                        this._xformMode == this._ENC_XFORM_MODE
                          ? (e = n.createEncryptor)
                          : ((e = n.createDecryptor),
                            (this._minBufferSize = 1)),
                          this._mode && this._mode.__creator == e
                            ? this._mode.init(this, r && r.words)
                            : ((this._mode = e.call(n, this, r && r.words)),
                              (this._mode.__creator = e));
                      },
                      _doProcessBlock: function (e, t) {
                        this._mode.processBlock(e, t);
                      },
                      _doFinalize: function () {
                        var e,
                          t = this.cfg.padding;
                        return (
                          this._xformMode == this._ENC_XFORM_MODE
                            ? (t.pad(this._data, this.blockSize),
                              (e = this._process(!0)))
                            : ((e = this._process(!0)), t.unpad(e)),
                          e
                        );
                      },
                      blockSize: 4,
                    })),
                    (r.CipherParams = a.extend({
                      init: function (e) {
                        this.mixIn(e);
                      },
                      toString: function (e) {
                        return (e || this.formatter).stringify(this);
                      },
                    }))),
                  _ = ((t.format = {}).OpenSSL = {
                    stringify: function (e) {
                      var t = e.ciphertext,
                        r = e.salt;
                      return (
                        r
                          ? i
                              .create([1398893684, 1701076831])
                              .concat(r)
                              .concat(t)
                          : t
                      ).toString(c);
                    },
                    parse: function (e) {
                      var t,
                        r = c.parse(e),
                        n = r.words;
                      return (
                        1398893684 == n[0] &&
                          1701076831 == n[1] &&
                          ((t = i.create(n.slice(2, 4))),
                          n.splice(0, 4),
                          (r.sigBytes -= 16)),
                        f.create({ ciphertext: r, salt: t })
                      );
                    },
                  }),
                  g = (r.SerializableCipher = a.extend({
                    cfg: a.extend({ format: _ }),
                    encrypt: function (e, t, r, n) {
                      n = this.cfg.extend(n);
                      var a = e.createEncryptor(r, n),
                        i = a.finalize(t),
                        s = a.cfg;
                      return f.create({
                        ciphertext: i,
                        key: r,
                        iv: s.iv,
                        algorithm: e,
                        mode: s.mode,
                        padding: s.padding,
                        blockSize: e.blockSize,
                        formatter: n.format,
                      });
                    },
                    decrypt: function (e, t, r, n) {
                      return (
                        (n = this.cfg.extend(n)),
                        (t = this._parse(t, n.format)),
                        e.createDecryptor(r, n).finalize(t.ciphertext)
                      );
                    },
                    _parse: function (e, t) {
                      return "string" == typeof e ? t.parse(e, this) : e;
                    },
                  })),
                  v = ((t.kdf = {}).OpenSSL = {
                    execute: function (e, t, r, n) {
                      n || (n = i.random(8));
                      var a = d.create({ keySize: t + r }).compute(e, n),
                        s = i.create(a.words.slice(t), 4 * r);
                      return (
                        (a.sigBytes = 4 * t),
                        f.create({ key: a, iv: s, salt: n })
                      );
                    },
                  }),
                  y = (r.PasswordBasedCipher = g.extend({
                    cfg: g.cfg.extend({ kdf: v }),
                    encrypt: function (e, t, r, n) {
                      var a = (n = this.cfg.extend(n)).kdf.execute(
                        r,
                        e.keySize,
                        e.ivSize
                      );
                      n.iv = a.iv;
                      var i = g.encrypt.call(this, e, t, a.key, n);
                      return i.mixIn(a), i;
                    },
                    decrypt: function (e, t, r, n) {
                      (n = this.cfg.extend(n)), (t = this._parse(t, n.format));
                      var a = n.kdf.execute(r, e.keySize, e.ivSize, t.salt);
                      return (
                        (n.iv = a.iv), g.decrypt.call(this, e, t, a.key, n)
                      );
                    },
                  }));
              })()
            ));
        },
        8249: function (e, t, r) {
          var n;
          e.exports =
            ((n =
              n ||
              (function (e, t) {
                var n;
                if (
                  ("undefined" != typeof window &&
                    window.crypto &&
                    (n = window.crypto),
                  "undefined" != typeof self &&
                    self.crypto &&
                    (n = self.crypto),
                  "undefined" != typeof globalThis &&
                    globalThis.crypto &&
                    (n = globalThis.crypto),
                  !n &&
                    "undefined" != typeof window &&
                    window.msCrypto &&
                    (n = window.msCrypto),
                  !n && void 0 !== r.g && r.g.crypto && (n = r.g.crypto),
                  !n)
                )
                  try {
                    n = r(2480);
                  } catch (e) {}
                var a = function () {
                    if (n) {
                      if ("function" == typeof n.getRandomValues)
                        try {
                          return n.getRandomValues(new Uint32Array(1))[0];
                        } catch (e) {}
                      if ("function" == typeof n.randomBytes)
                        try {
                          return n.randomBytes(4).readInt32LE();
                        } catch (e) {}
                    }
                    throw new Error(
                      "Native crypto module could not be used to get secure random number."
                    );
                  },
                  i =
                    Object.create ||
                    (function () {
                      function e() {}
                      return function (t) {
                        var r;
                        return (
                          (e.prototype = t),
                          (r = new e()),
                          (e.prototype = null),
                          r
                        );
                      };
                    })(),
                  s = {},
                  o = (s.lib = {}),
                  c = (o.Base = {
                    extend: function (e) {
                      var t = i(this);
                      return (
                        e && t.mixIn(e),
                        (t.hasOwnProperty("init") && this.init !== t.init) ||
                          (t.init = function () {
                            t.$super.init.apply(this, arguments);
                          }),
                        (t.init.prototype = t),
                        (t.$super = this),
                        t
                      );
                    },
                    create: function () {
                      var e = this.extend();
                      return e.init.apply(e, arguments), e;
                    },
                    init: function () {},
                    mixIn: function (e) {
                      for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
                      e.hasOwnProperty("toString") &&
                        (this.toString = e.toString);
                    },
                    clone: function () {
                      return this.init.prototype.extend(this);
                    },
                  }),
                  d = (o.WordArray = c.extend({
                    init: function (e, r) {
                      (e = this.words = e || []),
                        (this.sigBytes = r != t ? r : 4 * e.length);
                    },
                    toString: function (e) {
                      return (e || l).stringify(this);
                    },
                    concat: function (e) {
                      var t = this.words,
                        r = e.words,
                        n = this.sigBytes,
                        a = e.sigBytes;
                      if ((this.clamp(), n % 4))
                        for (var i = 0; i < a; i++) {
                          var s = (r[i >>> 2] >>> (24 - (i % 4) * 8)) & 255;
                          t[(n + i) >>> 2] |= s << (24 - ((n + i) % 4) * 8);
                        }
                      else
                        for (var o = 0; o < a; o += 4)
                          t[(n + o) >>> 2] = r[o >>> 2];
                      return (this.sigBytes += a), this;
                    },
                    clamp: function () {
                      var t = this.words,
                        r = this.sigBytes;
                      (t[r >>> 2] &= 4294967295 << (32 - (r % 4) * 8)),
                        (t.length = e.ceil(r / 4));
                    },
                    clone: function () {
                      var e = c.clone.call(this);
                      return (e.words = this.words.slice(0)), e;
                    },
                    random: function (e) {
                      for (var t = [], r = 0; r < e; r += 4) t.push(a());
                      return new d.init(t, e);
                    },
                  })),
                  p = (s.enc = {}),
                  l = (p.Hex = {
                    stringify: function (e) {
                      for (
                        var t = e.words, r = e.sigBytes, n = [], a = 0;
                        a < r;
                        a++
                      ) {
                        var i = (t[a >>> 2] >>> (24 - (a % 4) * 8)) & 255;
                        n.push((i >>> 4).toString(16)),
                          n.push((15 & i).toString(16));
                      }
                      return n.join("");
                    },
                    parse: function (e) {
                      for (var t = e.length, r = [], n = 0; n < t; n += 2)
                        r[n >>> 3] |=
                          parseInt(e.substr(n, 2), 16) << (24 - (n % 8) * 4);
                      return new d.init(r, t / 2);
                    },
                  }),
                  u = (p.Latin1 = {
                    stringify: function (e) {
                      for (
                        var t = e.words, r = e.sigBytes, n = [], a = 0;
                        a < r;
                        a++
                      ) {
                        var i = (t[a >>> 2] >>> (24 - (a % 4) * 8)) & 255;
                        n.push(String.fromCharCode(i));
                      }
                      return n.join("");
                    },
                    parse: function (e) {
                      for (var t = e.length, r = [], n = 0; n < t; n++)
                        r[n >>> 2] |=
                          (255 & e.charCodeAt(n)) << (24 - (n % 4) * 8);
                      return new d.init(r, t);
                    },
                  }),
                  h = (p.Utf8 = {
                    stringify: function (e) {
                      try {
                        return decodeURIComponent(escape(u.stringify(e)));
                      } catch (e) {
                        throw new Error("Malformed UTF-8 data");
                      }
                    },
                    parse: function (e) {
                      return u.parse(unescape(encodeURIComponent(e)));
                    },
                  }),
                  m = (o.BufferedBlockAlgorithm = c.extend({
                    reset: function () {
                      (this._data = new d.init()), (this._nDataBytes = 0);
                    },
                    _append: function (e) {
                      "string" == typeof e && (e = h.parse(e)),
                        this._data.concat(e),
                        (this._nDataBytes += e.sigBytes);
                    },
                    _process: function (t) {
                      var r,
                        n = this._data,
                        a = n.words,
                        i = n.sigBytes,
                        s = this.blockSize,
                        o = i / (4 * s),
                        c =
                          (o = t
                            ? e.ceil(o)
                            : e.max((0 | o) - this._minBufferSize, 0)) * s,
                        p = e.min(4 * c, i);
                      if (c) {
                        for (var l = 0; l < c; l += s)
                          this._doProcessBlock(a, l);
                        (r = a.splice(0, c)), (n.sigBytes -= p);
                      }
                      return new d.init(r, p);
                    },
                    clone: function () {
                      var e = c.clone.call(this);
                      return (e._data = this._data.clone()), e;
                    },
                    _minBufferSize: 0,
                  })),
                  f =
                    ((o.Hasher = m.extend({
                      cfg: c.extend(),
                      init: function (e) {
                        (this.cfg = this.cfg.extend(e)), this.reset();
                      },
                      reset: function () {
                        m.reset.call(this), this._doReset();
                      },
                      update: function (e) {
                        return this._append(e), this._process(), this;
                      },
                      finalize: function (e) {
                        return e && this._append(e), this._doFinalize();
                      },
                      blockSize: 16,
                      _createHelper: function (e) {
                        return function (t, r) {
                          return new e.init(r).finalize(t);
                        };
                      },
                      _createHmacHelper: function (e) {
                        return function (t, r) {
                          return new f.HMAC.init(e, r).finalize(t);
                        };
                      },
                    })),
                    (s.algo = {}));
                return s;
              })(Math)),
            n);
        },
        8269: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function () {
              var e = n,
                t = e.lib.WordArray;
              function r(e, r, n) {
                for (var a = [], i = 0, s = 0; s < r; s++)
                  if (s % 4) {
                    var o =
                      (n[e.charCodeAt(s - 1)] << ((s % 4) * 2)) |
                      (n[e.charCodeAt(s)] >>> (6 - (s % 4) * 2));
                    (a[i >>> 2] |= o << (24 - (i % 4) * 8)), i++;
                  }
                return t.create(a, i);
              }
              e.enc.Base64 = {
                stringify: function (e) {
                  var t = e.words,
                    r = e.sigBytes,
                    n = this._map;
                  e.clamp();
                  for (var a = [], i = 0; i < r; i += 3)
                    for (
                      var s =
                          (((t[i >>> 2] >>> (24 - (i % 4) * 8)) & 255) << 16) |
                          (((t[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) &
                            255) <<
                            8) |
                          ((t[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) &
                            255),
                        o = 0;
                      o < 4 && i + 0.75 * o < r;
                      o++
                    )
                      a.push(n.charAt((s >>> (6 * (3 - o))) & 63));
                  var c = n.charAt(64);
                  if (c) for (; a.length % 4; ) a.push(c);
                  return a.join("");
                },
                parse: function (e) {
                  var t = e.length,
                    n = this._map,
                    a = this._reverseMap;
                  if (!a) {
                    a = this._reverseMap = [];
                    for (var i = 0; i < n.length; i++) a[n.charCodeAt(i)] = i;
                  }
                  var s = n.charAt(64);
                  if (s) {
                    var o = e.indexOf(s);
                    -1 !== o && (t = o);
                  }
                  return r(e, t, a);
                },
                _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
              };
            })(),
            n.enc.Base64);
        },
        3786: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function () {
              var e = n,
                t = e.lib.WordArray;
              function r(e, r, n) {
                for (var a = [], i = 0, s = 0; s < r; s++)
                  if (s % 4) {
                    var o =
                      (n[e.charCodeAt(s - 1)] << ((s % 4) * 2)) |
                      (n[e.charCodeAt(s)] >>> (6 - (s % 4) * 2));
                    (a[i >>> 2] |= o << (24 - (i % 4) * 8)), i++;
                  }
                return t.create(a, i);
              }
              e.enc.Base64url = {
                stringify: function (e, t = !0) {
                  var r = e.words,
                    n = e.sigBytes,
                    a = t ? this._safe_map : this._map;
                  e.clamp();
                  for (var i = [], s = 0; s < n; s += 3)
                    for (
                      var o =
                          (((r[s >>> 2] >>> (24 - (s % 4) * 8)) & 255) << 16) |
                          (((r[(s + 1) >>> 2] >>> (24 - ((s + 1) % 4) * 8)) &
                            255) <<
                            8) |
                          ((r[(s + 2) >>> 2] >>> (24 - ((s + 2) % 4) * 8)) &
                            255),
                        c = 0;
                      c < 4 && s + 0.75 * c < n;
                      c++
                    )
                      i.push(a.charAt((o >>> (6 * (3 - c))) & 63));
                  var d = a.charAt(64);
                  if (d) for (; i.length % 4; ) i.push(d);
                  return i.join("");
                },
                parse: function (e, t = !0) {
                  var n = e.length,
                    a = t ? this._safe_map : this._map,
                    i = this._reverseMap;
                  if (!i) {
                    i = this._reverseMap = [];
                    for (var s = 0; s < a.length; s++) i[a.charCodeAt(s)] = s;
                  }
                  var o = a.charAt(64);
                  if (o) {
                    var c = e.indexOf(o);
                    -1 !== c && (n = c);
                  }
                  return r(e, n, i);
                },
                _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                _safe_map:
                  "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
              };
            })(),
            n.enc.Base64url);
        },
        298: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function () {
              var e = n,
                t = e.lib.WordArray,
                r = e.enc;
              function a(e) {
                return ((e << 8) & 4278255360) | ((e >>> 8) & 16711935);
              }
              (r.Utf16 = r.Utf16BE =
                {
                  stringify: function (e) {
                    for (
                      var t = e.words, r = e.sigBytes, n = [], a = 0;
                      a < r;
                      a += 2
                    ) {
                      var i = (t[a >>> 2] >>> (16 - (a % 4) * 8)) & 65535;
                      n.push(String.fromCharCode(i));
                    }
                    return n.join("");
                  },
                  parse: function (e) {
                    for (var r = e.length, n = [], a = 0; a < r; a++)
                      n[a >>> 1] |= e.charCodeAt(a) << (16 - (a % 2) * 16);
                    return t.create(n, 2 * r);
                  },
                }),
                (r.Utf16LE = {
                  stringify: function (e) {
                    for (
                      var t = e.words, r = e.sigBytes, n = [], i = 0;
                      i < r;
                      i += 2
                    ) {
                      var s = a((t[i >>> 2] >>> (16 - (i % 4) * 8)) & 65535);
                      n.push(String.fromCharCode(s));
                    }
                    return n.join("");
                  },
                  parse: function (e) {
                    for (var r = e.length, n = [], i = 0; i < r; i++)
                      n[i >>> 1] |= a(e.charCodeAt(i) << (16 - (i % 2) * 16));
                    return t.create(n, 2 * r);
                  },
                });
            })(),
            n.enc.Utf16);
        },
        888: function (e, t, r) {
          var n, a, i, s, o, c, d, p;
          e.exports =
            ((p = r(8249)),
            r(2783),
            r(9824),
            (a = (n = p).lib),
            (i = a.Base),
            (s = a.WordArray),
            (o = n.algo),
            (c = o.MD5),
            (d = o.EvpKDF =
              i.extend({
                cfg: i.extend({ keySize: 4, hasher: c, iterations: 1 }),
                init: function (e) {
                  this.cfg = this.cfg.extend(e);
                },
                compute: function (e, t) {
                  for (
                    var r,
                      n = this.cfg,
                      a = n.hasher.create(),
                      i = s.create(),
                      o = i.words,
                      c = n.keySize,
                      d = n.iterations;
                    o.length < c;

                  ) {
                    r && a.update(r), (r = a.update(e).finalize(t)), a.reset();
                    for (var p = 1; p < d; p++) (r = a.finalize(r)), a.reset();
                    i.concat(r);
                  }
                  return (i.sigBytes = 4 * c), i;
                },
              })),
            (n.EvpKDF = function (e, t, r) {
              return d.create(r).compute(e, t);
            }),
            p.EvpKDF);
        },
        2209: function (e, t, r) {
          var n, a, i, s;
          e.exports =
            ((s = r(8249)),
            r(5109),
            (a = (n = s).lib.CipherParams),
            (i = n.enc.Hex),
            (n.format.Hex = {
              stringify: function (e) {
                return e.ciphertext.toString(i);
              },
              parse: function (e) {
                var t = i.parse(e);
                return a.create({ ciphertext: t });
              },
            }),
            s.format.Hex);
        },
        9824: function (e, t, r) {
          var n, a, i, s;
          e.exports =
            ((n = r(8249)),
            (i = (a = n).lib.Base),
            (s = a.enc.Utf8),
            void (a.algo.HMAC = i.extend({
              init: function (e, t) {
                (e = this._hasher = new e.init()),
                  "string" == typeof t && (t = s.parse(t));
                var r = e.blockSize,
                  n = 4 * r;
                t.sigBytes > n && (t = e.finalize(t)), t.clamp();
                for (
                  var a = (this._oKey = t.clone()),
                    i = (this._iKey = t.clone()),
                    o = a.words,
                    c = i.words,
                    d = 0;
                  d < r;
                  d++
                )
                  (o[d] ^= 1549556828), (c[d] ^= 909522486);
                (a.sigBytes = i.sigBytes = n), this.reset();
              },
              reset: function () {
                var e = this._hasher;
                e.reset(), e.update(this._iKey);
              },
              update: function (e) {
                return this._hasher.update(e), this;
              },
              finalize: function (e) {
                var t = this._hasher,
                  r = t.finalize(e);
                return t.reset(), t.finalize(this._oKey.clone().concat(r));
              },
            })));
        },
        1354: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(4938),
            r(4433),
            r(298),
            r(8269),
            r(3786),
            r(8214),
            r(2783),
            r(2153),
            r(7792),
            r(34),
            r(7460),
            r(3327),
            r(706),
            r(9824),
            r(2112),
            r(888),
            r(5109),
            r(8568),
            r(4242),
            r(9968),
            r(7660),
            r(1148),
            r(3615),
            r(2807),
            r(1077),
            r(6475),
            r(6991),
            r(2209),
            r(452),
            r(4253),
            r(1857),
            r(4454),
            r(3974),
            n);
        },
        4433: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function () {
              if ("function" == typeof ArrayBuffer) {
                var e = n.lib.WordArray,
                  t = e.init,
                  r = (e.init = function (e) {
                    if (
                      (e instanceof ArrayBuffer && (e = new Uint8Array(e)),
                      (e instanceof Int8Array ||
                        ("undefined" != typeof Uint8ClampedArray &&
                          e instanceof Uint8ClampedArray) ||
                        e instanceof Int16Array ||
                        e instanceof Uint16Array ||
                        e instanceof Int32Array ||
                        e instanceof Uint32Array ||
                        e instanceof Float32Array ||
                        e instanceof Float64Array) &&
                        (e = new Uint8Array(
                          e.buffer,
                          e.byteOffset,
                          e.byteLength
                        )),
                      e instanceof Uint8Array)
                    ) {
                      for (var r = e.byteLength, n = [], a = 0; a < r; a++)
                        n[a >>> 2] |= e[a] << (24 - (a % 4) * 8);
                      t.call(this, n, r);
                    } else t.apply(this, arguments);
                  });
                r.prototype = e;
              }
            })(),
            n.lib.WordArray);
        },
        8214: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function (e) {
              var t = n,
                r = t.lib,
                a = r.WordArray,
                i = r.Hasher,
                s = t.algo,
                o = [];
              !(function () {
                for (var t = 0; t < 64; t++)
                  o[t] = (4294967296 * e.abs(e.sin(t + 1))) | 0;
              })();
              var c = (s.MD5 = i.extend({
                _doReset: function () {
                  this._hash = new a.init([
                    1732584193, 4023233417, 2562383102, 271733878,
                  ]);
                },
                _doProcessBlock: function (e, t) {
                  for (var r = 0; r < 16; r++) {
                    var n = t + r,
                      a = e[n];
                    e[n] =
                      (16711935 & ((a << 8) | (a >>> 24))) |
                      (4278255360 & ((a << 24) | (a >>> 8)));
                  }
                  var i = this._hash.words,
                    s = e[t + 0],
                    c = e[t + 1],
                    h = e[t + 2],
                    m = e[t + 3],
                    f = e[t + 4],
                    _ = e[t + 5],
                    g = e[t + 6],
                    v = e[t + 7],
                    y = e[t + 8],
                    b = e[t + 9],
                    S = e[t + 10],
                    w = e[t + 11],
                    T = e[t + 12],
                    E = e[t + 13],
                    R = e[t + 14],
                    P = e[t + 15],
                    C = i[0],
                    k = i[1],
                    O = i[2],
                    x = i[3];
                  (C = d(C, k, O, x, s, 7, o[0])),
                    (x = d(x, C, k, O, c, 12, o[1])),
                    (O = d(O, x, C, k, h, 17, o[2])),
                    (k = d(k, O, x, C, m, 22, o[3])),
                    (C = d(C, k, O, x, f, 7, o[4])),
                    (x = d(x, C, k, O, _, 12, o[5])),
                    (O = d(O, x, C, k, g, 17, o[6])),
                    (k = d(k, O, x, C, v, 22, o[7])),
                    (C = d(C, k, O, x, y, 7, o[8])),
                    (x = d(x, C, k, O, b, 12, o[9])),
                    (O = d(O, x, C, k, S, 17, o[10])),
                    (k = d(k, O, x, C, w, 22, o[11])),
                    (C = d(C, k, O, x, T, 7, o[12])),
                    (x = d(x, C, k, O, E, 12, o[13])),
                    (O = d(O, x, C, k, R, 17, o[14])),
                    (C = p(
                      C,
                      (k = d(k, O, x, C, P, 22, o[15])),
                      O,
                      x,
                      c,
                      5,
                      o[16]
                    )),
                    (x = p(x, C, k, O, g, 9, o[17])),
                    (O = p(O, x, C, k, w, 14, o[18])),
                    (k = p(k, O, x, C, s, 20, o[19])),
                    (C = p(C, k, O, x, _, 5, o[20])),
                    (x = p(x, C, k, O, S, 9, o[21])),
                    (O = p(O, x, C, k, P, 14, o[22])),
                    (k = p(k, O, x, C, f, 20, o[23])),
                    (C = p(C, k, O, x, b, 5, o[24])),
                    (x = p(x, C, k, O, R, 9, o[25])),
                    (O = p(O, x, C, k, m, 14, o[26])),
                    (k = p(k, O, x, C, y, 20, o[27])),
                    (C = p(C, k, O, x, E, 5, o[28])),
                    (x = p(x, C, k, O, h, 9, o[29])),
                    (O = p(O, x, C, k, v, 14, o[30])),
                    (C = l(
                      C,
                      (k = p(k, O, x, C, T, 20, o[31])),
                      O,
                      x,
                      _,
                      4,
                      o[32]
                    )),
                    (x = l(x, C, k, O, y, 11, o[33])),
                    (O = l(O, x, C, k, w, 16, o[34])),
                    (k = l(k, O, x, C, R, 23, o[35])),
                    (C = l(C, k, O, x, c, 4, o[36])),
                    (x = l(x, C, k, O, f, 11, o[37])),
                    (O = l(O, x, C, k, v, 16, o[38])),
                    (k = l(k, O, x, C, S, 23, o[39])),
                    (C = l(C, k, O, x, E, 4, o[40])),
                    (x = l(x, C, k, O, s, 11, o[41])),
                    (O = l(O, x, C, k, m, 16, o[42])),
                    (k = l(k, O, x, C, g, 23, o[43])),
                    (C = l(C, k, O, x, b, 4, o[44])),
                    (x = l(x, C, k, O, T, 11, o[45])),
                    (O = l(O, x, C, k, P, 16, o[46])),
                    (C = u(
                      C,
                      (k = l(k, O, x, C, h, 23, o[47])),
                      O,
                      x,
                      s,
                      6,
                      o[48]
                    )),
                    (x = u(x, C, k, O, v, 10, o[49])),
                    (O = u(O, x, C, k, R, 15, o[50])),
                    (k = u(k, O, x, C, _, 21, o[51])),
                    (C = u(C, k, O, x, T, 6, o[52])),
                    (x = u(x, C, k, O, m, 10, o[53])),
                    (O = u(O, x, C, k, S, 15, o[54])),
                    (k = u(k, O, x, C, c, 21, o[55])),
                    (C = u(C, k, O, x, y, 6, o[56])),
                    (x = u(x, C, k, O, P, 10, o[57])),
                    (O = u(O, x, C, k, g, 15, o[58])),
                    (k = u(k, O, x, C, E, 21, o[59])),
                    (C = u(C, k, O, x, f, 6, o[60])),
                    (x = u(x, C, k, O, w, 10, o[61])),
                    (O = u(O, x, C, k, h, 15, o[62])),
                    (k = u(k, O, x, C, b, 21, o[63])),
                    (i[0] = (i[0] + C) | 0),
                    (i[1] = (i[1] + k) | 0),
                    (i[2] = (i[2] + O) | 0),
                    (i[3] = (i[3] + x) | 0);
                },
                _doFinalize: function () {
                  var t = this._data,
                    r = t.words,
                    n = 8 * this._nDataBytes,
                    a = 8 * t.sigBytes;
                  r[a >>> 5] |= 128 << (24 - (a % 32));
                  var i = e.floor(n / 4294967296),
                    s = n;
                  (r[15 + (((a + 64) >>> 9) << 4)] =
                    (16711935 & ((i << 8) | (i >>> 24))) |
                    (4278255360 & ((i << 24) | (i >>> 8)))),
                    (r[14 + (((a + 64) >>> 9) << 4)] =
                      (16711935 & ((s << 8) | (s >>> 24))) |
                      (4278255360 & ((s << 24) | (s >>> 8)))),
                    (t.sigBytes = 4 * (r.length + 1)),
                    this._process();
                  for (var o = this._hash, c = o.words, d = 0; d < 4; d++) {
                    var p = c[d];
                    c[d] =
                      (16711935 & ((p << 8) | (p >>> 24))) |
                      (4278255360 & ((p << 24) | (p >>> 8)));
                  }
                  return o;
                },
                clone: function () {
                  var e = i.clone.call(this);
                  return (e._hash = this._hash.clone()), e;
                },
              }));
              function d(e, t, r, n, a, i, s) {
                var o = e + ((t & r) | (~t & n)) + a + s;
                return ((o << i) | (o >>> (32 - i))) + t;
              }
              function p(e, t, r, n, a, i, s) {
                var o = e + ((t & n) | (r & ~n)) + a + s;
                return ((o << i) | (o >>> (32 - i))) + t;
              }
              function l(e, t, r, n, a, i, s) {
                var o = e + (t ^ r ^ n) + a + s;
                return ((o << i) | (o >>> (32 - i))) + t;
              }
              function u(e, t, r, n, a, i, s) {
                var o = e + (r ^ (t | ~n)) + a + s;
                return ((o << i) | (o >>> (32 - i))) + t;
              }
              (t.MD5 = i._createHelper(c)),
                (t.HmacMD5 = i._createHmacHelper(c));
            })(Math),
            n.MD5);
        },
        8568: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.mode.CFB = (function () {
              var e = n.lib.BlockCipherMode.extend();
              function t(e, t, r, n) {
                var a,
                  i = this._iv;
                i
                  ? ((a = i.slice(0)), (this._iv = void 0))
                  : (a = this._prevBlock),
                  n.encryptBlock(a, 0);
                for (var s = 0; s < r; s++) e[t + s] ^= a[s];
              }
              return (
                (e.Encryptor = e.extend({
                  processBlock: function (e, r) {
                    var n = this._cipher,
                      a = n.blockSize;
                    t.call(this, e, r, a, n),
                      (this._prevBlock = e.slice(r, r + a));
                  },
                })),
                (e.Decryptor = e.extend({
                  processBlock: function (e, r) {
                    var n = this._cipher,
                      a = n.blockSize,
                      i = e.slice(r, r + a);
                    t.call(this, e, r, a, n), (this._prevBlock = i);
                  },
                })),
                e
              );
            })()),
            n.mode.CFB);
        },
        9968: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.mode.CTRGladman = (function () {
              var e = n.lib.BlockCipherMode.extend();
              function t(e) {
                if (255 == ((e >> 24) & 255)) {
                  var t = (e >> 16) & 255,
                    r = (e >> 8) & 255,
                    n = 255 & e;
                  255 === t
                    ? ((t = 0),
                      255 === r ? ((r = 0), 255 === n ? (n = 0) : ++n) : ++r)
                    : ++t,
                    (e = 0),
                    (e += t << 16),
                    (e += r << 8),
                    (e += n);
                } else e += 1 << 24;
                return e;
              }
              function r(e) {
                return 0 === (e[0] = t(e[0])) && (e[1] = t(e[1])), e;
              }
              var a = (e.Encryptor = e.extend({
                processBlock: function (e, t) {
                  var n = this._cipher,
                    a = n.blockSize,
                    i = this._iv,
                    s = this._counter;
                  i && ((s = this._counter = i.slice(0)), (this._iv = void 0)),
                    r(s);
                  var o = s.slice(0);
                  n.encryptBlock(o, 0);
                  for (var c = 0; c < a; c++) e[t + c] ^= o[c];
                },
              }));
              return (e.Decryptor = a), e;
            })()),
            n.mode.CTRGladman);
        },
        4242: function (e, t, r) {
          var n, a, i;
          e.exports =
            ((i = r(8249)),
            r(5109),
            (i.mode.CTR =
              ((n = i.lib.BlockCipherMode.extend()),
              (a = n.Encryptor =
                n.extend({
                  processBlock: function (e, t) {
                    var r = this._cipher,
                      n = r.blockSize,
                      a = this._iv,
                      i = this._counter;
                    a &&
                      ((i = this._counter = a.slice(0)), (this._iv = void 0));
                    var s = i.slice(0);
                    r.encryptBlock(s, 0), (i[n - 1] = (i[n - 1] + 1) | 0);
                    for (var o = 0; o < n; o++) e[t + o] ^= s[o];
                  },
                })),
              (n.Decryptor = a),
              n)),
            i.mode.CTR);
        },
        1148: function (e, t, r) {
          var n, a;
          e.exports =
            ((a = r(8249)),
            r(5109),
            (a.mode.ECB =
              (((n = a.lib.BlockCipherMode.extend()).Encryptor = n.extend({
                processBlock: function (e, t) {
                  this._cipher.encryptBlock(e, t);
                },
              })),
              (n.Decryptor = n.extend({
                processBlock: function (e, t) {
                  this._cipher.decryptBlock(e, t);
                },
              })),
              n)),
            a.mode.ECB);
        },
        7660: function (e, t, r) {
          var n, a, i;
          e.exports =
            ((i = r(8249)),
            r(5109),
            (i.mode.OFB =
              ((n = i.lib.BlockCipherMode.extend()),
              (a = n.Encryptor =
                n.extend({
                  processBlock: function (e, t) {
                    var r = this._cipher,
                      n = r.blockSize,
                      a = this._iv,
                      i = this._keystream;
                    a &&
                      ((i = this._keystream = a.slice(0)), (this._iv = void 0)),
                      r.encryptBlock(i, 0);
                    for (var s = 0; s < n; s++) e[t + s] ^= i[s];
                  },
                })),
              (n.Decryptor = a),
              n)),
            i.mode.OFB);
        },
        3615: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.pad.AnsiX923 = {
              pad: function (e, t) {
                var r = e.sigBytes,
                  n = 4 * t,
                  a = n - (r % n),
                  i = r + a - 1;
                e.clamp(),
                  (e.words[i >>> 2] |= a << (24 - (i % 4) * 8)),
                  (e.sigBytes += a);
              },
              unpad: function (e) {
                var t = 255 & e.words[(e.sigBytes - 1) >>> 2];
                e.sigBytes -= t;
              },
            }),
            n.pad.Ansix923);
        },
        2807: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.pad.Iso10126 = {
              pad: function (e, t) {
                var r = 4 * t,
                  a = r - (e.sigBytes % r);
                e.concat(n.lib.WordArray.random(a - 1)).concat(
                  n.lib.WordArray.create([a << 24], 1)
                );
              },
              unpad: function (e) {
                var t = 255 & e.words[(e.sigBytes - 1) >>> 2];
                e.sigBytes -= t;
              },
            }),
            n.pad.Iso10126);
        },
        1077: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.pad.Iso97971 = {
              pad: function (e, t) {
                e.concat(n.lib.WordArray.create([2147483648], 1)),
                  n.pad.ZeroPadding.pad(e, t);
              },
              unpad: function (e) {
                n.pad.ZeroPadding.unpad(e), e.sigBytes--;
              },
            }),
            n.pad.Iso97971);
        },
        6991: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.pad.NoPadding = { pad: function () {}, unpad: function () {} }),
            n.pad.NoPadding);
        },
        6475: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(5109),
            (n.pad.ZeroPadding = {
              pad: function (e, t) {
                var r = 4 * t;
                e.clamp(), (e.sigBytes += r - (e.sigBytes % r || r));
              },
              unpad: function (e) {
                var t = e.words,
                  r = e.sigBytes - 1;
                for (r = e.sigBytes - 1; r >= 0; r--)
                  if ((t[r >>> 2] >>> (24 - (r % 4) * 8)) & 255) {
                    e.sigBytes = r + 1;
                    break;
                  }
              },
            }),
            n.pad.ZeroPadding);
        },
        2112: function (e, t, r) {
          var n, a, i, s, o, c, d, p, l;
          e.exports =
            ((l = r(8249)),
            r(2783),
            r(9824),
            (a = (n = l).lib),
            (i = a.Base),
            (s = a.WordArray),
            (o = n.algo),
            (c = o.SHA1),
            (d = o.HMAC),
            (p = o.PBKDF2 =
              i.extend({
                cfg: i.extend({ keySize: 4, hasher: c, iterations: 1 }),
                init: function (e) {
                  this.cfg = this.cfg.extend(e);
                },
                compute: function (e, t) {
                  for (
                    var r = this.cfg,
                      n = d.create(r.hasher, e),
                      a = s.create(),
                      i = s.create([1]),
                      o = a.words,
                      c = i.words,
                      p = r.keySize,
                      l = r.iterations;
                    o.length < p;

                  ) {
                    var u = n.update(t).finalize(i);
                    n.reset();
                    for (
                      var h = u.words, m = h.length, f = u, _ = 1;
                      _ < l;
                      _++
                    ) {
                      (f = n.finalize(f)), n.reset();
                      for (var g = f.words, v = 0; v < m; v++) h[v] ^= g[v];
                    }
                    a.concat(u), c[0]++;
                  }
                  return (a.sigBytes = 4 * p), a;
                },
              })),
            (n.PBKDF2 = function (e, t, r) {
              return p.create(r).compute(e, t);
            }),
            l.PBKDF2);
        },
        3974: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(8269),
            r(8214),
            r(888),
            r(5109),
            (function () {
              var e = n,
                t = e.lib.StreamCipher,
                r = e.algo,
                a = [],
                i = [],
                s = [],
                o = (r.RabbitLegacy = t.extend({
                  _doReset: function () {
                    var e = this._key.words,
                      t = this.cfg.iv,
                      r = (this._X = [
                        e[0],
                        (e[3] << 16) | (e[2] >>> 16),
                        e[1],
                        (e[0] << 16) | (e[3] >>> 16),
                        e[2],
                        (e[1] << 16) | (e[0] >>> 16),
                        e[3],
                        (e[2] << 16) | (e[1] >>> 16),
                      ]),
                      n = (this._C = [
                        (e[2] << 16) | (e[2] >>> 16),
                        (4294901760 & e[0]) | (65535 & e[1]),
                        (e[3] << 16) | (e[3] >>> 16),
                        (4294901760 & e[1]) | (65535 & e[2]),
                        (e[0] << 16) | (e[0] >>> 16),
                        (4294901760 & e[2]) | (65535 & e[3]),
                        (e[1] << 16) | (e[1] >>> 16),
                        (4294901760 & e[3]) | (65535 & e[0]),
                      ]);
                    this._b = 0;
                    for (var a = 0; a < 4; a++) c.call(this);
                    for (a = 0; a < 8; a++) n[a] ^= r[(a + 4) & 7];
                    if (t) {
                      var i = t.words,
                        s = i[0],
                        o = i[1],
                        d =
                          (16711935 & ((s << 8) | (s >>> 24))) |
                          (4278255360 & ((s << 24) | (s >>> 8))),
                        p =
                          (16711935 & ((o << 8) | (o >>> 24))) |
                          (4278255360 & ((o << 24) | (o >>> 8))),
                        l = (d >>> 16) | (4294901760 & p),
                        u = (p << 16) | (65535 & d);
                      for (
                        n[0] ^= d,
                          n[1] ^= l,
                          n[2] ^= p,
                          n[3] ^= u,
                          n[4] ^= d,
                          n[5] ^= l,
                          n[6] ^= p,
                          n[7] ^= u,
                          a = 0;
                        a < 4;
                        a++
                      )
                        c.call(this);
                    }
                  },
                  _doProcessBlock: function (e, t) {
                    var r = this._X;
                    c.call(this),
                      (a[0] = r[0] ^ (r[5] >>> 16) ^ (r[3] << 16)),
                      (a[1] = r[2] ^ (r[7] >>> 16) ^ (r[5] << 16)),
                      (a[2] = r[4] ^ (r[1] >>> 16) ^ (r[7] << 16)),
                      (a[3] = r[6] ^ (r[3] >>> 16) ^ (r[1] << 16));
                    for (var n = 0; n < 4; n++)
                      (a[n] =
                        (16711935 & ((a[n] << 8) | (a[n] >>> 24))) |
                        (4278255360 & ((a[n] << 24) | (a[n] >>> 8)))),
                        (e[t + n] ^= a[n]);
                  },
                  blockSize: 4,
                  ivSize: 2,
                }));
              function c() {
                for (var e = this._X, t = this._C, r = 0; r < 8; r++)
                  i[r] = t[r];
                for (
                  t[0] = (t[0] + 1295307597 + this._b) | 0,
                    t[1] =
                      (t[1] + 3545052371 + (t[0] >>> 0 < i[0] >>> 0 ? 1 : 0)) |
                      0,
                    t[2] =
                      (t[2] + 886263092 + (t[1] >>> 0 < i[1] >>> 0 ? 1 : 0)) |
                      0,
                    t[3] =
                      (t[3] + 1295307597 + (t[2] >>> 0 < i[2] >>> 0 ? 1 : 0)) |
                      0,
                    t[4] =
                      (t[4] + 3545052371 + (t[3] >>> 0 < i[3] >>> 0 ? 1 : 0)) |
                      0,
                    t[5] =
                      (t[5] + 886263092 + (t[4] >>> 0 < i[4] >>> 0 ? 1 : 0)) |
                      0,
                    t[6] =
                      (t[6] + 1295307597 + (t[5] >>> 0 < i[5] >>> 0 ? 1 : 0)) |
                      0,
                    t[7] =
                      (t[7] + 3545052371 + (t[6] >>> 0 < i[6] >>> 0 ? 1 : 0)) |
                      0,
                    this._b = t[7] >>> 0 < i[7] >>> 0 ? 1 : 0,
                    r = 0;
                  r < 8;
                  r++
                ) {
                  var n = e[r] + t[r],
                    a = 65535 & n,
                    o = n >>> 16,
                    c = ((((a * a) >>> 17) + a * o) >>> 15) + o * o,
                    d = (((4294901760 & n) * n) | 0) + (((65535 & n) * n) | 0);
                  s[r] = c ^ d;
                }
                (e[0] =
                  (s[0] +
                    ((s[7] << 16) | (s[7] >>> 16)) +
                    ((s[6] << 16) | (s[6] >>> 16))) |
                  0),
                  (e[1] = (s[1] + ((s[0] << 8) | (s[0] >>> 24)) + s[7]) | 0),
                  (e[2] =
                    (s[2] +
                      ((s[1] << 16) | (s[1] >>> 16)) +
                      ((s[0] << 16) | (s[0] >>> 16))) |
                    0),
                  (e[3] = (s[3] + ((s[2] << 8) | (s[2] >>> 24)) + s[1]) | 0),
                  (e[4] =
                    (s[4] +
                      ((s[3] << 16) | (s[3] >>> 16)) +
                      ((s[2] << 16) | (s[2] >>> 16))) |
                    0),
                  (e[5] = (s[5] + ((s[4] << 8) | (s[4] >>> 24)) + s[3]) | 0),
                  (e[6] =
                    (s[6] +
                      ((s[5] << 16) | (s[5] >>> 16)) +
                      ((s[4] << 16) | (s[4] >>> 16))) |
                    0),
                  (e[7] = (s[7] + ((s[6] << 8) | (s[6] >>> 24)) + s[5]) | 0);
              }
              e.RabbitLegacy = t._createHelper(o);
            })(),
            n.RabbitLegacy);
        },
        4454: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(8269),
            r(8214),
            r(888),
            r(5109),
            (function () {
              var e = n,
                t = e.lib.StreamCipher,
                r = e.algo,
                a = [],
                i = [],
                s = [],
                o = (r.Rabbit = t.extend({
                  _doReset: function () {
                    for (
                      var e = this._key.words, t = this.cfg.iv, r = 0;
                      r < 4;
                      r++
                    )
                      e[r] =
                        (16711935 & ((e[r] << 8) | (e[r] >>> 24))) |
                        (4278255360 & ((e[r] << 24) | (e[r] >>> 8)));
                    var n = (this._X = [
                        e[0],
                        (e[3] << 16) | (e[2] >>> 16),
                        e[1],
                        (e[0] << 16) | (e[3] >>> 16),
                        e[2],
                        (e[1] << 16) | (e[0] >>> 16),
                        e[3],
                        (e[2] << 16) | (e[1] >>> 16),
                      ]),
                      a = (this._C = [
                        (e[2] << 16) | (e[2] >>> 16),
                        (4294901760 & e[0]) | (65535 & e[1]),
                        (e[3] << 16) | (e[3] >>> 16),
                        (4294901760 & e[1]) | (65535 & e[2]),
                        (e[0] << 16) | (e[0] >>> 16),
                        (4294901760 & e[2]) | (65535 & e[3]),
                        (e[1] << 16) | (e[1] >>> 16),
                        (4294901760 & e[3]) | (65535 & e[0]),
                      ]);
                    for (this._b = 0, r = 0; r < 4; r++) c.call(this);
                    for (r = 0; r < 8; r++) a[r] ^= n[(r + 4) & 7];
                    if (t) {
                      var i = t.words,
                        s = i[0],
                        o = i[1],
                        d =
                          (16711935 & ((s << 8) | (s >>> 24))) |
                          (4278255360 & ((s << 24) | (s >>> 8))),
                        p =
                          (16711935 & ((o << 8) | (o >>> 24))) |
                          (4278255360 & ((o << 24) | (o >>> 8))),
                        l = (d >>> 16) | (4294901760 & p),
                        u = (p << 16) | (65535 & d);
                      for (
                        a[0] ^= d,
                          a[1] ^= l,
                          a[2] ^= p,
                          a[3] ^= u,
                          a[4] ^= d,
                          a[5] ^= l,
                          a[6] ^= p,
                          a[7] ^= u,
                          r = 0;
                        r < 4;
                        r++
                      )
                        c.call(this);
                    }
                  },
                  _doProcessBlock: function (e, t) {
                    var r = this._X;
                    c.call(this),
                      (a[0] = r[0] ^ (r[5] >>> 16) ^ (r[3] << 16)),
                      (a[1] = r[2] ^ (r[7] >>> 16) ^ (r[5] << 16)),
                      (a[2] = r[4] ^ (r[1] >>> 16) ^ (r[7] << 16)),
                      (a[3] = r[6] ^ (r[3] >>> 16) ^ (r[1] << 16));
                    for (var n = 0; n < 4; n++)
                      (a[n] =
                        (16711935 & ((a[n] << 8) | (a[n] >>> 24))) |
                        (4278255360 & ((a[n] << 24) | (a[n] >>> 8)))),
                        (e[t + n] ^= a[n]);
                  },
                  blockSize: 4,
                  ivSize: 2,
                }));
              function c() {
                for (var e = this._X, t = this._C, r = 0; r < 8; r++)
                  i[r] = t[r];
                for (
                  t[0] = (t[0] + 1295307597 + this._b) | 0,
                    t[1] =
                      (t[1] + 3545052371 + (t[0] >>> 0 < i[0] >>> 0 ? 1 : 0)) |
                      0,
                    t[2] =
                      (t[2] + 886263092 + (t[1] >>> 0 < i[1] >>> 0 ? 1 : 0)) |
                      0,
                    t[3] =
                      (t[3] + 1295307597 + (t[2] >>> 0 < i[2] >>> 0 ? 1 : 0)) |
                      0,
                    t[4] =
                      (t[4] + 3545052371 + (t[3] >>> 0 < i[3] >>> 0 ? 1 : 0)) |
                      0,
                    t[5] =
                      (t[5] + 886263092 + (t[4] >>> 0 < i[4] >>> 0 ? 1 : 0)) |
                      0,
                    t[6] =
                      (t[6] + 1295307597 + (t[5] >>> 0 < i[5] >>> 0 ? 1 : 0)) |
                      0,
                    t[7] =
                      (t[7] + 3545052371 + (t[6] >>> 0 < i[6] >>> 0 ? 1 : 0)) |
                      0,
                    this._b = t[7] >>> 0 < i[7] >>> 0 ? 1 : 0,
                    r = 0;
                  r < 8;
                  r++
                ) {
                  var n = e[r] + t[r],
                    a = 65535 & n,
                    o = n >>> 16,
                    c = ((((a * a) >>> 17) + a * o) >>> 15) + o * o,
                    d = (((4294901760 & n) * n) | 0) + (((65535 & n) * n) | 0);
                  s[r] = c ^ d;
                }
                (e[0] =
                  (s[0] +
                    ((s[7] << 16) | (s[7] >>> 16)) +
                    ((s[6] << 16) | (s[6] >>> 16))) |
                  0),
                  (e[1] = (s[1] + ((s[0] << 8) | (s[0] >>> 24)) + s[7]) | 0),
                  (e[2] =
                    (s[2] +
                      ((s[1] << 16) | (s[1] >>> 16)) +
                      ((s[0] << 16) | (s[0] >>> 16))) |
                    0),
                  (e[3] = (s[3] + ((s[2] << 8) | (s[2] >>> 24)) + s[1]) | 0),
                  (e[4] =
                    (s[4] +
                      ((s[3] << 16) | (s[3] >>> 16)) +
                      ((s[2] << 16) | (s[2] >>> 16))) |
                    0),
                  (e[5] = (s[5] + ((s[4] << 8) | (s[4] >>> 24)) + s[3]) | 0),
                  (e[6] =
                    (s[6] +
                      ((s[5] << 16) | (s[5] >>> 16)) +
                      ((s[4] << 16) | (s[4] >>> 16))) |
                    0),
                  (e[7] = (s[7] + ((s[6] << 8) | (s[6] >>> 24)) + s[5]) | 0);
              }
              e.Rabbit = t._createHelper(o);
            })(),
            n.Rabbit);
        },
        1857: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(8269),
            r(8214),
            r(888),
            r(5109),
            (function () {
              var e = n,
                t = e.lib.StreamCipher,
                r = e.algo,
                a = (r.RC4 = t.extend({
                  _doReset: function () {
                    for (
                      var e = this._key,
                        t = e.words,
                        r = e.sigBytes,
                        n = (this._S = []),
                        a = 0;
                      a < 256;
                      a++
                    )
                      n[a] = a;
                    a = 0;
                    for (var i = 0; a < 256; a++) {
                      var s = a % r,
                        o = (t[s >>> 2] >>> (24 - (s % 4) * 8)) & 255;
                      i = (i + n[a] + o) % 256;
                      var c = n[a];
                      (n[a] = n[i]), (n[i] = c);
                    }
                    this._i = this._j = 0;
                  },
                  _doProcessBlock: function (e, t) {
                    e[t] ^= i.call(this);
                  },
                  keySize: 8,
                  ivSize: 0,
                }));
              function i() {
                for (
                  var e = this._S, t = this._i, r = this._j, n = 0, a = 0;
                  a < 4;
                  a++
                ) {
                  r = (r + e[(t = (t + 1) % 256)]) % 256;
                  var i = e[t];
                  (e[t] = e[r]),
                    (e[r] = i),
                    (n |= e[(e[t] + e[r]) % 256] << (24 - 8 * a));
                }
                return (this._i = t), (this._j = r), n;
              }
              e.RC4 = t._createHelper(a);
              var s = (r.RC4Drop = a.extend({
                cfg: a.cfg.extend({ drop: 192 }),
                _doReset: function () {
                  a._doReset.call(this);
                  for (var e = this.cfg.drop; e > 0; e--) i.call(this);
                },
              }));
              e.RC4Drop = t._createHelper(s);
            })(),
            n.RC4);
        },
        706: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function (e) {
              var t = n,
                r = t.lib,
                a = r.WordArray,
                i = r.Hasher,
                s = t.algo,
                o = a.create([
                  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4,
                  13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4,
                  9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8,
                  12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10,
                  14, 1, 3, 8, 11, 6, 15, 13,
                ]),
                c = a.create([
                  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11,
                  3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7,
                  14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15,
                  0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6,
                  2, 13, 14, 0, 3, 9, 11,
                ]),
                d = a.create([
                  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6,
                  8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6,
                  7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15,
                  14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8,
                  13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
                ]),
                p = a.create([
                  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13,
                  15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11,
                  8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14,
                  14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14,
                  6, 8, 13, 6, 5, 15, 13, 11, 11,
                ]),
                l = a.create([
                  0, 1518500249, 1859775393, 2400959708, 2840853838,
                ]),
                u = a.create([
                  1352829926, 1548603684, 1836072691, 2053994217, 0,
                ]),
                h = (s.RIPEMD160 = i.extend({
                  _doReset: function () {
                    this._hash = a.create([
                      1732584193, 4023233417, 2562383102, 271733878, 3285377520,
                    ]);
                  },
                  _doProcessBlock: function (e, t) {
                    for (var r = 0; r < 16; r++) {
                      var n = t + r,
                        a = e[n];
                      e[n] =
                        (16711935 & ((a << 8) | (a >>> 24))) |
                        (4278255360 & ((a << 24) | (a >>> 8)));
                    }
                    var i,
                      s,
                      h,
                      b,
                      S,
                      w,
                      T,
                      E,
                      R,
                      P,
                      C,
                      k = this._hash.words,
                      O = l.words,
                      x = u.words,
                      D = o.words,
                      I = c.words,
                      L = d.words,
                      M = p.words;
                    for (
                      w = i = k[0],
                        T = s = k[1],
                        E = h = k[2],
                        R = b = k[3],
                        P = S = k[4],
                        r = 0;
                      r < 80;
                      r += 1
                    )
                      (C = (i + e[t + D[r]]) | 0),
                        (C +=
                          r < 16
                            ? m(s, h, b) + O[0]
                            : r < 32
                            ? f(s, h, b) + O[1]
                            : r < 48
                            ? _(s, h, b) + O[2]
                            : r < 64
                            ? g(s, h, b) + O[3]
                            : v(s, h, b) + O[4]),
                        (C = ((C = y((C |= 0), L[r])) + S) | 0),
                        (i = S),
                        (S = b),
                        (b = y(h, 10)),
                        (h = s),
                        (s = C),
                        (C = (w + e[t + I[r]]) | 0),
                        (C +=
                          r < 16
                            ? v(T, E, R) + x[0]
                            : r < 32
                            ? g(T, E, R) + x[1]
                            : r < 48
                            ? _(T, E, R) + x[2]
                            : r < 64
                            ? f(T, E, R) + x[3]
                            : m(T, E, R) + x[4]),
                        (C = ((C = y((C |= 0), M[r])) + P) | 0),
                        (w = P),
                        (P = R),
                        (R = y(E, 10)),
                        (E = T),
                        (T = C);
                    (C = (k[1] + h + R) | 0),
                      (k[1] = (k[2] + b + P) | 0),
                      (k[2] = (k[3] + S + w) | 0),
                      (k[3] = (k[4] + i + T) | 0),
                      (k[4] = (k[0] + s + E) | 0),
                      (k[0] = C);
                  },
                  _doFinalize: function () {
                    var e = this._data,
                      t = e.words,
                      r = 8 * this._nDataBytes,
                      n = 8 * e.sigBytes;
                    (t[n >>> 5] |= 128 << (24 - (n % 32))),
                      (t[14 + (((n + 64) >>> 9) << 4)] =
                        (16711935 & ((r << 8) | (r >>> 24))) |
                        (4278255360 & ((r << 24) | (r >>> 8)))),
                      (e.sigBytes = 4 * (t.length + 1)),
                      this._process();
                    for (var a = this._hash, i = a.words, s = 0; s < 5; s++) {
                      var o = i[s];
                      i[s] =
                        (16711935 & ((o << 8) | (o >>> 24))) |
                        (4278255360 & ((o << 24) | (o >>> 8)));
                    }
                    return a;
                  },
                  clone: function () {
                    var e = i.clone.call(this);
                    return (e._hash = this._hash.clone()), e;
                  },
                }));
              function m(e, t, r) {
                return e ^ t ^ r;
              }
              function f(e, t, r) {
                return (e & t) | (~e & r);
              }
              function _(e, t, r) {
                return (e | ~t) ^ r;
              }
              function g(e, t, r) {
                return (e & r) | (t & ~r);
              }
              function v(e, t, r) {
                return e ^ (t | ~r);
              }
              function y(e, t) {
                return (e << t) | (e >>> (32 - t));
              }
              (t.RIPEMD160 = i._createHelper(h)),
                (t.HmacRIPEMD160 = i._createHmacHelper(h));
            })(Math),
            n.RIPEMD160);
        },
        2783: function (e, t, r) {
          var n, a, i, s, o, c, d, p;
          e.exports =
            ((p = r(8249)),
            (a = (n = p).lib),
            (i = a.WordArray),
            (s = a.Hasher),
            (o = n.algo),
            (c = []),
            (d = o.SHA1 =
              s.extend({
                _doReset: function () {
                  this._hash = new i.init([
                    1732584193, 4023233417, 2562383102, 271733878, 3285377520,
                  ]);
                },
                _doProcessBlock: function (e, t) {
                  for (
                    var r = this._hash.words,
                      n = r[0],
                      a = r[1],
                      i = r[2],
                      s = r[3],
                      o = r[4],
                      d = 0;
                    d < 80;
                    d++
                  ) {
                    if (d < 16) c[d] = 0 | e[t + d];
                    else {
                      var p = c[d - 3] ^ c[d - 8] ^ c[d - 14] ^ c[d - 16];
                      c[d] = (p << 1) | (p >>> 31);
                    }
                    var l = ((n << 5) | (n >>> 27)) + o + c[d];
                    (l +=
                      d < 20
                        ? 1518500249 + ((a & i) | (~a & s))
                        : d < 40
                        ? 1859775393 + (a ^ i ^ s)
                        : d < 60
                        ? ((a & i) | (a & s) | (i & s)) - 1894007588
                        : (a ^ i ^ s) - 899497514),
                      (o = s),
                      (s = i),
                      (i = (a << 30) | (a >>> 2)),
                      (a = n),
                      (n = l);
                  }
                  (r[0] = (r[0] + n) | 0),
                    (r[1] = (r[1] + a) | 0),
                    (r[2] = (r[2] + i) | 0),
                    (r[3] = (r[3] + s) | 0),
                    (r[4] = (r[4] + o) | 0);
                },
                _doFinalize: function () {
                  var e = this._data,
                    t = e.words,
                    r = 8 * this._nDataBytes,
                    n = 8 * e.sigBytes;
                  return (
                    (t[n >>> 5] |= 128 << (24 - (n % 32))),
                    (t[14 + (((n + 64) >>> 9) << 4)] = Math.floor(
                      r / 4294967296
                    )),
                    (t[15 + (((n + 64) >>> 9) << 4)] = r),
                    (e.sigBytes = 4 * t.length),
                    this._process(),
                    this._hash
                  );
                },
                clone: function () {
                  var e = s.clone.call(this);
                  return (e._hash = this._hash.clone()), e;
                },
              })),
            (n.SHA1 = s._createHelper(d)),
            (n.HmacSHA1 = s._createHmacHelper(d)),
            p.SHA1);
        },
        7792: function (e, t, r) {
          var n, a, i, s, o, c;
          e.exports =
            ((c = r(8249)),
            r(2153),
            (a = (n = c).lib.WordArray),
            (i = n.algo),
            (s = i.SHA256),
            (o = i.SHA224 =
              s.extend({
                _doReset: function () {
                  this._hash = new a.init([
                    3238371032, 914150663, 812702999, 4144912697, 4290775857,
                    1750603025, 1694076839, 3204075428,
                  ]);
                },
                _doFinalize: function () {
                  var e = s._doFinalize.call(this);
                  return (e.sigBytes -= 4), e;
                },
              })),
            (n.SHA224 = s._createHelper(o)),
            (n.HmacSHA224 = s._createHmacHelper(o)),
            c.SHA224);
        },
        2153: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function (e) {
              var t = n,
                r = t.lib,
                a = r.WordArray,
                i = r.Hasher,
                s = t.algo,
                o = [],
                c = [];
              !(function () {
                function t(t) {
                  for (var r = e.sqrt(t), n = 2; n <= r; n++)
                    if (!(t % n)) return !1;
                  return !0;
                }
                function r(e) {
                  return (4294967296 * (e - (0 | e))) | 0;
                }
                for (var n = 2, a = 0; a < 64; )
                  t(n) &&
                    (a < 8 && (o[a] = r(e.pow(n, 0.5))),
                    (c[a] = r(e.pow(n, 1 / 3))),
                    a++),
                    n++;
              })();
              var d = [],
                p = (s.SHA256 = i.extend({
                  _doReset: function () {
                    this._hash = new a.init(o.slice(0));
                  },
                  _doProcessBlock: function (e, t) {
                    for (
                      var r = this._hash.words,
                        n = r[0],
                        a = r[1],
                        i = r[2],
                        s = r[3],
                        o = r[4],
                        p = r[5],
                        l = r[6],
                        u = r[7],
                        h = 0;
                      h < 64;
                      h++
                    ) {
                      if (h < 16) d[h] = 0 | e[t + h];
                      else {
                        var m = d[h - 15],
                          f =
                            ((m << 25) | (m >>> 7)) ^
                            ((m << 14) | (m >>> 18)) ^
                            (m >>> 3),
                          _ = d[h - 2],
                          g =
                            ((_ << 15) | (_ >>> 17)) ^
                            ((_ << 13) | (_ >>> 19)) ^
                            (_ >>> 10);
                        d[h] = f + d[h - 7] + g + d[h - 16];
                      }
                      var v = (n & a) ^ (n & i) ^ (a & i),
                        y =
                          ((n << 30) | (n >>> 2)) ^
                          ((n << 19) | (n >>> 13)) ^
                          ((n << 10) | (n >>> 22)),
                        b =
                          u +
                          (((o << 26) | (o >>> 6)) ^
                            ((o << 21) | (o >>> 11)) ^
                            ((o << 7) | (o >>> 25))) +
                          ((o & p) ^ (~o & l)) +
                          c[h] +
                          d[h];
                      (u = l),
                        (l = p),
                        (p = o),
                        (o = (s + b) | 0),
                        (s = i),
                        (i = a),
                        (a = n),
                        (n = (b + (y + v)) | 0);
                    }
                    (r[0] = (r[0] + n) | 0),
                      (r[1] = (r[1] + a) | 0),
                      (r[2] = (r[2] + i) | 0),
                      (r[3] = (r[3] + s) | 0),
                      (r[4] = (r[4] + o) | 0),
                      (r[5] = (r[5] + p) | 0),
                      (r[6] = (r[6] + l) | 0),
                      (r[7] = (r[7] + u) | 0);
                  },
                  _doFinalize: function () {
                    var t = this._data,
                      r = t.words,
                      n = 8 * this._nDataBytes,
                      a = 8 * t.sigBytes;
                    return (
                      (r[a >>> 5] |= 128 << (24 - (a % 32))),
                      (r[14 + (((a + 64) >>> 9) << 4)] = e.floor(
                        n / 4294967296
                      )),
                      (r[15 + (((a + 64) >>> 9) << 4)] = n),
                      (t.sigBytes = 4 * r.length),
                      this._process(),
                      this._hash
                    );
                  },
                  clone: function () {
                    var e = i.clone.call(this);
                    return (e._hash = this._hash.clone()), e;
                  },
                }));
              (t.SHA256 = i._createHelper(p)),
                (t.HmacSHA256 = i._createHmacHelper(p));
            })(Math),
            n.SHA256);
        },
        3327: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(4938),
            (function (e) {
              var t = n,
                r = t.lib,
                a = r.WordArray,
                i = r.Hasher,
                s = t.x64.Word,
                o = t.algo,
                c = [],
                d = [],
                p = [];
              !(function () {
                for (var e = 1, t = 0, r = 0; r < 24; r++) {
                  c[e + 5 * t] = (((r + 1) * (r + 2)) / 2) % 64;
                  var n = (2 * e + 3 * t) % 5;
                  (e = t % 5), (t = n);
                }
                for (e = 0; e < 5; e++)
                  for (t = 0; t < 5; t++)
                    d[e + 5 * t] = t + ((2 * e + 3 * t) % 5) * 5;
                for (var a = 1, i = 0; i < 24; i++) {
                  for (var o = 0, l = 0, u = 0; u < 7; u++) {
                    if (1 & a) {
                      var h = (1 << u) - 1;
                      h < 32 ? (l ^= 1 << h) : (o ^= 1 << (h - 32));
                    }
                    128 & a ? (a = (a << 1) ^ 113) : (a <<= 1);
                  }
                  p[i] = s.create(o, l);
                }
              })();
              var l = [];
              !(function () {
                for (var e = 0; e < 25; e++) l[e] = s.create();
              })();
              var u = (o.SHA3 = i.extend({
                cfg: i.cfg.extend({ outputLength: 512 }),
                _doReset: function () {
                  for (var e = (this._state = []), t = 0; t < 25; t++)
                    e[t] = new s.init();
                  this.blockSize = (1600 - 2 * this.cfg.outputLength) / 32;
                },
                _doProcessBlock: function (e, t) {
                  for (
                    var r = this._state, n = this.blockSize / 2, a = 0;
                    a < n;
                    a++
                  ) {
                    var i = e[t + 2 * a],
                      s = e[t + 2 * a + 1];
                    (i =
                      (16711935 & ((i << 8) | (i >>> 24))) |
                      (4278255360 & ((i << 24) | (i >>> 8)))),
                      (s =
                        (16711935 & ((s << 8) | (s >>> 24))) |
                        (4278255360 & ((s << 24) | (s >>> 8)))),
                      ((k = r[a]).high ^= s),
                      (k.low ^= i);
                  }
                  for (var o = 0; o < 24; o++) {
                    for (var u = 0; u < 5; u++) {
                      for (var h = 0, m = 0, f = 0; f < 5; f++)
                        (h ^= (k = r[u + 5 * f]).high), (m ^= k.low);
                      var _ = l[u];
                      (_.high = h), (_.low = m);
                    }
                    for (u = 0; u < 5; u++) {
                      var g = l[(u + 4) % 5],
                        v = l[(u + 1) % 5],
                        y = v.high,
                        b = v.low;
                      for (
                        h = g.high ^ ((y << 1) | (b >>> 31)),
                          m = g.low ^ ((b << 1) | (y >>> 31)),
                          f = 0;
                        f < 5;
                        f++
                      )
                        ((k = r[u + 5 * f]).high ^= h), (k.low ^= m);
                    }
                    for (var S = 1; S < 25; S++) {
                      var w = (k = r[S]).high,
                        T = k.low,
                        E = c[S];
                      E < 32
                        ? ((h = (w << E) | (T >>> (32 - E))),
                          (m = (T << E) | (w >>> (32 - E))))
                        : ((h = (T << (E - 32)) | (w >>> (64 - E))),
                          (m = (w << (E - 32)) | (T >>> (64 - E))));
                      var R = l[d[S]];
                      (R.high = h), (R.low = m);
                    }
                    var P = l[0],
                      C = r[0];
                    for (P.high = C.high, P.low = C.low, u = 0; u < 5; u++)
                      for (f = 0; f < 5; f++) {
                        var k = r[(S = u + 5 * f)],
                          O = l[S],
                          x = l[((u + 1) % 5) + 5 * f],
                          D = l[((u + 2) % 5) + 5 * f];
                        (k.high = O.high ^ (~x.high & D.high)),
                          (k.low = O.low ^ (~x.low & D.low));
                      }
                    k = r[0];
                    var I = p[o];
                    (k.high ^= I.high), (k.low ^= I.low);
                  }
                },
                _doFinalize: function () {
                  var t = this._data,
                    r = t.words,
                    n = (this._nDataBytes, 8 * t.sigBytes),
                    i = 32 * this.blockSize;
                  (r[n >>> 5] |= 1 << (24 - (n % 32))),
                    (r[((e.ceil((n + 1) / i) * i) >>> 5) - 1] |= 128),
                    (t.sigBytes = 4 * r.length),
                    this._process();
                  for (
                    var s = this._state,
                      o = this.cfg.outputLength / 8,
                      c = o / 8,
                      d = [],
                      p = 0;
                    p < c;
                    p++
                  ) {
                    var l = s[p],
                      u = l.high,
                      h = l.low;
                    (u =
                      (16711935 & ((u << 8) | (u >>> 24))) |
                      (4278255360 & ((u << 24) | (u >>> 8)))),
                      (h =
                        (16711935 & ((h << 8) | (h >>> 24))) |
                        (4278255360 & ((h << 24) | (h >>> 8)))),
                      d.push(h),
                      d.push(u);
                  }
                  return new a.init(d, o);
                },
                clone: function () {
                  for (
                    var e = i.clone.call(this),
                      t = (e._state = this._state.slice(0)),
                      r = 0;
                    r < 25;
                    r++
                  )
                    t[r] = t[r].clone();
                  return e;
                },
              }));
              (t.SHA3 = i._createHelper(u)),
                (t.HmacSHA3 = i._createHmacHelper(u));
            })(Math),
            n.SHA3);
        },
        7460: function (e, t, r) {
          var n, a, i, s, o, c, d, p;
          e.exports =
            ((p = r(8249)),
            r(4938),
            r(34),
            (a = (n = p).x64),
            (i = a.Word),
            (s = a.WordArray),
            (o = n.algo),
            (c = o.SHA512),
            (d = o.SHA384 =
              c.extend({
                _doReset: function () {
                  this._hash = new s.init([
                    new i.init(3418070365, 3238371032),
                    new i.init(1654270250, 914150663),
                    new i.init(2438529370, 812702999),
                    new i.init(355462360, 4144912697),
                    new i.init(1731405415, 4290775857),
                    new i.init(2394180231, 1750603025),
                    new i.init(3675008525, 1694076839),
                    new i.init(1203062813, 3204075428),
                  ]);
                },
                _doFinalize: function () {
                  var e = c._doFinalize.call(this);
                  return (e.sigBytes -= 16), e;
                },
              })),
            (n.SHA384 = c._createHelper(d)),
            (n.HmacSHA384 = c._createHmacHelper(d)),
            p.SHA384);
        },
        34: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(4938),
            (function () {
              var e = n,
                t = e.lib.Hasher,
                r = e.x64,
                a = r.Word,
                i = r.WordArray,
                s = e.algo;
              function o() {
                return a.create.apply(a, arguments);
              }
              var c = [
                  o(1116352408, 3609767458),
                  o(1899447441, 602891725),
                  o(3049323471, 3964484399),
                  o(3921009573, 2173295548),
                  o(961987163, 4081628472),
                  o(1508970993, 3053834265),
                  o(2453635748, 2937671579),
                  o(2870763221, 3664609560),
                  o(3624381080, 2734883394),
                  o(310598401, 1164996542),
                  o(607225278, 1323610764),
                  o(1426881987, 3590304994),
                  o(1925078388, 4068182383),
                  o(2162078206, 991336113),
                  o(2614888103, 633803317),
                  o(3248222580, 3479774868),
                  o(3835390401, 2666613458),
                  o(4022224774, 944711139),
                  o(264347078, 2341262773),
                  o(604807628, 2007800933),
                  o(770255983, 1495990901),
                  o(1249150122, 1856431235),
                  o(1555081692, 3175218132),
                  o(1996064986, 2198950837),
                  o(2554220882, 3999719339),
                  o(2821834349, 766784016),
                  o(2952996808, 2566594879),
                  o(3210313671, 3203337956),
                  o(3336571891, 1034457026),
                  o(3584528711, 2466948901),
                  o(113926993, 3758326383),
                  o(338241895, 168717936),
                  o(666307205, 1188179964),
                  o(773529912, 1546045734),
                  o(1294757372, 1522805485),
                  o(1396182291, 2643833823),
                  o(1695183700, 2343527390),
                  o(1986661051, 1014477480),
                  o(2177026350, 1206759142),
                  o(2456956037, 344077627),
                  o(2730485921, 1290863460),
                  o(2820302411, 3158454273),
                  o(3259730800, 3505952657),
                  o(3345764771, 106217008),
                  o(3516065817, 3606008344),
                  o(3600352804, 1432725776),
                  o(4094571909, 1467031594),
                  o(275423344, 851169720),
                  o(430227734, 3100823752),
                  o(506948616, 1363258195),
                  o(659060556, 3750685593),
                  o(883997877, 3785050280),
                  o(958139571, 3318307427),
                  o(1322822218, 3812723403),
                  o(1537002063, 2003034995),
                  o(1747873779, 3602036899),
                  o(1955562222, 1575990012),
                  o(2024104815, 1125592928),
                  o(2227730452, 2716904306),
                  o(2361852424, 442776044),
                  o(2428436474, 593698344),
                  o(2756734187, 3733110249),
                  o(3204031479, 2999351573),
                  o(3329325298, 3815920427),
                  o(3391569614, 3928383900),
                  o(3515267271, 566280711),
                  o(3940187606, 3454069534),
                  o(4118630271, 4000239992),
                  o(116418474, 1914138554),
                  o(174292421, 2731055270),
                  o(289380356, 3203993006),
                  o(460393269, 320620315),
                  o(685471733, 587496836),
                  o(852142971, 1086792851),
                  o(1017036298, 365543100),
                  o(1126000580, 2618297676),
                  o(1288033470, 3409855158),
                  o(1501505948, 4234509866),
                  o(1607167915, 987167468),
                  o(1816402316, 1246189591),
                ],
                d = [];
              !(function () {
                for (var e = 0; e < 80; e++) d[e] = o();
              })();
              var p = (s.SHA512 = t.extend({
                _doReset: function () {
                  this._hash = new i.init([
                    new a.init(1779033703, 4089235720),
                    new a.init(3144134277, 2227873595),
                    new a.init(1013904242, 4271175723),
                    new a.init(2773480762, 1595750129),
                    new a.init(1359893119, 2917565137),
                    new a.init(2600822924, 725511199),
                    new a.init(528734635, 4215389547),
                    new a.init(1541459225, 327033209),
                  ]);
                },
                _doProcessBlock: function (e, t) {
                  for (
                    var r = this._hash.words,
                      n = r[0],
                      a = r[1],
                      i = r[2],
                      s = r[3],
                      o = r[4],
                      p = r[5],
                      l = r[6],
                      u = r[7],
                      h = n.high,
                      m = n.low,
                      f = a.high,
                      _ = a.low,
                      g = i.high,
                      v = i.low,
                      y = s.high,
                      b = s.low,
                      S = o.high,
                      w = o.low,
                      T = p.high,
                      E = p.low,
                      R = l.high,
                      P = l.low,
                      C = u.high,
                      k = u.low,
                      O = h,
                      x = m,
                      D = f,
                      I = _,
                      L = g,
                      M = v,
                      A = y,
                      N = b,
                      j = S,
                      F = w,
                      B = T,
                      U = E,
                      Z = R,
                      H = P,
                      z = C,
                      V = k,
                      W = 0;
                    W < 80;
                    W++
                  ) {
                    var G,
                      q,
                      K = d[W];
                    if (W < 16)
                      (q = K.high = 0 | e[t + 2 * W]),
                        (G = K.low = 0 | e[t + 2 * W + 1]);
                    else {
                      var $ = d[W - 15],
                        X = $.high,
                        J = $.low,
                        Q =
                          ((X >>> 1) | (J << 31)) ^
                          ((X >>> 8) | (J << 24)) ^
                          (X >>> 7),
                        Y =
                          ((J >>> 1) | (X << 31)) ^
                          ((J >>> 8) | (X << 24)) ^
                          ((J >>> 7) | (X << 25)),
                        ee = d[W - 2],
                        te = ee.high,
                        re = ee.low,
                        ne =
                          ((te >>> 19) | (re << 13)) ^
                          ((te << 3) | (re >>> 29)) ^
                          (te >>> 6),
                        ae =
                          ((re >>> 19) | (te << 13)) ^
                          ((re << 3) | (te >>> 29)) ^
                          ((re >>> 6) | (te << 26)),
                        ie = d[W - 7],
                        se = ie.high,
                        oe = ie.low,
                        ce = d[W - 16],
                        de = ce.high,
                        pe = ce.low;
                      (q =
                        (q =
                          (q =
                            Q + se + ((G = Y + oe) >>> 0 < Y >>> 0 ? 1 : 0)) +
                          ne +
                          ((G += ae) >>> 0 < ae >>> 0 ? 1 : 0)) +
                        de +
                        ((G += pe) >>> 0 < pe >>> 0 ? 1 : 0)),
                        (K.high = q),
                        (K.low = G);
                    }
                    var le,
                      ue = (j & B) ^ (~j & Z),
                      he = (F & U) ^ (~F & H),
                      me = (O & D) ^ (O & L) ^ (D & L),
                      fe = (x & I) ^ (x & M) ^ (I & M),
                      _e =
                        ((O >>> 28) | (x << 4)) ^
                        ((O << 30) | (x >>> 2)) ^
                        ((O << 25) | (x >>> 7)),
                      ge =
                        ((x >>> 28) | (O << 4)) ^
                        ((x << 30) | (O >>> 2)) ^
                        ((x << 25) | (O >>> 7)),
                      ve =
                        ((j >>> 14) | (F << 18)) ^
                        ((j >>> 18) | (F << 14)) ^
                        ((j << 23) | (F >>> 9)),
                      ye =
                        ((F >>> 14) | (j << 18)) ^
                        ((F >>> 18) | (j << 14)) ^
                        ((F << 23) | (j >>> 9)),
                      be = c[W],
                      Se = be.high,
                      we = be.low,
                      Te = z + ve + ((le = V + ye) >>> 0 < V >>> 0 ? 1 : 0),
                      Ee = ge + fe;
                    (z = Z),
                      (V = H),
                      (Z = B),
                      (H = U),
                      (B = j),
                      (U = F),
                      (j =
                        (A +
                          (Te =
                            (Te =
                              (Te =
                                Te +
                                ue +
                                ((le += he) >>> 0 < he >>> 0 ? 1 : 0)) +
                              Se +
                              ((le += we) >>> 0 < we >>> 0 ? 1 : 0)) +
                            q +
                            ((le += G) >>> 0 < G >>> 0 ? 1 : 0)) +
                          ((F = (N + le) | 0) >>> 0 < N >>> 0 ? 1 : 0)) |
                        0),
                      (A = L),
                      (N = M),
                      (L = D),
                      (M = I),
                      (D = O),
                      (I = x),
                      (O =
                        (Te +
                          (_e + me + (Ee >>> 0 < ge >>> 0 ? 1 : 0)) +
                          ((x = (le + Ee) | 0) >>> 0 < le >>> 0 ? 1 : 0)) |
                        0);
                  }
                  (m = n.low = m + x),
                    (n.high = h + O + (m >>> 0 < x >>> 0 ? 1 : 0)),
                    (_ = a.low = _ + I),
                    (a.high = f + D + (_ >>> 0 < I >>> 0 ? 1 : 0)),
                    (v = i.low = v + M),
                    (i.high = g + L + (v >>> 0 < M >>> 0 ? 1 : 0)),
                    (b = s.low = b + N),
                    (s.high = y + A + (b >>> 0 < N >>> 0 ? 1 : 0)),
                    (w = o.low = w + F),
                    (o.high = S + j + (w >>> 0 < F >>> 0 ? 1 : 0)),
                    (E = p.low = E + U),
                    (p.high = T + B + (E >>> 0 < U >>> 0 ? 1 : 0)),
                    (P = l.low = P + H),
                    (l.high = R + Z + (P >>> 0 < H >>> 0 ? 1 : 0)),
                    (k = u.low = k + V),
                    (u.high = C + z + (k >>> 0 < V >>> 0 ? 1 : 0));
                },
                _doFinalize: function () {
                  var e = this._data,
                    t = e.words,
                    r = 8 * this._nDataBytes,
                    n = 8 * e.sigBytes;
                  return (
                    (t[n >>> 5] |= 128 << (24 - (n % 32))),
                    (t[30 + (((n + 128) >>> 10) << 5)] = Math.floor(
                      r / 4294967296
                    )),
                    (t[31 + (((n + 128) >>> 10) << 5)] = r),
                    (e.sigBytes = 4 * t.length),
                    this._process(),
                    this._hash.toX32()
                  );
                },
                clone: function () {
                  var e = t.clone.call(this);
                  return (e._hash = this._hash.clone()), e;
                },
                blockSize: 32,
              }));
              (e.SHA512 = t._createHelper(p)),
                (e.HmacSHA512 = t._createHmacHelper(p));
            })(),
            n.SHA512);
        },
        4253: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            r(8269),
            r(8214),
            r(888),
            r(5109),
            (function () {
              var e = n,
                t = e.lib,
                r = t.WordArray,
                a = t.BlockCipher,
                i = e.algo,
                s = [
                  57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2,
                  59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39,
                  31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37,
                  29, 21, 13, 5, 28, 20, 12, 4,
                ],
                o = [
                  14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12, 4, 26,
                  8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55, 30, 40, 51,
                  45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32,
                ],
                c = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28],
                d = [
                  {
                    0: 8421888,
                    268435456: 32768,
                    536870912: 8421378,
                    805306368: 2,
                    1073741824: 512,
                    1342177280: 8421890,
                    1610612736: 8389122,
                    1879048192: 8388608,
                    2147483648: 514,
                    2415919104: 8389120,
                    2684354560: 33280,
                    2952790016: 8421376,
                    3221225472: 32770,
                    3489660928: 8388610,
                    3758096384: 0,
                    4026531840: 33282,
                    134217728: 0,
                    402653184: 8421890,
                    671088640: 33282,
                    939524096: 32768,
                    1207959552: 8421888,
                    1476395008: 512,
                    1744830464: 8421378,
                    2013265920: 2,
                    2281701376: 8389120,
                    2550136832: 33280,
                    2818572288: 8421376,
                    3087007744: 8389122,
                    3355443200: 8388610,
                    3623878656: 32770,
                    3892314112: 514,
                    4160749568: 8388608,
                    1: 32768,
                    268435457: 2,
                    536870913: 8421888,
                    805306369: 8388608,
                    1073741825: 8421378,
                    1342177281: 33280,
                    1610612737: 512,
                    1879048193: 8389122,
                    2147483649: 8421890,
                    2415919105: 8421376,
                    2684354561: 8388610,
                    2952790017: 33282,
                    3221225473: 514,
                    3489660929: 8389120,
                    3758096385: 32770,
                    4026531841: 0,
                    134217729: 8421890,
                    402653185: 8421376,
                    671088641: 8388608,
                    939524097: 512,
                    1207959553: 32768,
                    1476395009: 8388610,
                    1744830465: 2,
                    2013265921: 33282,
                    2281701377: 32770,
                    2550136833: 8389122,
                    2818572289: 514,
                    3087007745: 8421888,
                    3355443201: 8389120,
                    3623878657: 0,
                    3892314113: 33280,
                    4160749569: 8421378,
                  },
                  {
                    0: 1074282512,
                    16777216: 16384,
                    33554432: 524288,
                    50331648: 1074266128,
                    67108864: 1073741840,
                    83886080: 1074282496,
                    100663296: 1073758208,
                    117440512: 16,
                    134217728: 540672,
                    150994944: 1073758224,
                    167772160: 1073741824,
                    184549376: 540688,
                    201326592: 524304,
                    218103808: 0,
                    234881024: 16400,
                    251658240: 1074266112,
                    8388608: 1073758208,
                    25165824: 540688,
                    41943040: 16,
                    58720256: 1073758224,
                    75497472: 1074282512,
                    92274688: 1073741824,
                    109051904: 524288,
                    125829120: 1074266128,
                    142606336: 524304,
                    159383552: 0,
                    176160768: 16384,
                    192937984: 1074266112,
                    209715200: 1073741840,
                    226492416: 540672,
                    243269632: 1074282496,
                    260046848: 16400,
                    268435456: 0,
                    285212672: 1074266128,
                    301989888: 1073758224,
                    318767104: 1074282496,
                    335544320: 1074266112,
                    352321536: 16,
                    369098752: 540688,
                    385875968: 16384,
                    402653184: 16400,
                    419430400: 524288,
                    436207616: 524304,
                    452984832: 1073741840,
                    469762048: 540672,
                    486539264: 1073758208,
                    503316480: 1073741824,
                    520093696: 1074282512,
                    276824064: 540688,
                    293601280: 524288,
                    310378496: 1074266112,
                    327155712: 16384,
                    343932928: 1073758208,
                    360710144: 1074282512,
                    377487360: 16,
                    394264576: 1073741824,
                    411041792: 1074282496,
                    427819008: 1073741840,
                    444596224: 1073758224,
                    461373440: 524304,
                    478150656: 0,
                    494927872: 16400,
                    511705088: 1074266128,
                    528482304: 540672,
                  },
                  {
                    0: 260,
                    1048576: 0,
                    2097152: 67109120,
                    3145728: 65796,
                    4194304: 65540,
                    5242880: 67108868,
                    6291456: 67174660,
                    7340032: 67174400,
                    8388608: 67108864,
                    9437184: 67174656,
                    10485760: 65792,
                    11534336: 67174404,
                    12582912: 67109124,
                    13631488: 65536,
                    14680064: 4,
                    15728640: 256,
                    524288: 67174656,
                    1572864: 67174404,
                    2621440: 0,
                    3670016: 67109120,
                    4718592: 67108868,
                    5767168: 65536,
                    6815744: 65540,
                    7864320: 260,
                    8912896: 4,
                    9961472: 256,
                    11010048: 67174400,
                    12058624: 65796,
                    13107200: 65792,
                    14155776: 67109124,
                    15204352: 67174660,
                    16252928: 67108864,
                    16777216: 67174656,
                    17825792: 65540,
                    18874368: 65536,
                    19922944: 67109120,
                    20971520: 256,
                    22020096: 67174660,
                    23068672: 67108868,
                    24117248: 0,
                    25165824: 67109124,
                    26214400: 67108864,
                    27262976: 4,
                    28311552: 65792,
                    29360128: 67174400,
                    30408704: 260,
                    31457280: 65796,
                    32505856: 67174404,
                    17301504: 67108864,
                    18350080: 260,
                    19398656: 67174656,
                    20447232: 0,
                    21495808: 65540,
                    22544384: 67109120,
                    23592960: 256,
                    24641536: 67174404,
                    25690112: 65536,
                    26738688: 67174660,
                    27787264: 65796,
                    28835840: 67108868,
                    29884416: 67109124,
                    30932992: 67174400,
                    31981568: 4,
                    33030144: 65792,
                  },
                  {
                    0: 2151682048,
                    65536: 2147487808,
                    131072: 4198464,
                    196608: 2151677952,
                    262144: 0,
                    327680: 4198400,
                    393216: 2147483712,
                    458752: 4194368,
                    524288: 2147483648,
                    589824: 4194304,
                    655360: 64,
                    720896: 2147487744,
                    786432: 2151678016,
                    851968: 4160,
                    917504: 4096,
                    983040: 2151682112,
                    32768: 2147487808,
                    98304: 64,
                    163840: 2151678016,
                    229376: 2147487744,
                    294912: 4198400,
                    360448: 2151682112,
                    425984: 0,
                    491520: 2151677952,
                    557056: 4096,
                    622592: 2151682048,
                    688128: 4194304,
                    753664: 4160,
                    819200: 2147483648,
                    884736: 4194368,
                    950272: 4198464,
                    1015808: 2147483712,
                    1048576: 4194368,
                    1114112: 4198400,
                    1179648: 2147483712,
                    1245184: 0,
                    1310720: 4160,
                    1376256: 2151678016,
                    1441792: 2151682048,
                    1507328: 2147487808,
                    1572864: 2151682112,
                    1638400: 2147483648,
                    1703936: 2151677952,
                    1769472: 4198464,
                    1835008: 2147487744,
                    1900544: 4194304,
                    1966080: 64,
                    2031616: 4096,
                    1081344: 2151677952,
                    1146880: 2151682112,
                    1212416: 0,
                    1277952: 4198400,
                    1343488: 4194368,
                    1409024: 2147483648,
                    1474560: 2147487808,
                    1540096: 64,
                    1605632: 2147483712,
                    1671168: 4096,
                    1736704: 2147487744,
                    1802240: 2151678016,
                    1867776: 4160,
                    1933312: 2151682048,
                    1998848: 4194304,
                    2064384: 4198464,
                  },
                  {
                    0: 128,
                    4096: 17039360,
                    8192: 262144,
                    12288: 536870912,
                    16384: 537133184,
                    20480: 16777344,
                    24576: 553648256,
                    28672: 262272,
                    32768: 16777216,
                    36864: 537133056,
                    40960: 536871040,
                    45056: 553910400,
                    49152: 553910272,
                    53248: 0,
                    57344: 17039488,
                    61440: 553648128,
                    2048: 17039488,
                    6144: 553648256,
                    10240: 128,
                    14336: 17039360,
                    18432: 262144,
                    22528: 537133184,
                    26624: 553910272,
                    30720: 536870912,
                    34816: 537133056,
                    38912: 0,
                    43008: 553910400,
                    47104: 16777344,
                    51200: 536871040,
                    55296: 553648128,
                    59392: 16777216,
                    63488: 262272,
                    65536: 262144,
                    69632: 128,
                    73728: 536870912,
                    77824: 553648256,
                    81920: 16777344,
                    86016: 553910272,
                    90112: 537133184,
                    94208: 16777216,
                    98304: 553910400,
                    102400: 553648128,
                    106496: 17039360,
                    110592: 537133056,
                    114688: 262272,
                    118784: 536871040,
                    122880: 0,
                    126976: 17039488,
                    67584: 553648256,
                    71680: 16777216,
                    75776: 17039360,
                    79872: 537133184,
                    83968: 536870912,
                    88064: 17039488,
                    92160: 128,
                    96256: 553910272,
                    100352: 262272,
                    104448: 553910400,
                    108544: 0,
                    112640: 553648128,
                    116736: 16777344,
                    120832: 262144,
                    124928: 537133056,
                    129024: 536871040,
                  },
                  {
                    0: 268435464,
                    256: 8192,
                    512: 270532608,
                    768: 270540808,
                    1024: 268443648,
                    1280: 2097152,
                    1536: 2097160,
                    1792: 268435456,
                    2048: 0,
                    2304: 268443656,
                    2560: 2105344,
                    2816: 8,
                    3072: 270532616,
                    3328: 2105352,
                    3584: 8200,
                    3840: 270540800,
                    128: 270532608,
                    384: 270540808,
                    640: 8,
                    896: 2097152,
                    1152: 2105352,
                    1408: 268435464,
                    1664: 268443648,
                    1920: 8200,
                    2176: 2097160,
                    2432: 8192,
                    2688: 268443656,
                    2944: 270532616,
                    3200: 0,
                    3456: 270540800,
                    3712: 2105344,
                    3968: 268435456,
                    4096: 268443648,
                    4352: 270532616,
                    4608: 270540808,
                    4864: 8200,
                    5120: 2097152,
                    5376: 268435456,
                    5632: 268435464,
                    5888: 2105344,
                    6144: 2105352,
                    6400: 0,
                    6656: 8,
                    6912: 270532608,
                    7168: 8192,
                    7424: 268443656,
                    7680: 270540800,
                    7936: 2097160,
                    4224: 8,
                    4480: 2105344,
                    4736: 2097152,
                    4992: 268435464,
                    5248: 268443648,
                    5504: 8200,
                    5760: 270540808,
                    6016: 270532608,
                    6272: 270540800,
                    6528: 270532616,
                    6784: 8192,
                    7040: 2105352,
                    7296: 2097160,
                    7552: 0,
                    7808: 268435456,
                    8064: 268443656,
                  },
                  {
                    0: 1048576,
                    16: 33555457,
                    32: 1024,
                    48: 1049601,
                    64: 34604033,
                    80: 0,
                    96: 1,
                    112: 34603009,
                    128: 33555456,
                    144: 1048577,
                    160: 33554433,
                    176: 34604032,
                    192: 34603008,
                    208: 1025,
                    224: 1049600,
                    240: 33554432,
                    8: 34603009,
                    24: 0,
                    40: 33555457,
                    56: 34604032,
                    72: 1048576,
                    88: 33554433,
                    104: 33554432,
                    120: 1025,
                    136: 1049601,
                    152: 33555456,
                    168: 34603008,
                    184: 1048577,
                    200: 1024,
                    216: 34604033,
                    232: 1,
                    248: 1049600,
                    256: 33554432,
                    272: 1048576,
                    288: 33555457,
                    304: 34603009,
                    320: 1048577,
                    336: 33555456,
                    352: 34604032,
                    368: 1049601,
                    384: 1025,
                    400: 34604033,
                    416: 1049600,
                    432: 1,
                    448: 0,
                    464: 34603008,
                    480: 33554433,
                    496: 1024,
                    264: 1049600,
                    280: 33555457,
                    296: 34603009,
                    312: 1,
                    328: 33554432,
                    344: 1048576,
                    360: 1025,
                    376: 34604032,
                    392: 33554433,
                    408: 34603008,
                    424: 0,
                    440: 34604033,
                    456: 1049601,
                    472: 1024,
                    488: 33555456,
                    504: 1048577,
                  },
                  {
                    0: 134219808,
                    1: 131072,
                    2: 134217728,
                    3: 32,
                    4: 131104,
                    5: 134350880,
                    6: 134350848,
                    7: 2048,
                    8: 134348800,
                    9: 134219776,
                    10: 133120,
                    11: 134348832,
                    12: 2080,
                    13: 0,
                    14: 134217760,
                    15: 133152,
                    2147483648: 2048,
                    2147483649: 134350880,
                    2147483650: 134219808,
                    2147483651: 134217728,
                    2147483652: 134348800,
                    2147483653: 133120,
                    2147483654: 133152,
                    2147483655: 32,
                    2147483656: 134217760,
                    2147483657: 2080,
                    2147483658: 131104,
                    2147483659: 134350848,
                    2147483660: 0,
                    2147483661: 134348832,
                    2147483662: 134219776,
                    2147483663: 131072,
                    16: 133152,
                    17: 134350848,
                    18: 32,
                    19: 2048,
                    20: 134219776,
                    21: 134217760,
                    22: 134348832,
                    23: 131072,
                    24: 0,
                    25: 131104,
                    26: 134348800,
                    27: 134219808,
                    28: 134350880,
                    29: 133120,
                    30: 2080,
                    31: 134217728,
                    2147483664: 131072,
                    2147483665: 2048,
                    2147483666: 134348832,
                    2147483667: 133152,
                    2147483668: 32,
                    2147483669: 134348800,
                    2147483670: 134217728,
                    2147483671: 134219808,
                    2147483672: 134350880,
                    2147483673: 134217760,
                    2147483674: 134219776,
                    2147483675: 0,
                    2147483676: 133120,
                    2147483677: 2080,
                    2147483678: 131104,
                    2147483679: 134350848,
                  },
                ],
                p = [
                  4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504,
                  2147483679,
                ],
                l = (i.DES = a.extend({
                  _doReset: function () {
                    for (var e = this._key.words, t = [], r = 0; r < 56; r++) {
                      var n = s[r] - 1;
                      t[r] = (e[n >>> 5] >>> (31 - (n % 32))) & 1;
                    }
                    for (var a = (this._subKeys = []), i = 0; i < 16; i++) {
                      var d = (a[i] = []),
                        p = c[i];
                      for (r = 0; r < 24; r++)
                        (d[(r / 6) | 0] |=
                          t[(o[r] - 1 + p) % 28] << (31 - (r % 6))),
                          (d[4 + ((r / 6) | 0)] |=
                            t[28 + ((o[r + 24] - 1 + p) % 28)] <<
                            (31 - (r % 6)));
                      for (
                        d[0] = (d[0] << 1) | (d[0] >>> 31), r = 1;
                        r < 7;
                        r++
                      )
                        d[r] = d[r] >>> (4 * (r - 1) + 3);
                      d[7] = (d[7] << 5) | (d[7] >>> 27);
                    }
                    var l = (this._invSubKeys = []);
                    for (r = 0; r < 16; r++) l[r] = a[15 - r];
                  },
                  encryptBlock: function (e, t) {
                    this._doCryptBlock(e, t, this._subKeys);
                  },
                  decryptBlock: function (e, t) {
                    this._doCryptBlock(e, t, this._invSubKeys);
                  },
                  _doCryptBlock: function (e, t, r) {
                    (this._lBlock = e[t]),
                      (this._rBlock = e[t + 1]),
                      u.call(this, 4, 252645135),
                      u.call(this, 16, 65535),
                      h.call(this, 2, 858993459),
                      h.call(this, 8, 16711935),
                      u.call(this, 1, 1431655765);
                    for (var n = 0; n < 16; n++) {
                      for (
                        var a = r[n],
                          i = this._lBlock,
                          s = this._rBlock,
                          o = 0,
                          c = 0;
                        c < 8;
                        c++
                      )
                        o |= d[c][((s ^ a[c]) & p[c]) >>> 0];
                      (this._lBlock = s), (this._rBlock = i ^ o);
                    }
                    var l = this._lBlock;
                    (this._lBlock = this._rBlock),
                      (this._rBlock = l),
                      u.call(this, 1, 1431655765),
                      h.call(this, 8, 16711935),
                      h.call(this, 2, 858993459),
                      u.call(this, 16, 65535),
                      u.call(this, 4, 252645135),
                      (e[t] = this._lBlock),
                      (e[t + 1] = this._rBlock);
                  },
                  keySize: 2,
                  ivSize: 2,
                  blockSize: 2,
                }));
              function u(e, t) {
                var r = ((this._lBlock >>> e) ^ this._rBlock) & t;
                (this._rBlock ^= r), (this._lBlock ^= r << e);
              }
              function h(e, t) {
                var r = ((this._rBlock >>> e) ^ this._lBlock) & t;
                (this._lBlock ^= r), (this._rBlock ^= r << e);
              }
              e.DES = a._createHelper(l);
              var m = (i.TripleDES = a.extend({
                _doReset: function () {
                  var e = this._key.words;
                  if (2 !== e.length && 4 !== e.length && e.length < 6)
                    throw new Error(
                      "Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192."
                    );
                  var t = e.slice(0, 2),
                    n = e.length < 4 ? e.slice(0, 2) : e.slice(2, 4),
                    a = e.length < 6 ? e.slice(0, 2) : e.slice(4, 6);
                  (this._des1 = l.createEncryptor(r.create(t))),
                    (this._des2 = l.createEncryptor(r.create(n))),
                    (this._des3 = l.createEncryptor(r.create(a)));
                },
                encryptBlock: function (e, t) {
                  this._des1.encryptBlock(e, t),
                    this._des2.decryptBlock(e, t),
                    this._des3.encryptBlock(e, t);
                },
                decryptBlock: function (e, t) {
                  this._des3.decryptBlock(e, t),
                    this._des2.encryptBlock(e, t),
                    this._des1.decryptBlock(e, t);
                },
                keySize: 6,
                ivSize: 2,
                blockSize: 2,
              }));
              e.TripleDES = a._createHelper(m);
            })(),
            n.TripleDES);
        },
        4938: function (e, t, r) {
          var n;
          e.exports =
            ((n = r(8249)),
            (function (e) {
              var t = n,
                r = t.lib,
                a = r.Base,
                i = r.WordArray,
                s = (t.x64 = {});
              (s.Word = a.extend({
                init: function (e, t) {
                  (this.high = e), (this.low = t);
                },
              })),
                (s.WordArray = a.extend({
                  init: function (t, r) {
                    (t = this.words = t || []),
                      (this.sigBytes = r != e ? r : 8 * t.length);
                  },
                  toX32: function () {
                    for (
                      var e = this.words, t = e.length, r = [], n = 0;
                      n < t;
                      n++
                    ) {
                      var a = e[n];
                      r.push(a.high), r.push(a.low);
                    }
                    return i.create(r, this.sigBytes);
                  },
                  clone: function () {
                    for (
                      var e = a.clone.call(this),
                        t = (e.words = this.words.slice(0)),
                        r = t.length,
                        n = 0;
                      n < r;
                      n++
                    )
                      t[n] = t[n].clone();
                    return e;
                  },
                }));
            })(),
            n);
        },
        1227: (e, t, r) => {
          (t.formatArgs = function (t) {
            if (
              ((t[0] =
                (this.useColors ? "%c" : "") +
                this.namespace +
                (this.useColors ? " %c" : " ") +
                t[0] +
                (this.useColors ? "%c " : " ") +
                "+" +
                e.exports.humanize(this.diff)),
              !this.useColors)
            )
              return;
            const r = "color: " + this.color;
            t.splice(1, 0, r, "color: inherit");
            let n = 0,
              a = 0;
            t[0].replace(/%[a-zA-Z%]/g, (e) => {
              "%%" !== e && (n++, "%c" === e && (a = n));
            }),
              t.splice(a, 0, r);
          }),
            (t.save = function (e) {
              try {
                e
                  ? t.storage.setItem("debug", e)
                  : t.storage.removeItem("debug");
              } catch (e) {}
            }),
            (t.load = function () {
              let e;
              try {
                e = t.storage.getItem("debug");
              } catch (e) {}
              !e &&
                "undefined" != typeof process &&
                "env" in process &&
                (e = process.env.DEBUG);
              return e;
            }),
            (t.useColors = function () {
              if (
                "undefined" != typeof window &&
                window.process &&
                ("renderer" === window.process.type || window.process.__nwjs)
              )
                return !0;
              if (
                "undefined" != typeof navigator &&
                navigator.userAgent &&
                navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)
              )
                return !1;
              return (
                ("undefined" != typeof document &&
                  document.documentElement &&
                  document.documentElement.style &&
                  document.documentElement.style.WebkitAppearance) ||
                ("undefined" != typeof window &&
                  window.console &&
                  (window.console.firebug ||
                    (window.console.exception && window.console.table))) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
                  parseInt(RegExp.$1, 10) >= 31) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
              );
            }),
            (t.storage = (function () {
              try {
                return localStorage;
              } catch (e) {}
            })()),
            (t.destroy = (() => {
              let e = !1;
              return () => {
                e ||
                  ((e = !0),
                  console.warn(
                    "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                  ));
              };
            })()),
            (t.colors = [
              "#0000CC",
              "#0000FF",
              "#0033CC",
              "#0033FF",
              "#0066CC",
              "#0066FF",
              "#0099CC",
              "#0099FF",
              "#00CC00",
              "#00CC33",
              "#00CC66",
              "#00CC99",
              "#00CCCC",
              "#00CCFF",
              "#3300CC",
              "#3300FF",
              "#3333CC",
              "#3333FF",
              "#3366CC",
              "#3366FF",
              "#3399CC",
              "#3399FF",
              "#33CC00",
              "#33CC33",
              "#33CC66",
              "#33CC99",
              "#33CCCC",
              "#33CCFF",
              "#6600CC",
              "#6600FF",
              "#6633CC",
              "#6633FF",
              "#66CC00",
              "#66CC33",
              "#9900CC",
              "#9900FF",
              "#9933CC",
              "#9933FF",
              "#99CC00",
              "#99CC33",
              "#CC0000",
              "#CC0033",
              "#CC0066",
              "#CC0099",
              "#CC00CC",
              "#CC00FF",
              "#CC3300",
              "#CC3333",
              "#CC3366",
              "#CC3399",
              "#CC33CC",
              "#CC33FF",
              "#CC6600",
              "#CC6633",
              "#CC9900",
              "#CC9933",
              "#CCCC00",
              "#CCCC33",
              "#FF0000",
              "#FF0033",
              "#FF0066",
              "#FF0099",
              "#FF00CC",
              "#FF00FF",
              "#FF3300",
              "#FF3333",
              "#FF3366",
              "#FF3399",
              "#FF33CC",
              "#FF33FF",
              "#FF6600",
              "#FF6633",
              "#FF9900",
              "#FF9933",
              "#FFCC00",
              "#FFCC33",
            ]),
            (t.log = console.debug || console.log || (() => {})),
            (e.exports = r(2447)(t));
          const { formatters: n } = e.exports;
          n.j = function (e) {
            try {
              return JSON.stringify(e);
            } catch (e) {
              return "[UnexpectedJSONParseError]: " + e.message;
            }
          };
        },
        2447: (e, t, r) => {
          e.exports = function (e) {
            function t(e) {
              let r,
                a,
                i,
                s = null;
              function o(...e) {
                if (!o.enabled) return;
                const n = o,
                  a = Number(new Date()),
                  i = a - (r || a);
                (n.diff = i),
                  (n.prev = r),
                  (n.curr = a),
                  (r = a),
                  (e[0] = t.coerce(e[0])),
                  "string" != typeof e[0] && e.unshift("%O");
                let s = 0;
                (e[0] = e[0].replace(/%([a-zA-Z%])/g, (r, a) => {
                  if ("%%" === r) return "%";
                  s++;
                  const i = t.formatters[a];
                  if ("function" == typeof i) {
                    const t = e[s];
                    (r = i.call(n, t)), e.splice(s, 1), s--;
                  }
                  return r;
                })),
                  t.formatArgs.call(n, e);
                (n.log || t.log).apply(n, e);
              }
              return (
                (o.namespace = e),
                (o.useColors = t.useColors()),
                (o.color = t.selectColor(e)),
                (o.extend = n),
                (o.destroy = t.destroy),
                Object.defineProperty(o, "enabled", {
                  enumerable: !0,
                  configurable: !1,
                  get: () =>
                    null !== s
                      ? s
                      : (a !== t.namespaces &&
                          ((a = t.namespaces), (i = t.enabled(e))),
                        i),
                  set: (e) => {
                    s = e;
                  },
                }),
                "function" == typeof t.init && t.init(o),
                o
              );
            }
            function n(e, r) {
              const n = t(this.namespace + (void 0 === r ? ":" : r) + e);
              return (n.log = this.log), n;
            }
            function a(e) {
              return e
                .toString()
                .substring(2, e.toString().length - 2)
                .replace(/\.\*\?$/, "*");
            }
            return (
              (t.debug = t),
              (t.default = t),
              (t.coerce = function (e) {
                if (e instanceof Error) return e.stack || e.message;
                return e;
              }),
              (t.disable = function () {
                const e = [
                  ...t.names.map(a),
                  ...t.skips.map(a).map((e) => "-" + e),
                ].join(",");
                return t.enable(""), e;
              }),
              (t.enable = function (e) {
                let r;
                t.save(e), (t.namespaces = e), (t.names = []), (t.skips = []);
                const n = ("string" == typeof e ? e : "").split(/[\s,]+/),
                  a = n.length;
                for (r = 0; r < a; r++)
                  n[r] &&
                    ("-" === (e = n[r].replace(/\*/g, ".*?"))[0]
                      ? t.skips.push(new RegExp("^" + e.substr(1) + "$"))
                      : t.names.push(new RegExp("^" + e + "$")));
              }),
              (t.enabled = function (e) {
                if ("*" === e[e.length - 1]) return !0;
                let r, n;
                for (r = 0, n = t.skips.length; r < n; r++)
                  if (t.skips[r].test(e)) return !1;
                for (r = 0, n = t.names.length; r < n; r++)
                  if (t.names[r].test(e)) return !0;
                return !1;
              }),
              (t.humanize = r(7824)),
              (t.destroy = function () {
                console.warn(
                  "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                );
              }),
              Object.keys(e).forEach((r) => {
                t[r] = e[r];
              }),
              (t.names = []),
              (t.skips = []),
              (t.formatters = {}),
              (t.selectColor = function (e) {
                let r = 0;
                for (let t = 0; t < e.length; t++)
                  (r = (r << 5) - r + e.charCodeAt(t)), (r |= 0);
                return t.colors[Math.abs(r) % t.colors.length];
              }),
              t.enable(t.load()),
              t
            );
          };
        },
        284: (e) => {
          var t = function () {
            if ("object" == typeof self && self) return self;
            if ("object" == typeof window && window) return window;
            throw new Error("Unable to resolve global `this`");
          };
          e.exports = (function () {
            if (this) return this;
            if ("object" == typeof globalThis && globalThis) return globalThis;
            try {
              Object.defineProperty(Object.prototype, "__global__", {
                get: function () {
                  return this;
                },
                configurable: !0,
              });
            } catch (e) {
              return t();
            }
            try {
              return __global__ || t();
            } finally {
              delete Object.prototype.__global__;
            }
          })();
        },
        7187: (e) => {
          "use strict";
          var t,
            r = "object" == typeof Reflect ? Reflect : null,
            n =
              r && "function" == typeof r.apply
                ? r.apply
                : function (e, t, r) {
                    return Function.prototype.apply.call(e, t, r);
                  };
          t =
            r && "function" == typeof r.ownKeys
              ? r.ownKeys
              : Object.getOwnPropertySymbols
              ? function (e) {
                  return Object.getOwnPropertyNames(e).concat(
                    Object.getOwnPropertySymbols(e)
                  );
                }
              : function (e) {
                  return Object.getOwnPropertyNames(e);
                };
          var a =
            Number.isNaN ||
            function (e) {
              return e != e;
            };
          function i() {
            i.init.call(this);
          }
          (e.exports = i),
            (e.exports.once = function (e, t) {
              return new Promise(function (r, n) {
                function a(r) {
                  e.removeListener(t, i), n(r);
                }
                function i() {
                  "function" == typeof e.removeListener &&
                    e.removeListener("error", a),
                    r([].slice.call(arguments));
                }
                f(e, t, i, { once: !0 }),
                  "error" !== t &&
                    (function (e, t, r) {
                      "function" == typeof e.on && f(e, "error", t, r);
                    })(e, a, { once: !0 });
              });
            }),
            (i.EventEmitter = i),
            (i.prototype._events = void 0),
            (i.prototype._eventsCount = 0),
            (i.prototype._maxListeners = void 0);
          var s = 10;
          function o(e) {
            if ("function" != typeof e)
              throw new TypeError(
                'The "listener" argument must be of type Function. Received type ' +
                  typeof e
              );
          }
          function c(e) {
            return void 0 === e._maxListeners
              ? i.defaultMaxListeners
              : e._maxListeners;
          }
          function d(e, t, r, n) {
            var a, i, s, d;
            if (
              (o(r),
              void 0 === (i = e._events)
                ? ((i = e._events = Object.create(null)), (e._eventsCount = 0))
                : (void 0 !== i.newListener &&
                    (e.emit("newListener", t, r.listener ? r.listener : r),
                    (i = e._events)),
                  (s = i[t])),
              void 0 === s)
            )
              (s = i[t] = r), ++e._eventsCount;
            else if (
              ("function" == typeof s
                ? (s = i[t] = n ? [r, s] : [s, r])
                : n
                ? s.unshift(r)
                : s.push(r),
              (a = c(e)) > 0 && s.length > a && !s.warned)
            ) {
              s.warned = !0;
              var p = new Error(
                "Possible EventEmitter memory leak detected. " +
                  s.length +
                  " " +
                  String(t) +
                  " listeners added. Use emitter.setMaxListeners() to increase limit"
              );
              (p.name = "MaxListenersExceededWarning"),
                (p.emitter = e),
                (p.type = t),
                (p.count = s.length),
                (d = p),
                console && console.warn && console.warn(d);
            }
            return e;
          }
          function p() {
            if (!this.fired)
              return (
                this.target.removeListener(this.type, this.wrapFn),
                (this.fired = !0),
                0 === arguments.length
                  ? this.listener.call(this.target)
                  : this.listener.apply(this.target, arguments)
              );
          }
          function l(e, t, r) {
            var n = {
                fired: !1,
                wrapFn: void 0,
                target: e,
                type: t,
                listener: r,
              },
              a = p.bind(n);
            return (a.listener = r), (n.wrapFn = a), a;
          }
          function u(e, t, r) {
            var n = e._events;
            if (void 0 === n) return [];
            var a = n[t];
            return void 0 === a
              ? []
              : "function" == typeof a
              ? r
                ? [a.listener || a]
                : [a]
              : r
              ? (function (e) {
                  for (var t = new Array(e.length), r = 0; r < t.length; ++r)
                    t[r] = e[r].listener || e[r];
                  return t;
                })(a)
              : m(a, a.length);
          }
          function h(e) {
            var t = this._events;
            if (void 0 !== t) {
              var r = t[e];
              if ("function" == typeof r) return 1;
              if (void 0 !== r) return r.length;
            }
            return 0;
          }
          function m(e, t) {
            for (var r = new Array(t), n = 0; n < t; ++n) r[n] = e[n];
            return r;
          }
          function f(e, t, r, n) {
            if ("function" == typeof e.on) n.once ? e.once(t, r) : e.on(t, r);
            else {
              if ("function" != typeof e.addEventListener)
                throw new TypeError(
                  'The "emitter" argument must be of type EventEmitter. Received type ' +
                    typeof e
                );
              e.addEventListener(t, function a(i) {
                n.once && e.removeEventListener(t, a), r(i);
              });
            }
          }
          Object.defineProperty(i, "defaultMaxListeners", {
            enumerable: !0,
            get: function () {
              return s;
            },
            set: function (e) {
              if ("number" != typeof e || e < 0 || a(e))
                throw new RangeError(
                  'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' +
                    e +
                    "."
                );
              s = e;
            },
          }),
            (i.init = function () {
              (void 0 !== this._events &&
                this._events !== Object.getPrototypeOf(this)._events) ||
                ((this._events = Object.create(null)), (this._eventsCount = 0)),
                (this._maxListeners = this._maxListeners || void 0);
            }),
            (i.prototype.setMaxListeners = function (e) {
              if ("number" != typeof e || e < 0 || a(e))
                throw new RangeError(
                  'The value of "n" is out of range. It must be a non-negative number. Received ' +
                    e +
                    "."
                );
              return (this._maxListeners = e), this;
            }),
            (i.prototype.getMaxListeners = function () {
              return c(this);
            }),
            (i.prototype.emit = function (e) {
              for (var t = [], r = 1; r < arguments.length; r++)
                t.push(arguments[r]);
              var a = "error" === e,
                i = this._events;
              if (void 0 !== i) a = a && void 0 === i.error;
              else if (!a) return !1;
              if (a) {
                var s;
                if ((t.length > 0 && (s = t[0]), s instanceof Error)) throw s;
                var o = new Error(
                  "Unhandled error." + (s ? " (" + s.message + ")" : "")
                );
                throw ((o.context = s), o);
              }
              var c = i[e];
              if (void 0 === c) return !1;
              if ("function" == typeof c) n(c, this, t);
              else {
                var d = c.length,
                  p = m(c, d);
                for (r = 0; r < d; ++r) n(p[r], this, t);
              }
              return !0;
            }),
            (i.prototype.addListener = function (e, t) {
              return d(this, e, t, !1);
            }),
            (i.prototype.on = i.prototype.addListener),
            (i.prototype.prependListener = function (e, t) {
              return d(this, e, t, !0);
            }),
            (i.prototype.once = function (e, t) {
              return o(t), this.on(e, l(this, e, t)), this;
            }),
            (i.prototype.prependOnceListener = function (e, t) {
              return o(t), this.prependListener(e, l(this, e, t)), this;
            }),
            (i.prototype.removeListener = function (e, t) {
              var r, n, a, i, s;
              if ((o(t), void 0 === (n = this._events))) return this;
              if (void 0 === (r = n[e])) return this;
              if (r === t || r.listener === t)
                0 == --this._eventsCount
                  ? (this._events = Object.create(null))
                  : (delete n[e],
                    n.removeListener &&
                      this.emit("removeListener", e, r.listener || t));
              else if ("function" != typeof r) {
                for (a = -1, i = r.length - 1; i >= 0; i--)
                  if (r[i] === t || r[i].listener === t) {
                    (s = r[i].listener), (a = i);
                    break;
                  }
                if (a < 0) return this;
                0 === a
                  ? r.shift()
                  : (function (e, t) {
                      for (; t + 1 < e.length; t++) e[t] = e[t + 1];
                      e.pop();
                    })(r, a),
                  1 === r.length && (n[e] = r[0]),
                  void 0 !== n.removeListener &&
                    this.emit("removeListener", e, s || t);
              }
              return this;
            }),
            (i.prototype.off = i.prototype.removeListener),
            (i.prototype.removeAllListeners = function (e) {
              var t, r, n;
              if (void 0 === (r = this._events)) return this;
              if (void 0 === r.removeListener)
                return (
                  0 === arguments.length
                    ? ((this._events = Object.create(null)),
                      (this._eventsCount = 0))
                    : void 0 !== r[e] &&
                      (0 == --this._eventsCount
                        ? (this._events = Object.create(null))
                        : delete r[e]),
                  this
                );
              if (0 === arguments.length) {
                var a,
                  i = Object.keys(r);
                for (n = 0; n < i.length; ++n)
                  "removeListener" !== (a = i[n]) && this.removeAllListeners(a);
                return (
                  this.removeAllListeners("removeListener"),
                  (this._events = Object.create(null)),
                  (this._eventsCount = 0),
                  this
                );
              }
              if ("function" == typeof (t = r[e])) this.removeListener(e, t);
              else if (void 0 !== t)
                for (n = t.length - 1; n >= 0; n--)
                  this.removeListener(e, t[n]);
              return this;
            }),
            (i.prototype.listeners = function (e) {
              return u(this, e, !0);
            }),
            (i.prototype.rawListeners = function (e) {
              return u(this, e, !1);
            }),
            (i.listenerCount = function (e, t) {
              return "function" == typeof e.listenerCount
                ? e.listenerCount(t)
                : h.call(e, t);
            }),
            (i.prototype.listenerCount = h),
            (i.prototype.eventNames = function () {
              return this._eventsCount > 0 ? t(this._events) : [];
            });
        },
        7855: (e, t, r) => {
          const n = r(1227)("h264-profile-level-id");
          n.log = console.info.bind(console);
          (t.ProfileConstrainedBaseline = 1),
            (t.ProfileBaseline = 2),
            (t.ProfileMain = 3),
            (t.ProfileConstrainedHigh = 4),
            (t.ProfileHigh = 5);
          const a = 10;
          (t.Level1_b = 0),
            (t.Level1 = 10),
            (t.Level1_1 = 11),
            (t.Level1_2 = 12),
            (t.Level1_3 = 13),
            (t.Level2 = 20),
            (t.Level2_1 = 21),
            (t.Level2_2 = 22),
            (t.Level3 = 30),
            (t.Level3_1 = 31),
            (t.Level3_2 = 32),
            (t.Level4 = 40),
            (t.Level4_1 = 41),
            (t.Level4_2 = 42),
            (t.Level5 = 50),
            (t.Level5_1 = 51),
            (t.Level5_2 = 52);
          class i {
            constructor(e, t) {
              (this.profile = e), (this.level = t);
            }
          }
          t.ProfileLevelId = i;
          const s = new i(1, 31);
          class o {
            constructor(e) {
              (this._mask = ~p("x", e)), (this._maskedValue = p("1", e));
            }
            isMatch(e) {
              return this._maskedValue === (e & this._mask);
            }
          }
          class c {
            constructor(e, t, r) {
              (this.profile_idc = e),
                (this.profile_iop = t),
                (this.profile = r);
            }
          }
          const d = [
            new c(66, new o("x1xx0000"), 1),
            new c(77, new o("1xxx0000"), 1),
            new c(88, new o("11xx0000"), 1),
            new c(66, new o("x0xx0000"), 2),
            new c(88, new o("10xx0000"), 2),
            new c(77, new o("0x0x0000"), 3),
            new c(100, new o("00000000"), 5),
            new c(100, new o("00001100"), 4),
          ];
          function p(e, t) {
            return (
              ((t[0] === e) << 7) |
              ((t[1] === e) << 6) |
              ((t[2] === e) << 5) |
              ((t[3] === e) << 4) |
              ((t[4] === e) << 3) |
              ((t[5] === e) << 2) |
              ((t[6] === e) << 1) |
              ((t[7] === e) << 0)
            );
          }
          function l(e = {}) {
            const t = e["level-asymmetry-allowed"];
            return 1 === t || "1" === t;
          }
          (t.parseProfileLevelId = function (e) {
            if ("string" != typeof e || 6 !== e.length) return null;
            const t = parseInt(e, 16);
            if (0 === t) return null;
            const r = 255 & t,
              a = (t >> 8) & 255,
              s = (t >> 16) & 255;
            let o;
            switch (r) {
              case 11:
                o = 0 != (16 & a) ? 0 : 11;
                break;
              case 10:
              case 12:
              case 13:
              case 20:
              case 21:
              case 22:
              case 30:
              case 31:
              case 32:
              case 40:
              case 41:
              case 42:
              case 50:
              case 51:
              case 52:
                o = r;
                break;
              default:
                return (
                  n("parseProfileLevelId() | unrecognized level_idc:%s", r),
                  null
                );
            }
            for (const e of d)
              if (s === e.profile_idc && e.profile_iop.isMatch(a))
                return new i(e.profile, o);
            return (
              n(
                "parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"
              ),
              null
            );
          }),
            (t.profileLevelIdToString = function (e) {
              if (0 == e.level)
                switch (e.profile) {
                  case 1:
                    return "42f00b";
                  case 2:
                    return "42100b";
                  case 3:
                    return "4d100b";
                  default:
                    return (
                      n(
                        "profileLevelIdToString() | Level 1_b not is allowed for profile:%s",
                        e.profile
                      ),
                      null
                    );
                }
              let t;
              switch (e.profile) {
                case 1:
                  t = "42e0";
                  break;
                case 2:
                  t = "4200";
                  break;
                case 3:
                  t = "4d00";
                  break;
                case 4:
                  t = "640c";
                  break;
                case 5:
                  t = "6400";
                  break;
                default:
                  return (
                    n(
                      "profileLevelIdToString() | unrecognized profile:%s",
                      e.profile
                    ),
                    null
                  );
              }
              let r = e.level.toString(16);
              return 1 === r.length && (r = `0${r}`), `${t}${r}`;
            }),
            (t.parseSdpProfileLevelId = function (e = {}) {
              const r = e["profile-level-id"];
              return r ? t.parseProfileLevelId(r) : s;
            }),
            (t.isSameProfile = function (e = {}, r = {}) {
              const n = t.parseSdpProfileLevelId(e),
                a = t.parseSdpProfileLevelId(r);
              return Boolean(n && a && n.profile === a.profile);
            }),
            (t.generateProfileLevelIdForAnswer = function (e = {}, r = {}) {
              if (!e["profile-level-id"] && !r["profile-level-id"])
                return (
                  n(
                    "generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"
                  ),
                  null
                );
              const s = t.parseSdpProfileLevelId(e),
                o = t.parseSdpProfileLevelId(r);
              if (!s) throw new TypeError("invalid local_profile_level_id");
              if (!o) throw new TypeError("invalid remote_profile_level_id");
              if (s.profile !== o.profile)
                throw new TypeError("H264 Profile mismatch");
              const c = l(e) && l(r),
                d = s.level,
                p = o.level,
                u = (function (e, t) {
                  return 0 === e
                    ? t !== a && 0 !== t
                    : 0 === t
                    ? e !== a
                    : e < t;
                })((h = d), (m = p))
                  ? h
                  : m;
              var h, m;
              const f = c ? d : u;
              return (
                n(
                  "generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",
                  s.profile,
                  f
                ),
                t.profileLevelIdToString(new i(s.profile, f))
              );
            });
        },
        6808: (e, t, r) => {
          var n, a;
          !(function (i) {
            if (
              (void 0 ===
                (a = "function" == typeof (n = i) ? n.call(t, r, t, e) : n) ||
                (e.exports = a),
              !0,
              (e.exports = i()),
              !!0)
            ) {
              var s = window.Cookies,
                o = (window.Cookies = i());
              o.noConflict = function () {
                return (window.Cookies = s), o;
              };
            }
          })(function () {
            function e() {
              for (var e = 0, t = {}; e < arguments.length; e++) {
                var r = arguments[e];
                for (var n in r) t[n] = r[n];
              }
              return t;
            }
            function t(e) {
              return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
            }
            return (function r(n) {
              function a() {}
              function i(t, r, i) {
                if ("undefined" != typeof document) {
                  "number" ==
                    typeof (i = e({ path: "/" }, a.defaults, i)).expires &&
                    (i.expires = new Date(1 * new Date() + 864e5 * i.expires)),
                    (i.expires = i.expires ? i.expires.toUTCString() : "");
                  try {
                    var s = JSON.stringify(r);
                    /^[\{\[]/.test(s) && (r = s);
                  } catch (e) {}
                  (r = n.write
                    ? n.write(r, t)
                    : encodeURIComponent(String(r)).replace(
                        /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
                        decodeURIComponent
                      )),
                    (t = encodeURIComponent(String(t))
                      .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
                      .replace(/[\(\)]/g, escape));
                  var o = "";
                  for (var c in i)
                    i[c] &&
                      ((o += "; " + c),
                      !0 !== i[c] && (o += "=" + i[c].split(";")[0]));
                  return (document.cookie = t + "=" + r + o);
                }
              }
              function s(e, r) {
                if ("undefined" != typeof document) {
                  for (
                    var a = {},
                      i = document.cookie ? document.cookie.split("; ") : [],
                      s = 0;
                    s < i.length;
                    s++
                  ) {
                    var o = i[s].split("="),
                      c = o.slice(1).join("=");
                    r || '"' !== c.charAt(0) || (c = c.slice(1, -1));
                    try {
                      var d = t(o[0]);
                      if (((c = (n.read || n)(c, d) || t(c)), r))
                        try {
                          c = JSON.parse(c);
                        } catch (e) {}
                      if (((a[d] = c), e === d)) break;
                    } catch (e) {}
                  }
                  return e ? a[e] : a;
                }
              }
              return (
                (a.set = i),
                (a.get = function (e) {
                  return s(e, !1);
                }),
                (a.getJSON = function (e) {
                  return s(e, !0);
                }),
                (a.remove = function (t, r) {
                  i(t, "", e(r, { expires: -1 }));
                }),
                (a.defaults = {}),
                (a.withConverter = r),
                a
              );
            })(function () {});
          });
        },
        9514: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Consumer = void 0);
          const n = r(8562),
            a = r(4493),
            i = r(9992),
            s = new n.Logger("Consumer");
          class o extends a.EnhancedEventEmitter {
            constructor({
              id: e,
              localId: t,
              producerId: r,
              rtpReceiver: n,
              track: i,
              rtpParameters: o,
              appData: c,
            }) {
              super(),
                (this._closed = !1),
                (this._observer = new a.EnhancedEventEmitter()),
                s.debug("constructor()"),
                (this._id = e),
                (this._localId = t),
                (this._producerId = r),
                (this._rtpReceiver = n),
                (this._track = i),
                (this._rtpParameters = o),
                (this._paused = !i.enabled),
                (this._appData = c || {}),
                (this.onTrackEnded = this.onTrackEnded.bind(this)),
                this.handleTrack();
            }
            get id() {
              return this._id;
            }
            get localId() {
              return this._localId;
            }
            get producerId() {
              return this._producerId;
            }
            get closed() {
              return this._closed;
            }
            get kind() {
              return this._track.kind;
            }
            get rtpReceiver() {
              return this._rtpReceiver;
            }
            get track() {
              return this._track;
            }
            get rtpParameters() {
              return this._rtpParameters;
            }
            get paused() {
              return this._paused;
            }
            get appData() {
              return this._appData;
            }
            set appData(e) {
              this._appData = e;
            }
            get observer() {
              return this._observer;
            }
            close() {
              this._closed ||
                (s.debug("close()"),
                (this._closed = !0),
                this.destroyTrack(),
                this.emit("@close"),
                this._observer.safeEmit("close"));
            }
            transportClosed() {
              this._closed ||
                (s.debug("transportClosed()"),
                (this._closed = !0),
                this.destroyTrack(),
                this.safeEmit("transportclose"),
                this._observer.safeEmit("close"));
            }
            async getStats() {
              if (this._closed) throw new i.InvalidStateError("closed");
              return new Promise((e, t) => {
                this.safeEmit("@getstats", e, t);
              });
            }
            pause() {
              s.debug("pause()"),
                this._closed
                  ? s.error("pause() | Consumer closed")
                  : this._paused
                  ? s.debug("pause() | Consumer is already paused")
                  : ((this._paused = !0),
                    (this._track.enabled = !1),
                    this.emit("@pause"),
                    this._observer.safeEmit("pause"));
            }
            resume() {
              s.debug("resume()"),
                this._closed
                  ? s.error("resume() | Consumer closed")
                  : this._paused
                  ? ((this._paused = !1),
                    (this._track.enabled = !0),
                    this.emit("@resume"),
                    this._observer.safeEmit("resume"))
                  : s.debug("resume() | Consumer is already resumed");
            }
            onTrackEnded() {
              s.debug('track "ended" event'),
                this.safeEmit("trackended"),
                this._observer.safeEmit("trackended");
            }
            handleTrack() {
              this._track.addEventListener("ended", this.onTrackEnded);
            }
            destroyTrack() {
              try {
                this._track.removeEventListener("ended", this.onTrackEnded),
                  this._track.stop();
              } catch (e) {}
            }
          }
          t.Consumer = o;
        },
        1623: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.DataConsumer = void 0);
          const n = r(8562),
            a = r(4493),
            i = new n.Logger("DataConsumer");
          class s extends a.EnhancedEventEmitter {
            constructor({
              id: e,
              dataProducerId: t,
              dataChannel: r,
              sctpStreamParameters: n,
              appData: s,
            }) {
              super(),
                (this._closed = !1),
                (this._observer = new a.EnhancedEventEmitter()),
                i.debug("constructor()"),
                (this._id = e),
                (this._dataProducerId = t),
                (this._dataChannel = r),
                (this._sctpStreamParameters = n),
                (this._appData = s || {}),
                this.handleDataChannel();
            }
            get id() {
              return this._id;
            }
            get dataProducerId() {
              return this._dataProducerId;
            }
            get closed() {
              return this._closed;
            }
            get sctpStreamParameters() {
              return this._sctpStreamParameters;
            }
            get readyState() {
              return this._dataChannel.readyState;
            }
            get label() {
              return this._dataChannel.label;
            }
            get protocol() {
              return this._dataChannel.protocol;
            }
            get binaryType() {
              return this._dataChannel.binaryType;
            }
            set binaryType(e) {
              this._dataChannel.binaryType = e;
            }
            get appData() {
              return this._appData;
            }
            set appData(e) {
              this._appData = e;
            }
            get observer() {
              return this._observer;
            }
            close() {
              this._closed ||
                (i.debug("close()"),
                (this._closed = !0),
                this._dataChannel.close(),
                this.emit("@close"),
                this._observer.safeEmit("close"));
            }
            transportClosed() {
              this._closed ||
                (i.debug("transportClosed()"),
                (this._closed = !0),
                this._dataChannel.close(),
                this.safeEmit("transportclose"),
                this._observer.safeEmit("close"));
            }
            handleDataChannel() {
              this._dataChannel.addEventListener("open", () => {
                this._closed ||
                  (i.debug('DataChannel "open" event'), this.safeEmit("open"));
              }),
                this._dataChannel.addEventListener("error", (e) => {
                  if (this._closed) return;
                  let { error: t } = e;
                  t || (t = new Error("unknown DataChannel error")),
                    "sctp-failure" === t.errorDetail
                      ? i.error(
                          "DataChannel SCTP error [sctpCauseCode:%s]: %s",
                          t.sctpCauseCode,
                          t.message
                        )
                      : i.error('DataChannel "error" event: %o', t),
                    this.safeEmit("error", t);
                }),
                this._dataChannel.addEventListener("close", () => {
                  this._closed ||
                    (i.warn('DataChannel "close" event'),
                    (this._closed = !0),
                    this.emit("@close"),
                    this.safeEmit("close"),
                    this._observer.safeEmit("close"));
                }),
                this._dataChannel.addEventListener("message", (e) => {
                  this._closed || this.safeEmit("message", e.data);
                });
            }
          }
          t.DataConsumer = s;
        },
        5504: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.DataProducer = void 0);
          const n = r(8562),
            a = r(4493),
            i = r(9992),
            s = new n.Logger("DataProducer");
          class o extends a.EnhancedEventEmitter {
            constructor({
              id: e,
              dataChannel: t,
              sctpStreamParameters: r,
              appData: n,
            }) {
              super(),
                (this._closed = !1),
                (this._observer = new a.EnhancedEventEmitter()),
                s.debug("constructor()"),
                (this._id = e),
                (this._dataChannel = t),
                (this._sctpStreamParameters = r),
                (this._appData = n || {}),
                this.handleDataChannel();
            }
            get id() {
              return this._id;
            }
            get closed() {
              return this._closed;
            }
            get sctpStreamParameters() {
              return this._sctpStreamParameters;
            }
            get readyState() {
              return this._dataChannel.readyState;
            }
            get label() {
              return this._dataChannel.label;
            }
            get protocol() {
              return this._dataChannel.protocol;
            }
            get bufferedAmount() {
              return this._dataChannel.bufferedAmount;
            }
            get bufferedAmountLowThreshold() {
              return this._dataChannel.bufferedAmountLowThreshold;
            }
            set bufferedAmountLowThreshold(e) {
              this._dataChannel.bufferedAmountLowThreshold = e;
            }
            get appData() {
              return this._appData;
            }
            set appData(e) {
              this._appData = e;
            }
            get observer() {
              return this._observer;
            }
            close() {
              this._closed ||
                (s.debug("close()"),
                (this._closed = !0),
                this._dataChannel.close(),
                this.emit("@close"),
                this._observer.safeEmit("close"));
            }
            transportClosed() {
              this._closed ||
                (s.debug("transportClosed()"),
                (this._closed = !0),
                this._dataChannel.close(),
                this.safeEmit("transportclose"),
                this._observer.safeEmit("close"));
            }
            send(e) {
              if ((s.debug("send()"), this._closed))
                throw new i.InvalidStateError("closed");
              this._dataChannel.send(e);
            }
            handleDataChannel() {
              this._dataChannel.addEventListener("open", () => {
                this._closed ||
                  (s.debug('DataChannel "open" event'), this.safeEmit("open"));
              }),
                this._dataChannel.addEventListener("error", (e) => {
                  if (this._closed) return;
                  let { error: t } = e;
                  t || (t = new Error("unknown DataChannel error")),
                    "sctp-failure" === t.errorDetail
                      ? s.error(
                          "DataChannel SCTP error [sctpCauseCode:%s]: %s",
                          t.sctpCauseCode,
                          t.message
                        )
                      : s.error('DataChannel "error" event: %o', t),
                    this.safeEmit("error", t);
                }),
                this._dataChannel.addEventListener("close", () => {
                  this._closed ||
                    (s.warn('DataChannel "close" event'),
                    (this._closed = !0),
                    this.emit("@close"),
                    this.safeEmit("close"),
                    this._observer.safeEmit("close"));
                }),
                this._dataChannel.addEventListener("message", () => {
                  this._closed ||
                    s.warn(
                      'DataChannel "message" event in a DataProducer, message discarded'
                    );
                }),
                this._dataChannel.addEventListener("bufferedamountlow", () => {
                  this._closed || this.safeEmit("bufferedamountlow");
                });
            }
          }
          t.DataProducer = o;
        },
        3120: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              },
            s =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Device = t.detectDevice = void 0);
          const o = s(r(1206)),
            c = r(8562),
            d = r(4493),
            p = r(9992),
            l = i(r(3347)),
            u = i(r(5280)),
            h = r(5202),
            m = r(2960),
            f = r(6656),
            _ = r(5372),
            g = r(5697),
            v = r(564),
            y = r(1419),
            b = r(9862),
            S = r(2205),
            w = r(7392),
            T = r(3433),
            E = r(4770),
            R = new c.Logger("Device");
          function P() {
            if (
              "object" == typeof navigator &&
              "ReactNative" === navigator.product
            )
              return "undefined" == typeof RTCPeerConnection
                ? void R.warn(
                    "this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?"
                  )
                : "undefined" != typeof RTCRtpTransceiver
                ? (R.debug(
                    "this._detectDevice() | ReactNative UnifiedPlan handler chosen"
                  ),
                  "ReactNativeUnifiedPlan")
                : (R.debug(
                    "this._detectDevice() | ReactNative PlanB handler chosen"
                  ),
                  "ReactNative");
            if (
              "object" != typeof navigator ||
              "string" != typeof navigator.userAgent
            )
              R.warn("this._detectDevice() | unknown device");
            else {
              const e = navigator.userAgent,
                t = o.default.getParser(e),
                r = t.getEngine();
              if (
                t.satisfies({
                  chrome: ">=111",
                  chromium: ">=111",
                  "microsoft edge": ">=111",
                })
              )
                return "Chrome111";
              if (
                t.satisfies({
                  chrome: ">=74",
                  chromium: ">=74",
                  "microsoft edge": ">=88",
                })
              )
                return "Chrome74";
              if (t.satisfies({ chrome: ">=70", chromium: ">=70" }))
                return "Chrome70";
              if (t.satisfies({ chrome: ">=67", chromium: ">=67" }))
                return "Chrome67";
              if (t.satisfies({ chrome: ">=55", chromium: ">=55" }))
                return "Chrome55";
              if (t.satisfies({ firefox: ">=60" })) return "Firefox60";
              if (t.satisfies({ ios: { OS: ">=14.3", firefox: ">=30.0" } }))
                return "Safari12";
              if (
                t.satisfies({ safari: ">=12.0" }) &&
                "undefined" != typeof RTCRtpTransceiver &&
                RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")
              )
                return "Safari12";
              if (t.satisfies({ safari: ">=11" })) return "Safari11";
              if (
                t.satisfies({ "microsoft edge": ">=11" }) &&
                t.satisfies({ "microsoft edge": "<=18" })
              )
                return "Edge11";
              if (r.name && "blink" === r.name.toLowerCase()) {
                const t = e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);
                if (t) {
                  const e = Number(t[1]);
                  return e >= 111
                    ? "Chrome111"
                    : e >= 74
                    ? "Chrome74"
                    : e >= 70
                    ? "Chrome70"
                    : e >= 67
                    ? "Chrome67"
                    : "Chrome55";
                }
                return "Chrome111";
              }
              R.warn(
                "this._detectDevice() | browser not supported [name:%s, version:%s]",
                t.getBrowserName(),
                t.getBrowserVersion()
              );
            }
          }
          t.detectDevice = P;
          t.Device = class {
            constructor({
              handlerName: e,
              handlerFactory: t,
              Handler: r,
            } = {}) {
              if (
                ((this._loaded = !1),
                (this._observer = new d.EnhancedEventEmitter()),
                R.debug("constructor()"),
                r)
              ) {
                if (
                  (R.warn(
                    "constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"
                  ),
                  "string" != typeof r)
                )
                  throw new TypeError(
                    "non string Handler option no longer supported, use handlerFactory instead"
                  );
                e = r;
              }
              if (e && t)
                throw new TypeError(
                  "just one of handlerName or handlerInterface can be given"
                );
              if (t) this._handlerFactory = t;
              else {
                if (e) R.debug("constructor() | handler given: %s", e);
                else {
                  if (!(e = P()))
                    throw new p.UnsupportedError("device not supported");
                  R.debug("constructor() | detected handler: %s", e);
                }
                switch (e) {
                  case "Chrome111":
                    this._handlerFactory = m.Chrome111.createFactory();
                    break;
                  case "Chrome74":
                    this._handlerFactory = f.Chrome74.createFactory();
                    break;
                  case "Chrome70":
                    this._handlerFactory = _.Chrome70.createFactory();
                    break;
                  case "Chrome67":
                    this._handlerFactory = g.Chrome67.createFactory();
                    break;
                  case "Chrome55":
                    this._handlerFactory = v.Chrome55.createFactory();
                    break;
                  case "Firefox60":
                    this._handlerFactory = y.Firefox60.createFactory();
                    break;
                  case "Safari12":
                    this._handlerFactory = b.Safari12.createFactory();
                    break;
                  case "Safari11":
                    this._handlerFactory = S.Safari11.createFactory();
                    break;
                  case "Edge11":
                    this._handlerFactory = w.Edge11.createFactory();
                    break;
                  case "ReactNativeUnifiedPlan":
                    this._handlerFactory =
                      T.ReactNativeUnifiedPlan.createFactory();
                    break;
                  case "ReactNative":
                    this._handlerFactory = E.ReactNative.createFactory();
                    break;
                  default:
                    throw new TypeError(`unknown handlerName "${e}"`);
                }
              }
              const n = this._handlerFactory();
              (this._handlerName = n.name),
                n.close(),
                (this._extendedRtpCapabilities = void 0),
                (this._recvRtpCapabilities = void 0),
                (this._canProduceByKind = { audio: !1, video: !1 }),
                (this._sctpCapabilities = void 0);
            }
            get handlerName() {
              return this._handlerName;
            }
            get loaded() {
              return this._loaded;
            }
            get rtpCapabilities() {
              if (!this._loaded) throw new p.InvalidStateError("not loaded");
              return this._recvRtpCapabilities;
            }
            get sctpCapabilities() {
              if (!this._loaded) throw new p.InvalidStateError("not loaded");
              return this._sctpCapabilities;
            }
            get observer() {
              return this._observer;
            }
            async load({ routerRtpCapabilities: e }) {
              let t;
              R.debug("load() [routerRtpCapabilities:%o]", e),
                (e = l.clone(e, void 0));
              try {
                if (this._loaded)
                  throw new p.InvalidStateError("already loaded");
                u.validateRtpCapabilities(e), (t = this._handlerFactory());
                const r = await t.getNativeRtpCapabilities();
                R.debug("load() | got native RTP capabilities:%o", r),
                  u.validateRtpCapabilities(r),
                  (this._extendedRtpCapabilities = u.getExtendedRtpCapabilities(
                    r,
                    e
                  )),
                  R.debug(
                    "load() | got extended RTP capabilities:%o",
                    this._extendedRtpCapabilities
                  ),
                  (this._canProduceByKind.audio = u.canSend(
                    "audio",
                    this._extendedRtpCapabilities
                  )),
                  (this._canProduceByKind.video = u.canSend(
                    "video",
                    this._extendedRtpCapabilities
                  )),
                  (this._recvRtpCapabilities = u.getRecvRtpCapabilities(
                    this._extendedRtpCapabilities
                  )),
                  u.validateRtpCapabilities(this._recvRtpCapabilities),
                  R.debug(
                    "load() | got receiving RTP capabilities:%o",
                    this._recvRtpCapabilities
                  ),
                  (this._sctpCapabilities =
                    await t.getNativeSctpCapabilities()),
                  R.debug(
                    "load() | got native SCTP capabilities:%o",
                    this._sctpCapabilities
                  ),
                  u.validateSctpCapabilities(this._sctpCapabilities),
                  R.debug("load() succeeded"),
                  (this._loaded = !0),
                  t.close();
              } catch (e) {
                throw (t && t.close(), e);
              }
            }
            canProduce(e) {
              if (!this._loaded) throw new p.InvalidStateError("not loaded");
              if ("audio" !== e && "video" !== e)
                throw new TypeError(`invalid kind "${e}"`);
              return this._canProduceByKind[e];
            }
            createSendTransport({
              id: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              appData: d,
            }) {
              return (
                R.debug("createSendTransport()"),
                this.createTransport({
                  direction: "send",
                  id: e,
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  iceServers: i,
                  iceTransportPolicy: s,
                  additionalSettings: o,
                  proprietaryConstraints: c,
                  appData: d,
                })
              );
            }
            createRecvTransport({
              id: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              appData: d,
            }) {
              return (
                R.debug("createRecvTransport()"),
                this.createTransport({
                  direction: "recv",
                  id: e,
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  iceServers: i,
                  iceTransportPolicy: s,
                  additionalSettings: o,
                  proprietaryConstraints: c,
                  appData: d,
                })
              );
            }
            createTransport({
              direction: e,
              id: t,
              iceParameters: r,
              iceCandidates: n,
              dtlsParameters: a,
              sctpParameters: i,
              iceServers: s,
              iceTransportPolicy: o,
              additionalSettings: c,
              proprietaryConstraints: d,
              appData: l,
            }) {
              if (!this._loaded) throw new p.InvalidStateError("not loaded");
              if ("string" != typeof t) throw new TypeError("missing id");
              if ("object" != typeof r)
                throw new TypeError("missing iceParameters");
              if (!Array.isArray(n))
                throw new TypeError("missing iceCandidates");
              if ("object" != typeof a)
                throw new TypeError("missing dtlsParameters");
              if (i && "object" != typeof i)
                throw new TypeError("wrong sctpParameters");
              if (l && "object" != typeof l)
                throw new TypeError("if given, appData must be an object");
              const u = new h.Transport({
                direction: e,
                id: t,
                iceParameters: r,
                iceCandidates: n,
                dtlsParameters: a,
                sctpParameters: i,
                iceServers: s,
                iceTransportPolicy: o,
                additionalSettings: c,
                proprietaryConstraints: d,
                appData: l,
                handlerFactory: this._handlerFactory,
                extendedRtpCapabilities: this._extendedRtpCapabilities,
                canProduceByKind: this._canProduceByKind,
              });
              return this._observer.safeEmit("newtransport", u), u;
            }
          };
        },
        4493: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.EnhancedEventEmitter = void 0);
          const n = r(7187),
            a = new (r(8562).Logger)("EnhancedEventEmitter");
          class i extends n.EventEmitter {
            constructor() {
              super(), this.setMaxListeners(1 / 0);
            }
            emit(e, ...t) {
              return super.emit(e, ...t);
            }
            safeEmit(e, ...t) {
              const r = super.listenerCount(e);
              try {
                return super.emit(e, ...t);
              } catch (t) {
                return (
                  a.error(
                    "safeEmit() | event listener threw an error [eventName:%s]:%o",
                    e,
                    t
                  ),
                  Boolean(r)
                );
              }
            }
            on(e, t) {
              return super.on(e, t), this;
            }
            off(e, t) {
              return super.off(e, t), this;
            }
            addListener(e, t) {
              return super.on(e, t), this;
            }
            prependListener(e, t) {
              return super.prependListener(e, t), this;
            }
            once(e, t) {
              return super.once(e, t), this;
            }
            prependOnceListener(e, t) {
              return super.prependOnceListener(e, t), this;
            }
            removeListener(e, t) {
              return super.off(e, t), this;
            }
            removeAllListeners(e) {
              return super.removeAllListeners(e), this;
            }
            listenerCount(e) {
              return super.listenerCount(e);
            }
            listeners(e) {
              return super.listeners(e);
            }
            rawListeners(e) {
              return super.rawListeners(e);
            }
          }
          t.EnhancedEventEmitter = i;
        },
        8562: function (e, t, r) {
          "use strict";
          var n =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Logger = void 0);
          const a = n(r(388)),
            i = "mediasoup-client";
          t.Logger = class {
            constructor(e) {
              e
                ? ((this._debug = (0, a.default)(`${i}:${e}`)),
                  (this._warn = (0, a.default)(`${i}:WARN:${e}`)),
                  (this._error = (0, a.default)(`${i}:ERROR:${e}`)))
                : ((this._debug = (0, a.default)(i)),
                  (this._warn = (0, a.default)(`${i}:WARN`)),
                  (this._error = (0, a.default)(`${i}:ERROR`))),
                (this._debug.log = console.info.bind(console)),
                (this._warn.log = console.warn.bind(console)),
                (this._error.log = console.error.bind(console));
            }
            get debug() {
              return this._debug;
            }
            get warn() {
              return this._warn;
            }
            get error() {
              return this._error;
            }
          };
        },
        6569: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Producer = void 0);
          const n = r(8562),
            a = r(4493),
            i = r(9992),
            s = new n.Logger("Producer");
          class o extends a.EnhancedEventEmitter {
            constructor({
              id: e,
              localId: t,
              rtpSender: r,
              track: n,
              rtpParameters: i,
              stopTracks: o,
              disableTrackOnPause: c,
              zeroRtpOnPause: d,
              appData: p,
            }) {
              super(),
                (this._closed = !1),
                (this._observer = new a.EnhancedEventEmitter()),
                s.debug("constructor()"),
                (this._id = e),
                (this._localId = t),
                (this._rtpSender = r),
                (this._track = n),
                (this._kind = n.kind),
                (this._rtpParameters = i),
                (this._paused = !!c && !n.enabled),
                (this._maxSpatialLayer = void 0),
                (this._stopTracks = o),
                (this._disableTrackOnPause = c),
                (this._zeroRtpOnPause = d),
                (this._appData = p || {}),
                (this.onTrackEnded = this.onTrackEnded.bind(this)),
                this.handleTrack();
            }
            get id() {
              return this._id;
            }
            get localId() {
              return this._localId;
            }
            get closed() {
              return this._closed;
            }
            get kind() {
              return this._kind;
            }
            get rtpSender() {
              return this._rtpSender;
            }
            get track() {
              return this._track;
            }
            get rtpParameters() {
              return this._rtpParameters;
            }
            get paused() {
              return this._paused;
            }
            get maxSpatialLayer() {
              return this._maxSpatialLayer;
            }
            get appData() {
              return this._appData;
            }
            set appData(e) {
              this._appData = e;
            }
            get observer() {
              return this._observer;
            }
            close() {
              this._closed ||
                (s.debug("close()"),
                (this._closed = !0),
                this.destroyTrack(),
                this.emit("@close"),
                this._observer.safeEmit("close"));
            }
            transportClosed() {
              this._closed ||
                (s.debug("transportClosed()"),
                (this._closed = !0),
                this.destroyTrack(),
                this.safeEmit("transportclose"),
                this._observer.safeEmit("close"));
            }
            async getStats() {
              if (this._closed) throw new i.InvalidStateError("closed");
              return new Promise((e, t) => {
                this.safeEmit("@getstats", e, t);
              });
            }
            pause() {
              s.debug("pause()"),
                this._closed
                  ? s.error("pause() | Producer closed")
                  : ((this._paused = !0),
                    this._track &&
                      this._disableTrackOnPause &&
                      (this._track.enabled = !1),
                    this._zeroRtpOnPause &&
                      new Promise((e, t) => {
                        this.safeEmit("@pause", e, t);
                      }).catch(() => {}),
                    this._observer.safeEmit("pause"));
            }
            resume() {
              s.debug("resume()"),
                this._closed
                  ? s.error("resume() | Producer closed")
                  : ((this._paused = !1),
                    this._track &&
                      this._disableTrackOnPause &&
                      (this._track.enabled = !0),
                    this._zeroRtpOnPause &&
                      new Promise((e, t) => {
                        this.safeEmit("@resume", e, t);
                      }).catch(() => {}),
                    this._observer.safeEmit("resume"));
            }
            async replaceTrack({ track: e }) {
              if ((s.debug("replaceTrack() [track:%o]", e), this._closed)) {
                if (e && this._stopTracks)
                  try {
                    e.stop();
                  } catch (e) {}
                throw new i.InvalidStateError("closed");
              }
              if (e && "ended" === e.readyState)
                throw new i.InvalidStateError("track ended");
              e !== this._track
                ? (await new Promise((t, r) => {
                    this.safeEmit("@replacetrack", e, t, r);
                  }),
                  this.destroyTrack(),
                  (this._track = e),
                  this._track &&
                    this._disableTrackOnPause &&
                    (this._paused
                      ? this._paused && (this._track.enabled = !1)
                      : (this._track.enabled = !0)),
                  this.handleTrack())
                : s.debug("replaceTrack() | same track, ignored");
            }
            async setMaxSpatialLayer(e) {
              if (this._closed) throw new i.InvalidStateError("closed");
              if ("video" !== this._kind)
                throw new i.UnsupportedError("not a video Producer");
              if ("number" != typeof e)
                throw new TypeError("invalid spatialLayer");
              e !== this._maxSpatialLayer &&
                (await new Promise((t, r) => {
                  this.safeEmit("@setmaxspatiallayer", e, t, r);
                }).catch(() => {}),
                (this._maxSpatialLayer = e));
            }
            async setRtpEncodingParameters(e) {
              if (this._closed) throw new i.InvalidStateError("closed");
              if ("object" != typeof e) throw new TypeError("invalid params");
              await new Promise((t, r) => {
                this.safeEmit("@setrtpencodingparameters", e, t, r);
              });
            }
            onTrackEnded() {
              s.debug('track "ended" event'),
                this.safeEmit("trackended"),
                this._observer.safeEmit("trackended");
            }
            handleTrack() {
              this._track &&
                this._track.addEventListener("ended", this.onTrackEnded);
            }
            destroyTrack() {
              if (this._track)
                try {
                  this._track.removeEventListener("ended", this.onTrackEnded),
                    this._stopTracks && this._track.stop();
                } catch (e) {}
            }
          }
          t.Producer = o;
        },
        4879: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 });
        },
        7669: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 });
        },
        5202: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              },
            s =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Transport = void 0);
          const o = r(2186),
            c = s(r(4375)),
            d = r(8562),
            p = r(4493),
            l = r(9992),
            u = i(r(3347)),
            h = i(r(5280)),
            m = r(6569),
            f = r(9514),
            _ = r(5504),
            g = r(1623),
            v = new d.Logger("Transport");
          class y {
            constructor(e) {
              (this.consumerOptions = e),
                (this.promise = new Promise((e, t) => {
                  (this.resolve = e), (this.reject = t);
                }));
            }
          }
          class b extends p.EnhancedEventEmitter {
            constructor({
              direction: e,
              id: t,
              iceParameters: r,
              iceCandidates: n,
              dtlsParameters: a,
              sctpParameters: i,
              iceServers: s,
              iceTransportPolicy: c,
              additionalSettings: d,
              proprietaryConstraints: l,
              appData: h,
              handlerFactory: m,
              extendedRtpCapabilities: f,
              canProduceByKind: _,
            }) {
              super(),
                (this._closed = !1),
                (this._connectionState = "new"),
                (this._producers = new Map()),
                (this._consumers = new Map()),
                (this._dataProducers = new Map()),
                (this._dataConsumers = new Map()),
                (this._probatorConsumerCreated = !1),
                (this._awaitQueue = new o.AwaitQueue()),
                (this._pendingConsumerTasks = []),
                (this._consumerCreationInProgress = !1),
                (this._pendingPauseConsumers = new Map()),
                (this._consumerPauseInProgress = !1),
                (this._pendingResumeConsumers = new Map()),
                (this._consumerResumeInProgress = !1),
                (this._pendingCloseConsumers = new Map()),
                (this._consumerCloseInProgress = !1),
                (this._observer = new p.EnhancedEventEmitter()),
                v.debug("constructor() [id:%s, direction:%s]", t, e),
                (this._id = t),
                (this._direction = e),
                (this._extendedRtpCapabilities = f),
                (this._canProduceByKind = _),
                (this._maxSctpMessageSize = i ? i.maxMessageSize : null),
                delete (d = u.clone(d, {})).iceServers,
                delete d.iceTransportPolicy,
                delete d.bundlePolicy,
                delete d.rtcpMuxPolicy,
                delete d.sdpSemantics,
                (this._handler = m()),
                this._handler.run({
                  direction: e,
                  iceParameters: r,
                  iceCandidates: n,
                  dtlsParameters: a,
                  sctpParameters: i,
                  iceServers: s,
                  iceTransportPolicy: c,
                  additionalSettings: d,
                  proprietaryConstraints: l,
                  extendedRtpCapabilities: f,
                }),
                (this._appData = h || {}),
                this.handleHandler();
            }
            get id() {
              return this._id;
            }
            get closed() {
              return this._closed;
            }
            get direction() {
              return this._direction;
            }
            get handler() {
              return this._handler;
            }
            get connectionState() {
              return this._connectionState;
            }
            get appData() {
              return this._appData;
            }
            set appData(e) {
              this._appData = e;
            }
            get observer() {
              return this._observer;
            }
            close() {
              if (!this._closed) {
                v.debug("close()"),
                  (this._closed = !0),
                  this._awaitQueue.stop(),
                  this._handler.close();
                for (const e of this._producers.values()) e.transportClosed();
                this._producers.clear();
                for (const e of this._consumers.values()) e.transportClosed();
                this._consumers.clear();
                for (const e of this._dataProducers.values())
                  e.transportClosed();
                this._dataProducers.clear();
                for (const e of this._dataConsumers.values())
                  e.transportClosed();
                this._dataConsumers.clear(), this._observer.safeEmit("close");
              }
            }
            async getStats() {
              if (this._closed) throw new l.InvalidStateError("closed");
              return this._handler.getTransportStats();
            }
            async restartIce({ iceParameters: e }) {
              if ((v.debug("restartIce()"), this._closed))
                throw new l.InvalidStateError("closed");
              if (!e) throw new TypeError("missing iceParameters");
              return this._awaitQueue.push(
                async () => this._handler.restartIce(e),
                "transport.restartIce()"
              );
            }
            async updateIceServers({ iceServers: e } = {}) {
              if ((v.debug("updateIceServers()"), this._closed))
                throw new l.InvalidStateError("closed");
              if (!Array.isArray(e)) throw new TypeError("missing iceServers");
              return this._awaitQueue.push(
                async () => this._handler.updateIceServers(e),
                "transport.updateIceServers()"
              );
            }
            async produce({
              track: e,
              encodings: t,
              codecOptions: r,
              codec: n,
              stopTracks: a = !0,
              disableTrackOnPause: i = !0,
              zeroRtpOnPause: s = !1,
              appData: o = {},
            } = {}) {
              if ((v.debug("produce() [track:%o]", e), this._closed))
                throw new l.InvalidStateError("closed");
              if (!e) throw new TypeError("missing track");
              if ("send" !== this._direction)
                throw new l.UnsupportedError("not a sending Transport");
              if (!this._canProduceByKind[e.kind])
                throw new l.UnsupportedError(`cannot produce ${e.kind}`);
              if ("ended" === e.readyState)
                throw new l.InvalidStateError("track ended");
              if (
                0 === this.listenerCount("connect") &&
                "new" === this._connectionState
              )
                throw new TypeError(
                  'no "connect" listener set into this transport'
                );
              if (0 === this.listenerCount("produce"))
                throw new TypeError(
                  'no "produce" listener set into this transport'
                );
              if (o && "object" != typeof o)
                throw new TypeError("if given, appData must be an object");
              return this._awaitQueue
                .push(async () => {
                  let c;
                  if (t && !Array.isArray(t))
                    throw TypeError("encodings must be an array");
                  t && 0 === t.length
                    ? (c = void 0)
                    : t &&
                      (c = t.map((e) => {
                        const t = { active: !0 };
                        return (
                          !1 === e.active && (t.active = !1),
                          "boolean" == typeof e.dtx && (t.dtx = e.dtx),
                          "string" == typeof e.scalabilityMode &&
                            (t.scalabilityMode = e.scalabilityMode),
                          "number" == typeof e.scaleResolutionDownBy &&
                            (t.scaleResolutionDownBy = e.scaleResolutionDownBy),
                          "number" == typeof e.maxBitrate &&
                            (t.maxBitrate = e.maxBitrate),
                          "number" == typeof e.maxFramerate &&
                            (t.maxFramerate = e.maxFramerate),
                          "boolean" == typeof e.adaptivePtime &&
                            (t.adaptivePtime = e.adaptivePtime),
                          "string" == typeof e.priority &&
                            (t.priority = e.priority),
                          "string" == typeof e.networkPriority &&
                            (t.networkPriority = e.networkPriority),
                          t
                        );
                      }));
                  const {
                    localId: d,
                    rtpParameters: p,
                    rtpSender: l,
                  } = await this._handler.send({
                    track: e,
                    encodings: c,
                    codecOptions: r,
                    codec: n,
                  });
                  try {
                    h.validateRtpParameters(p);
                    const { id: t } = await new Promise((t, r) => {
                        this.safeEmit(
                          "produce",
                          { kind: e.kind, rtpParameters: p, appData: o },
                          t,
                          r
                        );
                      }),
                      r = new m.Producer({
                        id: t,
                        localId: d,
                        rtpSender: l,
                        track: e,
                        rtpParameters: p,
                        stopTracks: a,
                        disableTrackOnPause: i,
                        zeroRtpOnPause: s,
                        appData: o,
                      });
                    return (
                      this._producers.set(r.id, r),
                      this.handleProducer(r),
                      this._observer.safeEmit("newproducer", r),
                      r
                    );
                  } catch (e) {
                    throw (this._handler.stopSending(d).catch(() => {}), e);
                  }
                }, "transport.produce()")
                .catch((t) => {
                  if (a)
                    try {
                      e.stop();
                    } catch (e) {}
                  throw t;
                });
            }
            async consume({
              id: e,
              producerId: t,
              kind: r,
              rtpParameters: n,
              streamId: a,
              appData: i = {},
            }) {
              if (
                (v.debug("consume()"), (n = u.clone(n, void 0)), this._closed)
              )
                throw new l.InvalidStateError("closed");
              if ("recv" !== this._direction)
                throw new l.UnsupportedError("not a receiving Transport");
              if ("string" != typeof e) throw new TypeError("missing id");
              if ("string" != typeof t)
                throw new TypeError("missing producerId");
              if ("audio" !== r && "video" !== r)
                throw new TypeError(`invalid kind '${r}'`);
              if (
                0 === this.listenerCount("connect") &&
                "new" === this._connectionState
              )
                throw new TypeError(
                  'no "connect" listener set into this transport'
                );
              if (i && "object" != typeof i)
                throw new TypeError("if given, appData must be an object");
              if (!h.canReceive(n, this._extendedRtpCapabilities))
                throw new l.UnsupportedError("cannot consume this Producer");
              const s = new y({
                id: e,
                producerId: t,
                kind: r,
                rtpParameters: n,
                streamId: a,
                appData: i,
              });
              return (
                this._pendingConsumerTasks.push(s),
                (0, c.default)(() => {
                  this._closed ||
                    (!1 === this._consumerCreationInProgress &&
                      this.createPendingConsumers());
                }),
                s.promise
              );
            }
            async produceData({
              ordered: e = !0,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n = "",
              protocol: a = "",
              appData: i = {},
            } = {}) {
              if ((v.debug("produceData()"), this._closed))
                throw new l.InvalidStateError("closed");
              if ("send" !== this._direction)
                throw new l.UnsupportedError("not a sending Transport");
              if (!this._maxSctpMessageSize)
                throw new l.UnsupportedError(
                  "SCTP not enabled by remote Transport"
                );
              if (
                0 === this.listenerCount("connect") &&
                "new" === this._connectionState
              )
                throw new TypeError(
                  'no "connect" listener set into this transport'
                );
              if (0 === this.listenerCount("producedata"))
                throw new TypeError(
                  'no "producedata" listener set into this transport'
                );
              if (i && "object" != typeof i)
                throw new TypeError("if given, appData must be an object");
              return (
                (t || r) && (e = !1),
                this._awaitQueue.push(async () => {
                  const { dataChannel: s, sctpStreamParameters: o } =
                    await this._handler.sendDataChannel({
                      ordered: e,
                      maxPacketLifeTime: t,
                      maxRetransmits: r,
                      label: n,
                      protocol: a,
                    });
                  h.validateSctpStreamParameters(o);
                  const { id: c } = await new Promise((e, t) => {
                      this.safeEmit(
                        "producedata",
                        {
                          sctpStreamParameters: o,
                          label: n,
                          protocol: a,
                          appData: i,
                        },
                        e,
                        t
                      );
                    }),
                    d = new _.DataProducer({
                      id: c,
                      dataChannel: s,
                      sctpStreamParameters: o,
                      appData: i,
                    });
                  return (
                    this._dataProducers.set(d.id, d),
                    this.handleDataProducer(d),
                    this._observer.safeEmit("newdataproducer", d),
                    d
                  );
                }, "transport.produceData()")
              );
            }
            async consumeData({
              id: e,
              dataProducerId: t,
              sctpStreamParameters: r,
              label: n = "",
              protocol: a = "",
              appData: i = {},
            }) {
              if (
                (v.debug("consumeData()"),
                (r = u.clone(r, void 0)),
                this._closed)
              )
                throw new l.InvalidStateError("closed");
              if ("recv" !== this._direction)
                throw new l.UnsupportedError("not a receiving Transport");
              if (!this._maxSctpMessageSize)
                throw new l.UnsupportedError(
                  "SCTP not enabled by remote Transport"
                );
              if ("string" != typeof e) throw new TypeError("missing id");
              if ("string" != typeof t)
                throw new TypeError("missing dataProducerId");
              if (
                0 === this.listenerCount("connect") &&
                "new" === this._connectionState
              )
                throw new TypeError(
                  'no "connect" listener set into this transport'
                );
              if (i && "object" != typeof i)
                throw new TypeError("if given, appData must be an object");
              return (
                h.validateSctpStreamParameters(r),
                this._awaitQueue.push(async () => {
                  const { dataChannel: s } =
                      await this._handler.receiveDataChannel({
                        sctpStreamParameters: r,
                        label: n,
                        protocol: a,
                      }),
                    o = new g.DataConsumer({
                      id: e,
                      dataProducerId: t,
                      dataChannel: s,
                      sctpStreamParameters: r,
                      appData: i,
                    });
                  return (
                    this._dataConsumers.set(o.id, o),
                    this.handleDataConsumer(o),
                    this._observer.safeEmit("newdataconsumer", o),
                    o
                  );
                }, "transport.consumeData()")
              );
            }
            async createPendingConsumers() {
              (this._consumerCreationInProgress = !0),
                this._awaitQueue
                  .push(async () => {
                    if (0 === this._pendingConsumerTasks.length)
                      return void v.debug(
                        "createPendingConsumers() | there is no Consumer to be created"
                      );
                    const e = [...this._pendingConsumerTasks];
                    let t;
                    this._pendingConsumerTasks = [];
                    const r = [];
                    for (const t of e) {
                      const {
                        id: e,
                        kind: n,
                        rtpParameters: a,
                        streamId: i,
                      } = t.consumerOptions;
                      r.push({
                        trackId: e,
                        kind: n,
                        rtpParameters: a,
                        streamId: i,
                      });
                    }
                    try {
                      const n = await this._handler.receive(r);
                      for (let r = 0; r < n.length; ++r) {
                        const a = e[r],
                          i = n[r],
                          {
                            id: s,
                            producerId: o,
                            kind: c,
                            rtpParameters: d,
                            appData: p,
                          } = a.consumerOptions,
                          { localId: l, rtpReceiver: u, track: h } = i,
                          m = new f.Consumer({
                            id: s,
                            localId: l,
                            producerId: o,
                            rtpReceiver: u,
                            track: h,
                            rtpParameters: d,
                            appData: p,
                          });
                        this._consumers.set(m.id, m),
                          this.handleConsumer(m),
                          this._probatorConsumerCreated ||
                            t ||
                            "video" !== c ||
                            (t = m),
                          this._observer.safeEmit("newconsumer", m),
                          a.resolve(m);
                      }
                    } catch (t) {
                      for (const r of e) r.reject(t);
                    }
                    if (t)
                      try {
                        const e = h.generateProbatorRtpParameters(
                          t.rtpParameters
                        );
                        await this._handler.receive([
                          {
                            trackId: "probator",
                            kind: "video",
                            rtpParameters: e,
                          },
                        ]),
                          v.debug(
                            "createPendingConsumers() | Consumer for RTP probation created"
                          ),
                          (this._probatorConsumerCreated = !0);
                      } catch (e) {
                        v.error(
                          "createPendingConsumers() | failed to create Consumer for RTP probation:%o",
                          e
                        );
                      }
                  }, "transport.createPendingConsumers()")
                  .then(() => {
                    (this._consumerCreationInProgress = !1),
                      this._pendingConsumerTasks.length > 0 &&
                        this.createPendingConsumers();
                  })
                  .catch(() => {});
            }
            pausePendingConsumers() {
              (this._consumerPauseInProgress = !0),
                this._awaitQueue
                  .push(async () => {
                    if (0 === this._pendingPauseConsumers.size)
                      return void v.debug(
                        "pausePendingConsumers() | there is no Consumer to be paused"
                      );
                    const e = Array.from(this._pendingPauseConsumers.values());
                    this._pendingPauseConsumers.clear();
                    try {
                      const t = e.map((e) => e.localId);
                      await this._handler.pauseReceiving(t);
                    } catch (e) {
                      v.error(
                        "pausePendingConsumers() | failed to pause Consumers:",
                        e
                      );
                    }
                  }, "transport.pausePendingConsumers")
                  .then(() => {
                    (this._consumerPauseInProgress = !1),
                      this._pendingPauseConsumers.size > 0 &&
                        this.pausePendingConsumers();
                  })
                  .catch(() => {});
            }
            resumePendingConsumers() {
              (this._consumerResumeInProgress = !0),
                this._awaitQueue
                  .push(async () => {
                    if (0 === this._pendingResumeConsumers.size)
                      return void v.debug(
                        "resumePendingConsumers() | there is no Consumer to be resumed"
                      );
                    const e = Array.from(this._pendingResumeConsumers.values());
                    this._pendingResumeConsumers.clear();
                    try {
                      const t = e.map((e) => e.localId);
                      await this._handler.resumeReceiving(t);
                    } catch (e) {
                      v.error(
                        "resumePendingConsumers() | failed to resume Consumers:",
                        e
                      );
                    }
                  }, "transport.resumePendingConsumers")
                  .then(() => {
                    (this._consumerResumeInProgress = !1),
                      this._pendingResumeConsumers.size > 0 &&
                        this.resumePendingConsumers();
                  })
                  .catch(() => {});
            }
            closePendingConsumers() {
              (this._consumerCloseInProgress = !0),
                this._awaitQueue
                  .push(async () => {
                    if (0 === this._pendingCloseConsumers.size)
                      return void v.debug(
                        "closePendingConsumers() | there is no Consumer to be closed"
                      );
                    const e = Array.from(this._pendingCloseConsumers.values());
                    this._pendingCloseConsumers.clear();
                    try {
                      await this._handler.stopReceiving(
                        e.map((e) => e.localId)
                      );
                    } catch (e) {
                      v.error(
                        "closePendingConsumers() | failed to close Consumers:",
                        e
                      );
                    }
                  }, "transport.closePendingConsumers")
                  .then(() => {
                    (this._consumerCloseInProgress = !1),
                      this._pendingCloseConsumers.size > 0 &&
                        this.closePendingConsumers();
                  })
                  .catch(() => {});
            }
            handleHandler() {
              const e = this._handler;
              e.on("@connect", ({ dtlsParameters: e }, t, r) => {
                this._closed
                  ? r(new l.InvalidStateError("closed"))
                  : this.safeEmit("connect", { dtlsParameters: e }, t, r);
              }),
                e.on("@connectionstatechange", (e) => {
                  e !== this._connectionState &&
                    (v.debug("connection state changed to %s", e),
                    (this._connectionState = e),
                    this._closed || this.safeEmit("connectionstatechange", e));
                });
            }
            handleProducer(e) {
              e.on("@close", () => {
                this._producers.delete(e.id),
                  this._closed ||
                    this._awaitQueue
                      .push(
                        async () => this._handler.stopSending(e.localId),
                        "producer @close event"
                      )
                      .catch((e) => v.warn("producer.close() failed:%o", e));
              }),
                e.on("@pause", (t, r) => {
                  this._awaitQueue
                    .push(
                      async () => this._handler.pauseSending(e.localId),
                      "producer @pause event"
                    )
                    .then(t)
                    .catch(r);
                }),
                e.on("@resume", (t, r) => {
                  this._awaitQueue
                    .push(
                      async () => this._handler.resumeSending(e.localId),
                      "producer @resume event"
                    )
                    .then(t)
                    .catch(r);
                }),
                e.on("@replacetrack", (t, r, n) => {
                  this._awaitQueue
                    .push(
                      async () => this._handler.replaceTrack(e.localId, t),
                      "producer @replacetrack event"
                    )
                    .then(r)
                    .catch(n);
                }),
                e.on("@setmaxspatiallayer", (t, r, n) => {
                  this._awaitQueue
                    .push(
                      async () =>
                        this._handler.setMaxSpatialLayer(e.localId, t),
                      "producer @setmaxspatiallayer event"
                    )
                    .then(r)
                    .catch(n);
                }),
                e.on("@setrtpencodingparameters", (t, r, n) => {
                  this._awaitQueue
                    .push(
                      async () =>
                        this._handler.setRtpEncodingParameters(e.localId, t),
                      "producer @setrtpencodingparameters event"
                    )
                    .then(r)
                    .catch(n);
                }),
                e.on("@getstats", (t, r) => {
                  if (this._closed) return r(new l.InvalidStateError("closed"));
                  this._handler.getSenderStats(e.localId).then(t).catch(r);
                });
            }
            handleConsumer(e) {
              e.on("@close", () => {
                this._consumers.delete(e.id),
                  this._pendingPauseConsumers.delete(e.id),
                  this._pendingResumeConsumers.delete(e.id),
                  this._closed ||
                    (this._pendingCloseConsumers.set(e.id, e),
                    !1 === this._consumerCloseInProgress &&
                      this.closePendingConsumers());
              }),
                e.on("@pause", () => {
                  this._pendingResumeConsumers.has(e.id) &&
                    this._pendingResumeConsumers.delete(e.id),
                    this._pendingPauseConsumers.set(e.id, e),
                    (0, c.default)(() => {
                      this._closed ||
                        (!1 === this._consumerPauseInProgress &&
                          this.pausePendingConsumers());
                    });
                }),
                e.on("@resume", () => {
                  this._pendingPauseConsumers.has(e.id) &&
                    this._pendingPauseConsumers.delete(e.id),
                    this._pendingResumeConsumers.set(e.id, e),
                    (0, c.default)(() => {
                      this._closed ||
                        (!1 === this._consumerResumeInProgress &&
                          this.resumePendingConsumers());
                    });
                }),
                e.on("@getstats", (t, r) => {
                  if (this._closed) return r(new l.InvalidStateError("closed"));
                  this._handler.getReceiverStats(e.localId).then(t).catch(r);
                });
            }
            handleDataProducer(e) {
              e.on("@close", () => {
                this._dataProducers.delete(e.id);
              });
            }
            handleDataConsumer(e) {
              e.on("@close", () => {
                this._dataConsumers.delete(e.id);
              });
            }
          }
          t.Transport = b;
        },
        9992: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.InvalidStateError = t.UnsupportedError = void 0);
          class r extends Error {
            constructor(e) {
              super(e),
                (this.name = "UnsupportedError"),
                Error.hasOwnProperty("captureStackTrace")
                  ? Error.captureStackTrace(this, r)
                  : (this.stack = new Error(e).stack);
            }
          }
          t.UnsupportedError = r;
          class n extends Error {
            constructor(e) {
              super(e),
                (this.name = "InvalidStateError"),
                Error.hasOwnProperty("captureStackTrace")
                  ? Error.captureStackTrace(this, n)
                  : (this.stack = new Error(e).stack);
            }
          }
          t.InvalidStateError = n;
        },
        2960: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Chrome111 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9072)),
            u = i(r(8954)),
            h = r(9316),
            m = r(7910),
            f = r(2770),
            _ = new o.Logger("Chrome111"),
            g = { OS: 1024, MIS: 1024 };
          class v extends h.HandlerInterface {
            static createFactory() {
              return () => new v();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Chrome111";
            }
            close() {
              if ((_.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              _.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "unified-plan",
              });
              try {
                e.addTransceiver("audio"), e.addTransceiver("video");
                const t = await e.createOffer();
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp),
                  n = p.extractRtpCapabilities({ sdpObject: r });
                return u.addNackSuppportForOpus(n), n;
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return _.debug("getNativeSctpCapabilities()"), { numStreams: g };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              _.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "unified-plan",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : (_.warn(
                      "run() | pc.connectionState not supported, using pc.iceConnectionState"
                    ),
                    this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (this._pc.iceConnectionState) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    ));
            }
            async updateIceServers(e) {
              _.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (_.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              if (
                (this.assertSendDirection(),
                _.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                t && t.length > 1)
              ) {
                t.forEach((e, t) => {
                  e.rid = `r${t}`;
                });
                let e = 1,
                  r = 1;
                for (const e of t) {
                  const t = e.scalabilityMode
                    ? (0, f.parse)(e.scalabilityMode).temporalLayers
                    : 3;
                  t > r && (r = t);
                }
                for (const n of t)
                  (n.rid = "r" + e++), (n.scalabilityMode = `L1T${r}`);
              }
              const i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const o = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              o.codecs = d.reduceCodecs(o.codecs, n);
              const u = this._remoteSdp.getNextMediaSectionIdx(),
                h = this._pc.addTransceiver(e, {
                  direction: "sendonly",
                  streams: [this._sendStream],
                  sendEncodings: t,
                }),
                m = await this._pc.createOffer();
              let g = s.parse(m.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole:
                    null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                      ? a
                      : "client",
                  localSdpObject: g,
                })),
                _.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  m
                ),
                await this._pc.setLocalDescription(m);
              const v = h.mid;
              (i.mid = v), (g = s.parse(this._pc.localDescription.sdp));
              const y = g.media[u.idx];
              if (((i.rtcp.cname = p.getCname({ offerMediaObject: y })), t))
                if (1 === t.length) {
                  const e = l.getRtpEncodings({ offerMediaObject: y });
                  Object.assign(e[0], t[0]), (i.encodings = e);
                } else i.encodings = t;
              else i.encodings = l.getRtpEncodings({ offerMediaObject: y });
              this._remoteSdp.send({
                offerMediaObject: y,
                reuseMid: u.reuseMid,
                offerRtpParameters: i,
                answerRtpParameters: o,
                codecOptions: r,
                extmapAllowMixed: !0,
              });
              const b = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                _.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  b
                ),
                await this._pc.setRemoteDescription(b),
                this._mapMidTransceiver.set(v, h),
                { localId: v, rtpParameters: i, rtpSender: h.sender }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                _.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              t.sender.replaceTrack(null), this._pc.removeTrack(t.sender);
              if (this._remoteSdp.closeMediaSection(t.mid))
                try {
                  t.stop();
                } catch (e) {}
              const r = await this._pc.createOffer();
              _.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {
              this.assertSendDirection(),
                _.debug("pauseSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "inactive"), this._remoteSdp.pauseMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "pauseSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async resumeSending(e) {
              this.assertSendDirection(),
                _.debug("resumeSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if ((this._remoteSdp.resumeSendingMediaSection(e), !t))
                throw new Error("associated RTCRtpTransceiver not found");
              t.direction = "sendonly";
              const r = await this._pc.createOffer();
              _.debug(
                "resumeSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? _.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : _.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              _.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % g.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  _.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                _.debug("receive() [trackId:%s, kind:%s]", e, r);
                const s = a.mid || String(this._mapMidTransceiver.size);
                n.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: r } = t,
                  a = n.get(e),
                  i = o.media.find((e) => String(e.mid) === a);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: i,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                _.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { trackId: e } = t,
                  a = n.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  r.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("pauseReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "inactive"),
                  this._remoteSdp.pauseMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async resumeReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("resumeReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "recvonly"),
                  this._remoteSdp.resumeReceivingMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              _.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Chrome111 = v;
        },
        564: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Chrome55 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = r(9992),
            d = i(r(3347)),
            p = i(r(5280)),
            l = i(r(2267)),
            u = i(r(9875)),
            h = r(9316),
            m = r(7910),
            f = new o.Logger("Chrome55"),
            _ = { OS: 1024, MIS: 1024 };
          class g extends h.HandlerInterface {
            static createFactory() {
              return () => new g();
            }
            constructor() {
              super(),
                (this._sendStream = new MediaStream()),
                (this._mapSendLocalIdTrack = new Map()),
                (this._nextSendLocalId = 0),
                (this._mapRecvLocalIdInfo = new Map()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Chrome55";
            }
            close() {
              if ((f.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              f.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "plan-b",
              });
              try {
                const t = await e.createOffer({
                  offerToReceiveAudio: !0,
                  offerToReceiveVideo: !0,
                });
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp);
                return l.extractRtpCapabilities({ sdpObject: r });
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return f.debug("getNativeSctpCapabilities()"), { numStreams: _ };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: d,
            }) {
              f.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  planB: !0,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: p.getSendingRtpParameters("audio", d),
                  video: p.getSendingRtpParameters("video", d),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: p.getSendingRemoteRtpParameters("audio", d),
                  video: p.getSendingRemoteRtpParameters("video", d),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "plan-b",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (f.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              f.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (f.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                f.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                n &&
                  f.warn(
                    "send() | codec selection is not available in %s handler",
                    this.name
                  ),
                this._sendStream.addTrack(e),
                this._pc.addStream(this._sendStream);
              let i,
                o = await this._pc.createOffer(),
                c = s.parse(o.sdp);
              const h = d.clone(this._sendingRtpParametersByKind[e.kind], {});
              h.codecs = p.reduceCodecs(h.codecs);
              const m = d.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              if (
                ((m.codecs = p.reduceCodecs(m.codecs)),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                        ? a
                        : "client",
                    localSdpObject: c,
                  })),
                "video" === e.kind &&
                  t &&
                  t.length > 1 &&
                  (f.debug("send() | enabling simulcast"),
                  (c = s.parse(o.sdp)),
                  (i = c.media.find((e) => "video" === e.type)),
                  u.addLegacySimulcast({
                    offerMediaObject: i,
                    track: e,
                    numStreams: t.length,
                  }),
                  (o = { type: "offer", sdp: s.write(c) })),
                f.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  o
                ),
                await this._pc.setLocalDescription(o),
                (c = s.parse(this._pc.localDescription.sdp)),
                (i = c.media.find((t) => t.type === e.kind)),
                (h.rtcp.cname = l.getCname({ offerMediaObject: i })),
                (h.encodings = u.getRtpEncodings({
                  offerMediaObject: i,
                  track: e,
                })),
                t)
              )
                for (let e = 0; e < h.encodings.length; ++e)
                  t[e] && Object.assign(h.encodings[e], t[e]);
              if (
                h.encodings.length > 1 &&
                "video/vp8" === h.codecs[0].mimeType.toLowerCase()
              )
                for (const e of h.encodings) e.scalabilityMode = "L1T3";
              this._remoteSdp.send({
                offerMediaObject: i,
                offerRtpParameters: h,
                answerRtpParameters: m,
                codecOptions: r,
              });
              const _ = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "send() | calling pc.setRemoteDescription() [answer:%o]",
                _
              ),
                await this._pc.setRemoteDescription(_);
              const g = String(this._nextSendLocalId);
              return (
                this._nextSendLocalId++,
                this._mapSendLocalIdTrack.set(g, e),
                { localId: g, rtpParameters: h }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                f.debug("stopSending() [localId:%s]", e);
              const t = this._mapSendLocalIdTrack.get(e);
              if (!t) throw new Error("track not found");
              this._mapSendLocalIdTrack.delete(e),
                this._sendStream.removeTrack(t),
                this._pc.addStream(this._sendStream);
              const r = await this._pc.createOffer();
              f.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              );
              try {
                await this._pc.setLocalDescription(r);
              } catch (e) {
                if (0 === this._sendStream.getTracks().length)
                  return void f.warn(
                    "stopSending() | ignoring expected error due no sending tracks: %s",
                    e.toString()
                  );
                throw e;
              }
              if ("stable" === this._pc.signalingState) return;
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              throw new c.UnsupportedError("not implemented");
            }
            async setMaxSpatialLayer(e, t) {
              throw new c.UnsupportedError(" not implemented");
            }
            async setRtpEncodingParameters(e, t) {
              throw new c.UnsupportedError("not supported");
            }
            async getSenderStats(e) {
              throw new c.UnsupportedError("not implemented");
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmitTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              f.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % _.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  f.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [];
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: n,
                  streamId: a,
                } = t;
                f.debug("receive() [trackId:%s, kind:%s]", e, r);
                const i = r;
                this._remoteSdp.receive({
                  mid: i,
                  kind: r,
                  offerRtpParameters: n,
                  streamId: a || n.rtcp.cname,
                  trackId: e,
                });
              }
              const n = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
              let a = await this._pc.createAnswer();
              const i = s.parse(a.sdp);
              for (const t of e) {
                const { kind: e, rtpParameters: r } = t,
                  n = e,
                  a = i.media.find((e) => String(e.mid) === n);
                l.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: a,
                });
              }
              (a = { type: "answer", sdp: s.write(i) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: i,
                  })),
                f.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  a
                ),
                await this._pc.setLocalDescription(a);
              for (const t of e) {
                const { kind: e, trackId: n, rtpParameters: a } = t,
                  i = e,
                  s = n,
                  o = t.streamId || a.rtcp.cname,
                  c = this._pc
                    .getRemoteStreams()
                    .find((e) => e.id === o)
                    .getTrackById(s);
                if (!c) throw new Error("remote track not found");
                this._mapRecvLocalIdInfo.set(s, { mid: i, rtpParameters: a }),
                  r.push({ localId: s, track: c });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                f.debug("stopReceiving() [localId:%s]", t);
                const { mid: e, rtpParameters: r } =
                  this._mapRecvLocalIdInfo.get(t) || {};
                this._mapRecvLocalIdInfo.delete(t),
                  this._remoteSdp.planBStopReceiving({
                    mid: e,
                    offerRtpParameters: r,
                  });
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              f.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async getReceiverStats(e) {
              throw new c.UnsupportedError("not implemented");
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmitTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              f.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation({
                  oldDataChannelSpec: !0,
                });
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = l.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Chrome55 = g;
        },
        5697: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Chrome67 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9875)),
            u = r(9316),
            h = r(7910),
            m = new o.Logger("Chrome67"),
            f = { OS: 1024, MIS: 1024 };
          class _ extends u.HandlerInterface {
            static createFactory() {
              return () => new _();
            }
            constructor() {
              super(),
                (this._sendStream = new MediaStream()),
                (this._mapSendLocalIdRtpSender = new Map()),
                (this._nextSendLocalId = 0),
                (this._mapRecvLocalIdInfo = new Map()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Chrome67";
            }
            close() {
              if ((m.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              m.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "plan-b",
              });
              try {
                const t = await e.createOffer({
                  offerToReceiveAudio: !0,
                  offerToReceiveVideo: !0,
                });
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp);
                return p.extractRtpCapabilities({ sdpObject: r });
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return m.debug("getNativeSctpCapabilities()"), { numStreams: f };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              m.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new h.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  planB: !0,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "plan-b",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (m.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              m.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (m.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  m.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  m.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  m.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  m.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                m.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                n &&
                  m.warn(
                    "send() | codec selection is not available in %s handler",
                    this.name
                  ),
                this._sendStream.addTrack(e),
                this._pc.addTrack(e, this._sendStream);
              let i,
                o = await this._pc.createOffer(),
                u = s.parse(o.sdp);
              const h = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              h.codecs = d.reduceCodecs(h.codecs);
              const f = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              if (
                ((f.codecs = d.reduceCodecs(f.codecs)),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                        ? a
                        : "client",
                    localSdpObject: u,
                  })),
                "video" === e.kind &&
                  t &&
                  t.length > 1 &&
                  (m.debug("send() | enabling simulcast"),
                  (u = s.parse(o.sdp)),
                  (i = u.media.find((e) => "video" === e.type)),
                  l.addLegacySimulcast({
                    offerMediaObject: i,
                    track: e,
                    numStreams: t.length,
                  }),
                  (o = { type: "offer", sdp: s.write(u) })),
                m.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  o
                ),
                await this._pc.setLocalDescription(o),
                (u = s.parse(this._pc.localDescription.sdp)),
                (i = u.media.find((t) => t.type === e.kind)),
                (h.rtcp.cname = p.getCname({ offerMediaObject: i })),
                (h.encodings = l.getRtpEncodings({
                  offerMediaObject: i,
                  track: e,
                })),
                t)
              )
                for (let e = 0; e < h.encodings.length; ++e)
                  t[e] && Object.assign(h.encodings[e], t[e]);
              if (
                h.encodings.length > 1 &&
                "video/vp8" === h.codecs[0].mimeType.toLowerCase()
              )
                for (const e of h.encodings) e.scalabilityMode = "L1T3";
              this._remoteSdp.send({
                offerMediaObject: i,
                offerRtpParameters: h,
                answerRtpParameters: f,
                codecOptions: r,
              });
              const _ = { type: "answer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "send() | calling pc.setRemoteDescription() [answer:%o]",
                _
              ),
                await this._pc.setRemoteDescription(_);
              const g = String(this._nextSendLocalId);
              this._nextSendLocalId++;
              const v = this._pc.getSenders().find((t) => t.track === e);
              return (
                this._mapSendLocalIdRtpSender.set(g, v),
                { localId: g, rtpParameters: h, rtpSender: v }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                m.debug("stopSending() [localId:%s]", e);
              const t = this._mapSendLocalIdRtpSender.get(e);
              if (!t) throw new Error("associated RTCRtpSender not found");
              this._pc.removeTrack(t),
                t.track && this._sendStream.removeTrack(t.track),
                this._mapSendLocalIdRtpSender.delete(e);
              const r = await this._pc.createOffer();
              m.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              );
              try {
                await this._pc.setLocalDescription(r);
              } catch (e) {
                if (0 === this._sendStream.getTracks().length)
                  return void m.warn(
                    "stopSending() | ignoring expected error due no sending tracks: %s",
                    e.toString()
                  );
                throw e;
              }
              if ("stable" === this._pc.signalingState) return;
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? m.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : m.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.track;
              await r.replaceTrack(t),
                n && this._sendStream.removeTrack(n),
                t && this._sendStream.addTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                m.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.setParameters(n);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                m.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.setParameters(n);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapSendLocalIdRtpSender.get(e);
              if (!t) throw new Error("associated RTCRtpSender not found");
              return t.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmitTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              m.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % f.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  m.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                m.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [];
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: n,
                  streamId: a,
                } = t;
                m.debug("receive() [trackId:%s, kind:%s]", e, r);
                const i = r;
                this._remoteSdp.receive({
                  mid: i,
                  kind: r,
                  offerRtpParameters: n,
                  streamId: a || n.rtcp.cname,
                  trackId: e,
                });
              }
              const n = { type: "offer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
              let a = await this._pc.createAnswer();
              const i = s.parse(a.sdp);
              for (const t of e) {
                const { kind: e, rtpParameters: r } = t,
                  n = e,
                  a = i.media.find((e) => String(e.mid) === n);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: a,
                });
              }
              (a = { type: "answer", sdp: s.write(i) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: i,
                  })),
                m.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  a
                ),
                await this._pc.setLocalDescription(a);
              for (const t of e) {
                const { kind: e, trackId: n, rtpParameters: a } = t,
                  i = n,
                  s = e,
                  o = this._pc
                    .getReceivers()
                    .find((e) => e.track && e.track.id === i);
                if (!o) throw new Error("new RTCRtpReceiver not");
                this._mapRecvLocalIdInfo.set(i, {
                  mid: s,
                  rtpParameters: a,
                  rtpReceiver: o,
                }),
                  r.push({ localId: i, track: o.track, rtpReceiver: o });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                m.debug("stopReceiving() [localId:%s]", t);
                const { mid: e, rtpParameters: r } =
                  this._mapRecvLocalIdInfo.get(t) || {};
                this._mapRecvLocalIdInfo.delete(t),
                  this._remoteSdp.planBStopReceiving({
                    mid: e,
                    offerRtpParameters: r,
                  });
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              m.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const { rtpReceiver: t } = this._mapRecvLocalIdInfo.get(e) || {};
              if (!t) throw new Error("associated RTCRtpReceiver not found");
              return t.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmitTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              m.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation({
                  oldDataChannelSpec: !0,
                });
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                m.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                m.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Chrome67 = _;
        },
        5372: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Chrome70 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9072)),
            u = r(9316),
            h = r(7910),
            m = r(2770),
            f = new o.Logger("Chrome70"),
            _ = { OS: 1024, MIS: 1024 };
          class g extends u.HandlerInterface {
            static createFactory() {
              return () => new g();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Chrome70";
            }
            close() {
              if ((f.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              f.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "unified-plan",
              });
              try {
                e.addTransceiver("audio"), e.addTransceiver("video");
                const t = await e.createOffer();
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp);
                return p.extractRtpCapabilities({ sdpObject: r });
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return f.debug("getNativeSctpCapabilities()"), { numStreams: _ };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              f.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new h.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "unified-plan",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (f.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              f.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (f.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                f.debug("send() [kind:%s, track.id:%s]", e.kind, e.id);
              const i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const o = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              o.codecs = d.reduceCodecs(o.codecs, n);
              const u = this._remoteSdp.getNextMediaSectionIdx(),
                h = this._pc.addTransceiver(e, {
                  direction: "sendonly",
                  streams: [this._sendStream],
                });
              let _,
                g = await this._pc.createOffer(),
                v = s.parse(g.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole:
                    null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                      ? a
                      : "client",
                  localSdpObject: v,
                })),
                t &&
                  t.length > 1 &&
                  (f.debug("send() | enabling legacy simulcast"),
                  (v = s.parse(g.sdp)),
                  (_ = v.media[u.idx]),
                  l.addLegacySimulcast({
                    offerMediaObject: _,
                    numStreams: t.length,
                  }),
                  (g = { type: "offer", sdp: s.write(v) }));
              let y = !1;
              const b = (0, m.parse)((t || [{}])[0].scalabilityMode);
              if (
                (t &&
                  1 === t.length &&
                  b.spatialLayers > 1 &&
                  "video/vp9" === i.codecs[0].mimeType.toLowerCase() &&
                  (f.debug("send() | enabling legacy simulcast for VP9 SVC"),
                  (y = !0),
                  (v = s.parse(g.sdp)),
                  (_ = v.media[u.idx]),
                  l.addLegacySimulcast({
                    offerMediaObject: _,
                    numStreams: b.spatialLayers,
                  }),
                  (g = { type: "offer", sdp: s.write(v) })),
                f.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  g
                ),
                await this._pc.setLocalDescription(g),
                t)
              ) {
                f.debug("send() | applying given encodings");
                const e = h.sender.getParameters();
                for (let r = 0; r < (e.encodings || []).length; ++r) {
                  const n = e.encodings[r],
                    a = t[r];
                  if (!a) break;
                  e.encodings[r] = Object.assign(n, a);
                }
                await h.sender.setParameters(e);
              }
              const S = h.mid;
              if (
                ((i.mid = S),
                (v = s.parse(this._pc.localDescription.sdp)),
                (_ = v.media[u.idx]),
                (i.rtcp.cname = p.getCname({ offerMediaObject: _ })),
                (i.encodings = l.getRtpEncodings({ offerMediaObject: _ })),
                t)
              )
                for (let e = 0; e < i.encodings.length; ++e)
                  t[e] && Object.assign(i.encodings[e], t[e]);
              if (
                (y && (i.encodings = [i.encodings[0]]),
                i.encodings.length > 1 &&
                  ("video/vp8" === i.codecs[0].mimeType.toLowerCase() ||
                    "video/h264" === i.codecs[0].mimeType.toLowerCase()))
              )
                for (const e of i.encodings) e.scalabilityMode = "L1T3";
              this._remoteSdp.send({
                offerMediaObject: _,
                reuseMid: u.reuseMid,
                offerRtpParameters: i,
                answerRtpParameters: o,
                codecOptions: r,
              });
              const w = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                f.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  w
                ),
                await this._pc.setRemoteDescription(w),
                this._mapMidTransceiver.set(S, h),
                { localId: S, rtpParameters: i, rtpSender: h.sender }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                f.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              t.sender.replaceTrack(null), this._pc.removeTrack(t.sender);
              if (this._remoteSdp.closeMediaSection(t.mid))
                try {
                  t.stop();
                } catch (e) {}
              const r = await this._pc.createOffer();
              f.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? f.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : f.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                f.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              f.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                f.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              f.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmitTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              f.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % _.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  f.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                f.debug("receive() [trackId:%s, kind:%s]", e, r);
                const s = a.mid || String(this._mapMidTransceiver.size);
                n.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: r } = t,
                  a = n.get(e),
                  i = o.media.find((e) => String(e.mid) === a);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: i,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                f.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { trackId: e } = t,
                  a = n.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  r.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                f.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              f.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmitTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              f.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Chrome70 = g;
        },
        6656: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Chrome74 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9072)),
            u = i(r(8954)),
            h = r(9316),
            m = r(7910),
            f = r(2770),
            _ = new o.Logger("Chrome74"),
            g = { OS: 1024, MIS: 1024 };
          class v extends h.HandlerInterface {
            static createFactory() {
              return () => new v();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Chrome74";
            }
            close() {
              if ((_.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              _.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "unified-plan",
              });
              try {
                e.addTransceiver("audio"), e.addTransceiver("video");
                const t = await e.createOffer();
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp),
                  n = p.extractRtpCapabilities({ sdpObject: r });
                return u.addNackSuppportForOpus(n), n;
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return _.debug("getNativeSctpCapabilities()"), { numStreams: g };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              _.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "unified-plan",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : (_.warn(
                      "run() | pc.connectionState not supported, using pc.iceConnectionState"
                    ),
                    this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (this._pc.iceConnectionState) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    ));
            }
            async updateIceServers(e) {
              _.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (_.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                _.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                t &&
                  t.length > 1 &&
                  t.forEach((e, t) => {
                    e.rid = `r${t}`;
                  });
              const i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const o = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              o.codecs = d.reduceCodecs(o.codecs, n);
              const u = this._remoteSdp.getNextMediaSectionIdx(),
                h = this._pc.addTransceiver(e, {
                  direction: "sendonly",
                  streams: [this._sendStream],
                  sendEncodings: t,
                });
              let m,
                g = await this._pc.createOffer(),
                v = s.parse(g.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole:
                    null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                      ? a
                      : "client",
                  localSdpObject: v,
                }));
              let y = !1;
              const b = (0, f.parse)((t || [{}])[0].scalabilityMode);
              t &&
                1 === t.length &&
                b.spatialLayers > 1 &&
                "video/vp9" === i.codecs[0].mimeType.toLowerCase() &&
                (_.debug("send() | enabling legacy simulcast for VP9 SVC"),
                (y = !0),
                (v = s.parse(g.sdp)),
                (m = v.media[u.idx]),
                l.addLegacySimulcast({
                  offerMediaObject: m,
                  numStreams: b.spatialLayers,
                }),
                (g = { type: "offer", sdp: s.write(v) })),
                _.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  g
                ),
                await this._pc.setLocalDescription(g);
              const S = h.mid;
              if (
                ((i.mid = S),
                (v = s.parse(this._pc.localDescription.sdp)),
                (m = v.media[u.idx]),
                (i.rtcp.cname = p.getCname({ offerMediaObject: m })),
                t)
              )
                if (1 === t.length) {
                  let e = l.getRtpEncodings({ offerMediaObject: m });
                  Object.assign(e[0], t[0]),
                    y && (e = [e[0]]),
                    (i.encodings = e);
                } else i.encodings = t;
              else i.encodings = l.getRtpEncodings({ offerMediaObject: m });
              if (
                i.encodings.length > 1 &&
                ("video/vp8" === i.codecs[0].mimeType.toLowerCase() ||
                  "video/h264" === i.codecs[0].mimeType.toLowerCase())
              )
                for (const e of i.encodings)
                  e.scalabilityMode
                    ? (e.scalabilityMode = `L1T${b.temporalLayers}`)
                    : (e.scalabilityMode = "L1T3");
              this._remoteSdp.send({
                offerMediaObject: m,
                reuseMid: u.reuseMid,
                offerRtpParameters: i,
                answerRtpParameters: o,
                codecOptions: r,
                extmapAllowMixed: !0,
              });
              const w = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                _.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  w
                ),
                await this._pc.setRemoteDescription(w),
                this._mapMidTransceiver.set(S, h),
                { localId: S, rtpParameters: i, rtpSender: h.sender }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                _.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              t.sender.replaceTrack(null), this._pc.removeTrack(t.sender);
              if (this._remoteSdp.closeMediaSection(t.mid))
                try {
                  t.stop();
                } catch (e) {}
              const r = await this._pc.createOffer();
              _.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {
              this.assertSendDirection(),
                _.debug("pauseSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "inactive"), this._remoteSdp.pauseMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "pauseSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async resumeSending(e) {
              this.assertSendDirection(),
                _.debug("resumeSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if ((this._remoteSdp.resumeSendingMediaSection(e), !t))
                throw new Error("associated RTCRtpTransceiver not found");
              t.direction = "sendonly";
              const r = await this._pc.createOffer();
              _.debug(
                "resumeSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? _.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : _.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              _.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % g.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  _.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                _.debug("receive() [trackId:%s, kind:%s]", e, r);
                const s = a.mid || String(this._mapMidTransceiver.size);
                n.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: r } = t,
                  a = n.get(e),
                  i = o.media.find((e) => String(e.mid) === a);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: i,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                _.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { trackId: e } = t,
                  a = n.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  r.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("pauseReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "inactive"),
                  this._remoteSdp.pauseMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async resumeReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("resumeReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "recvonly"),
                  this._remoteSdp.resumeReceivingMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              _.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Chrome74 = v;
        },
        7392: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Edge11 = void 0);
          const s = r(8562),
            o = r(9992),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(3635)),
            l = r(9316),
            u = new s.Logger("Edge11");
          class h extends l.HandlerInterface {
            static createFactory() {
              return () => new h();
            }
            constructor() {
              super(),
                (this._rtpSenders = new Map()),
                (this._rtpReceivers = new Map()),
                (this._nextSendLocalId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Edge11";
            }
            close() {
              u.debug("close()");
              try {
                this._iceGatherer.close();
              } catch (e) {}
              try {
                this._iceTransport.stop();
              } catch (e) {}
              try {
                this._dtlsTransport.stop();
              } catch (e) {}
              for (const e of this._rtpSenders.values())
                try {
                  e.stop();
                } catch (e) {}
              for (const e of this._rtpReceivers.values())
                try {
                  e.stop();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              return u.debug("getNativeRtpCapabilities()"), p.getCapabilities();
            }
            async getNativeSctpCapabilities() {
              return (
                u.debug("getNativeSctpCapabilities()"),
                { numStreams: { OS: 0, MIS: 0 } }
              );
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: p,
              extendedRtpCapabilities: l,
            }) {
              u.debug("run()"),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", l),
                  video: d.getSendingRtpParameters("video", l),
                }),
                (this._remoteIceParameters = t),
                (this._remoteIceCandidates = r),
                (this._remoteDtlsParameters = n),
                (this._cname = `CNAME-${c.generateRandomNumber()}`),
                this.setIceGatherer({ iceServers: i, iceTransportPolicy: s }),
                this.setIceTransport(),
                this.setDtlsTransport();
            }
            async updateIceServers(e) {
              throw new o.UnsupportedError("not supported");
            }
            async restartIce(e) {
              if (
                (u.debug("restartIce()"),
                (this._remoteIceParameters = e),
                this._transportReady)
              ) {
                u.debug("restartIce() | calling iceTransport.start()"),
                  this._iceTransport.start(this._iceGatherer, e, "controlling");
                for (const e of this._remoteIceCandidates)
                  this._iceTransport.addRemoteCandidate(e);
                this._iceTransport.addRemoteCandidate({});
              }
            }
            async getTransportStats() {
              return this._iceTransport.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              u.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                this._transportReady ||
                  (await this.setupTransport({ localDtlsRole: "server" })),
                u.debug("send() | calling new RTCRtpSender()");
              const a = new RTCRtpSender(e, this._dtlsTransport),
                i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const s = i.codecs.some((e) => /.+\/rtx$/i.test(e.mimeType));
              t || (t = [{}]);
              for (const e of t)
                (e.ssrc = c.generateRandomNumber()),
                  s && (e.rtx = { ssrc: c.generateRandomNumber() });
              (i.encodings = t),
                (i.rtcp = { cname: this._cname, reducedSize: !0, mux: !0 });
              const o = p.mangleRtpParameters(i);
              u.debug("send() | calling rtpSender.send() [params:%o]", o),
                await a.send(o);
              const l = String(this._nextSendLocalId);
              return (
                this._nextSendLocalId++,
                this._rtpSenders.set(l, a),
                { localId: l, rtpParameters: i, rtpSender: a }
              );
            }
            async stopSending(e) {
              u.debug("stopSending() [localId:%s]", e);
              const t = this._rtpSenders.get(e);
              if (!t) throw new Error("RTCRtpSender not found");
              this._rtpSenders.delete(e);
              try {
                u.debug("stopSending() | calling rtpSender.stop()"), t.stop();
              } catch (e) {
                throw (
                  (u.warn("stopSending() | rtpSender.stop() failed:%o", e), e)
                );
              }
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              t
                ? u.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                : u.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._rtpSenders.get(e);
              if (!r) throw new Error("RTCRtpSender not found");
              r.setTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              u.debug(
                "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                e,
                t
              );
              const r = this._rtpSenders.get(e);
              if (!r) throw new Error("RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.setParameters(n);
            }
            async setRtpEncodingParameters(e, t) {
              u.debug(
                "setRtpEncodingParameters() [localId:%s, params:%o]",
                e,
                t
              );
              const r = this._rtpSenders.get(e);
              if (!r) throw new Error("RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.setParameters(n);
            }
            async getSenderStats(e) {
              const t = this._rtpSenders.get(e);
              if (!t) throw new Error("RTCRtpSender not found");
              return t.getStats();
            }
            async sendDataChannel(e) {
              throw new o.UnsupportedError("not implemented");
            }
            async receive(e) {
              const t = [];
              for (const t of e) {
                const { trackId: e, kind: r } = t;
                u.debug("receive() [trackId:%s, kind:%s]", e, r);
              }
              this._transportReady ||
                (await this.setupTransport({ localDtlsRole: "server" }));
              for (const r of e) {
                const { trackId: e, kind: n, rtpParameters: a } = r;
                u.debug("receive() | calling new RTCRtpReceiver()");
                const i = new RTCRtpReceiver(this._dtlsTransport, n);
                i.addEventListener("error", (e) => {
                  u.error('rtpReceiver "error" event [event:%o]', e);
                });
                const s = p.mangleRtpParameters(a);
                u.debug(
                  "receive() | calling rtpReceiver.receive() [params:%o]",
                  s
                ),
                  await i.receive(s);
                const o = e;
                this._rtpReceivers.set(o, i),
                  t.push({ localId: o, track: i.track, rtpReceiver: i });
              }
              return t;
            }
            async stopReceiving(e) {
              for (const t of e) {
                u.debug("stopReceiving() [localId:%s]", t);
                const e = this._rtpReceivers.get(t);
                if (!e) throw new Error("RTCRtpReceiver not found");
                this._rtpReceivers.delete(t);
                try {
                  u.debug("stopReceiving() | calling rtpReceiver.stop()"),
                    e.stop();
                } catch (e) {
                  u.warn("stopReceiving() | rtpReceiver.stop() failed:%o", e);
                }
              }
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async getReceiverStats(e) {
              const t = this._rtpReceivers.get(e);
              if (!t) throw new Error("RTCRtpReceiver not found");
              return t.getStats();
            }
            async receiveDataChannel(e) {
              throw new o.UnsupportedError("not implemented");
            }
            setIceGatherer({ iceServers: e, iceTransportPolicy: t }) {
              const r = new RTCIceGatherer({
                iceServers: e || [],
                gatherPolicy: t || "all",
              });
              r.addEventListener("error", (e) => {
                u.error('iceGatherer "error" event [event:%o]', e);
              });
              try {
                r.gather();
              } catch (e) {
                u.debug(
                  "setIceGatherer() | iceGatherer.gather() failed: %s",
                  e.toString()
                );
              }
              this._iceGatherer = r;
            }
            setIceTransport() {
              const e = new RTCIceTransport(this._iceGatherer);
              e.addEventListener("statechange", () => {
                switch (e.state) {
                  case "checking":
                    this.emit("@connectionstatechange", "connecting");
                    break;
                  case "connected":
                  case "completed":
                    this.emit("@connectionstatechange", "connected");
                    break;
                  case "failed":
                    this.emit("@connectionstatechange", "failed");
                    break;
                  case "disconnected":
                    this.emit("@connectionstatechange", "disconnected");
                    break;
                  case "closed":
                    this.emit("@connectionstatechange", "closed");
                }
              }),
                e.addEventListener("icestatechange", () => {
                  switch (e.state) {
                    case "checking":
                      this.emit("@connectionstatechange", "connecting");
                      break;
                    case "connected":
                    case "completed":
                      this.emit("@connectionstatechange", "connected");
                      break;
                    case "failed":
                      this.emit("@connectionstatechange", "failed");
                      break;
                    case "disconnected":
                      this.emit("@connectionstatechange", "disconnected");
                      break;
                    case "closed":
                      this.emit("@connectionstatechange", "closed");
                  }
                }),
                e.addEventListener("candidatepairchange", (e) => {
                  u.debug(
                    'iceTransport "candidatepairchange" event [pair:%o]',
                    e.pair
                  );
                }),
                (this._iceTransport = e);
            }
            setDtlsTransport() {
              const e = new RTCDtlsTransport(this._iceTransport);
              e.addEventListener("statechange", () => {
                u.debug(
                  'dtlsTransport "statechange" event [state:%s]',
                  e.state
                );
              }),
                e.addEventListener("dtlsstatechange", () => {
                  u.debug(
                    'dtlsTransport "dtlsstatechange" event [state:%s]',
                    e.state
                  ),
                    "closed" === e.state &&
                      this.emit("@connectionstatechange", "closed");
                }),
                e.addEventListener("error", (e) => {
                  u.error('dtlsTransport "error" event [event:%o]', e);
                }),
                (this._dtlsTransport = e);
            }
            async setupTransport({ localDtlsRole: e }) {
              u.debug("setupTransport()");
              const t = this._dtlsTransport.getLocalParameters();
              (t.role = e),
                await new Promise((e, r) => {
                  this.safeEmit("@connect", { dtlsParameters: t }, e, r);
                }),
                this._iceTransport.start(
                  this._iceGatherer,
                  this._remoteIceParameters,
                  "controlling"
                );
              for (const e of this._remoteIceCandidates)
                this._iceTransport.addRemoteCandidate(e);
              this._iceTransport.addRemoteCandidate({}),
                (this._remoteDtlsParameters.fingerprints =
                  this._remoteDtlsParameters.fingerprints.filter(
                    (e) =>
                      "sha-256" === e.algorithm ||
                      "sha-384" === e.algorithm ||
                      "sha-512" === e.algorithm
                  )),
                this._dtlsTransport.start(this._remoteDtlsParameters),
                (this._transportReady = !0);
            }
          }
          t.Edge11 = h;
        },
        1419: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Firefox60 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = r(9992),
            d = i(r(3347)),
            p = i(r(5280)),
            l = i(r(2267)),
            u = i(r(9072)),
            h = r(9316),
            m = r(7910),
            f = r(2770),
            _ = new o.Logger("Firefox60"),
            g = { OS: 16, MIS: 2048 };
          class v extends h.HandlerInterface {
            static createFactory() {
              return () => new v();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Firefox60";
            }
            close() {
              if ((_.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              _.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                  iceServers: [],
                  iceTransportPolicy: "all",
                  bundlePolicy: "max-bundle",
                  rtcpMuxPolicy: "require",
                }),
                t = document.createElement("canvas");
              t.getContext("2d");
              const r = t.captureStream().getVideoTracks()[0];
              try {
                e.addTransceiver("audio", { direction: "sendrecv" });
                const n = e.addTransceiver(r, { direction: "sendrecv" }),
                  a = n.sender.getParameters(),
                  i = [
                    { rid: "r0", maxBitrate: 1e5 },
                    { rid: "r1", maxBitrate: 5e5 },
                  ];
                (a.encodings = i), await n.sender.setParameters(a);
                const o = await e.createOffer();
                try {
                  t.remove();
                } catch (e) {}
                try {
                  r.stop();
                } catch (e) {}
                try {
                  e.close();
                } catch (e) {}
                const c = s.parse(o.sdp);
                return l.extractRtpCapabilities({ sdpObject: c });
              } catch (n) {
                try {
                  t.remove();
                } catch (e) {}
                try {
                  r.stop();
                } catch (e) {}
                try {
                  e.close();
                } catch (e) {}
                throw n;
              }
            }
            async getNativeSctpCapabilities() {
              return _.debug("getNativeSctpCapabilities()"), { numStreams: g };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: d,
            }) {
              _.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: p.getSendingRtpParameters("audio", d),
                  video: p.getSendingRtpParameters("video", d),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: p.getSendingRemoteRtpParameters("audio", d),
                  video: p.getSendingRemoteRtpParameters("video", d),
                }),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (_.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              throw new c.UnsupportedError("not supported");
            }
            async restartIce(e) {
              if (
                (_.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              this.assertSendDirection(),
                _.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                t &&
                  (t = d.clone(t, [])).length > 1 &&
                  (t.forEach((e, t) => {
                    e.rid = `r${t}`;
                  }),
                  t.reverse());
              const a = d.clone(this._sendingRtpParametersByKind[e.kind], {});
              a.codecs = p.reduceCodecs(a.codecs, n);
              const i = d.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              i.codecs = p.reduceCodecs(i.codecs, n);
              const o = this._pc.addTransceiver(e, {
                direction: "sendonly",
                streams: [this._sendStream],
              });
              if (t) {
                const e = o.sender.getParameters();
                (e.encodings = t), await o.sender.setParameters(e);
              }
              const c = await this._pc.createOffer();
              let h = s.parse(c.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole: "client",
                  localSdpObject: h,
                }));
              const m = (0, f.parse)((t || [{}])[0].scalabilityMode);
              _.debug(
                "send() | calling pc.setLocalDescription() [offer:%o]",
                c
              ),
                await this._pc.setLocalDescription(c);
              const g = o.mid;
              (a.mid = g), (h = s.parse(this._pc.localDescription.sdp));
              const v = h.media[h.media.length - 1];
              if (((a.rtcp.cname = l.getCname({ offerMediaObject: v })), t))
                if (1 === t.length) {
                  const e = u.getRtpEncodings({ offerMediaObject: v });
                  Object.assign(e[0], t[0]), (a.encodings = e);
                } else a.encodings = t.reverse();
              else a.encodings = u.getRtpEncodings({ offerMediaObject: v });
              if (
                a.encodings.length > 1 &&
                ("video/vp8" === a.codecs[0].mimeType.toLowerCase() ||
                  "video/h264" === a.codecs[0].mimeType.toLowerCase())
              )
                for (const e of a.encodings)
                  e.scalabilityMode
                    ? (e.scalabilityMode = `L1T${m.temporalLayers}`)
                    : (e.scalabilityMode = "L1T3");
              this._remoteSdp.send({
                offerMediaObject: v,
                offerRtpParameters: a,
                answerRtpParameters: i,
                codecOptions: r,
                extmapAllowMixed: !0,
              });
              const y = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                _.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  y
                ),
                await this._pc.setRemoteDescription(y),
                this._mapMidTransceiver.set(g, o),
                { localId: g, rtpParameters: a, rtpSender: o.sender }
              );
            }
            async stopSending(e) {
              _.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated transceiver not found");
              t.sender.replaceTrack(null),
                this._pc.removeTrack(t.sender),
                this._remoteSdp.disableMediaSection(t.mid);
              const r = await this._pc.createOffer();
              _.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {
              this.assertSendDirection(),
                _.debug("pauseSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "inactive"), this._remoteSdp.pauseMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "pauseSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async resumeSending(e) {
              this.assertSendDirection(),
                _.debug("resumeSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "sendonly"),
                this._remoteSdp.resumeSendingMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "resumeSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? _.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : _.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated transceiver not found");
              const n = r.sender.getParameters();
              (t = n.encodings.length - 1 - t),
                n.encodings.forEach((e, r) => {
                  e.active = r >= t;
                }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              this.assertSendDirection();
              const i = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              _.debug("sendDataChannel() [options:%o]", i);
              const o = this._pc.createDataChannel(n, i);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % g.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole: "client",
                    localSdpObject: t,
                  })),
                  _.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: o,
                sctpStreamParameters: {
                  streamId: i.id,
                  ordered: i.ordered,
                  maxPacketLifeTime: i.maxPacketLifeTime,
                  maxRetransmits: i.maxRetransmits,
                },
              };
            }
            async receive(e) {
              this.assertRecvDirection();
              const t = [],
                r = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: n,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                _.debug("receive() [trackId:%s, kind:%s]", e, n);
                const s = a.mid || String(this._mapMidTransceiver.size);
                r.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: n,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const n = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
              let a = await this._pc.createAnswer();
              const i = s.parse(a.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: n } = t,
                  o = r.get(e),
                  c = i.media.find((e) => String(e.mid) === o);
                l.applyCodecParameters({
                  offerRtpParameters: n,
                  answerMediaObject: c,
                }),
                  (a = { type: "answer", sdp: s.write(i) });
              }
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole: "client",
                  localSdpObject: i,
                })),
                _.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  a
                ),
                await this._pc.setLocalDescription(a);
              for (const n of e) {
                const { trackId: e } = n,
                  a = r.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  t.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return t;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("pauseReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "inactive"),
                  this._remoteSdp.pauseMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async resumeReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("resumeReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "recvonly"),
                  this._remoteSdp.resumeReceivingMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              this.assertRecvDirection();
              const {
                  streamId: n,
                  ordered: a,
                  maxPacketLifeTime: i,
                  maxRetransmits: o,
                } = e,
                c = {
                  negotiated: !0,
                  id: n,
                  ordered: a,
                  maxPacketLifeTime: i,
                  maxRetransmits: o,
                  protocol: r,
                };
              _.debug("receiveDataChannel() [options:%o]", c);
              const d = this._pc.createDataChannel(t, c);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole: "client",
                    localSdpObject: e,
                  });
                }
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: d };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = l.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Firefox60 = v;
        },
        9316: (e, t, r) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.HandlerInterface = void 0);
          const n = r(4493);
          class a extends n.EnhancedEventEmitter {
            constructor() {
              super();
            }
          }
          t.HandlerInterface = a;
        },
        4770: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.ReactNative = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = r(9992),
            d = i(r(3347)),
            p = i(r(5280)),
            l = i(r(2267)),
            u = i(r(9875)),
            h = r(9316),
            m = r(7910),
            f = new o.Logger("ReactNative"),
            _ = { OS: 1024, MIS: 1024 };
          class g extends h.HandlerInterface {
            static createFactory() {
              return () => new g();
            }
            constructor() {
              super(),
                (this._sendStream = new MediaStream()),
                (this._mapSendLocalIdTrack = new Map()),
                (this._nextSendLocalId = 0),
                (this._mapRecvLocalIdInfo = new Map()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "ReactNative";
            }
            close() {
              if ((f.debug("close()"), this._sendStream.release(!1), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              f.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "plan-b",
              });
              try {
                const t = await e.createOffer({
                  offerToReceiveAudio: !0,
                  offerToReceiveVideo: !0,
                });
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp);
                return l.extractRtpCapabilities({ sdpObject: r });
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return f.debug("getNativeSctpCapabilities()"), { numStreams: _ };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: d,
            }) {
              f.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  planB: !0,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: p.getSendingRtpParameters("audio", d),
                  video: p.getSendingRtpParameters("video", d),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: p.getSendingRemoteRtpParameters("audio", d),
                  video: p.getSendingRemoteRtpParameters("video", d),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "plan-b",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (f.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              f.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (f.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  f.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  f.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                f.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                n &&
                  f.warn(
                    "send() | codec selection is not available in %s handler",
                    this.name
                  ),
                this._sendStream.addTrack(e),
                this._pc.addStream(this._sendStream);
              let i,
                o = await this._pc.createOffer(),
                c = s.parse(o.sdp);
              const h = d.clone(this._sendingRtpParametersByKind[e.kind], {});
              h.codecs = p.reduceCodecs(h.codecs);
              const m = d.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              if (
                ((m.codecs = p.reduceCodecs(m.codecs)),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                        ? a
                        : "client",
                    localSdpObject: c,
                  })),
                "video" === e.kind &&
                  t &&
                  t.length > 1 &&
                  (f.debug("send() | enabling simulcast"),
                  (c = s.parse(o.sdp)),
                  (i = c.media.find((e) => "video" === e.type)),
                  u.addLegacySimulcast({
                    offerMediaObject: i,
                    track: e,
                    numStreams: t.length,
                  }),
                  (o = { type: "offer", sdp: s.write(c) })),
                f.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  o
                ),
                await this._pc.setLocalDescription(o),
                (c = s.parse(this._pc.localDescription.sdp)),
                (i = c.media.find((t) => t.type === e.kind)),
                (h.rtcp.cname = l.getCname({ offerMediaObject: i })),
                (h.encodings = u.getRtpEncodings({
                  offerMediaObject: i,
                  track: e,
                })),
                t)
              )
                for (let e = 0; e < h.encodings.length; ++e)
                  t[e] && Object.assign(h.encodings[e], t[e]);
              if (
                h.encodings.length > 1 &&
                ("video/vp8" === h.codecs[0].mimeType.toLowerCase() ||
                  "video/h264" === h.codecs[0].mimeType.toLowerCase())
              )
                for (const e of h.encodings) e.scalabilityMode = "L1T3";
              this._remoteSdp.send({
                offerMediaObject: i,
                offerRtpParameters: h,
                answerRtpParameters: m,
                codecOptions: r,
              });
              const _ = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "send() | calling pc.setRemoteDescription() [answer:%o]",
                _
              ),
                await this._pc.setRemoteDescription(_);
              const g = String(this._nextSendLocalId);
              return (
                this._nextSendLocalId++,
                this._mapSendLocalIdTrack.set(g, e),
                { localId: g, rtpParameters: h }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                f.debug("stopSending() [localId:%s]", e);
              const t = this._mapSendLocalIdTrack.get(e);
              if (!t) throw new Error("track not found");
              this._mapSendLocalIdTrack.delete(e),
                this._sendStream.removeTrack(t),
                this._pc.addStream(this._sendStream);
              const r = await this._pc.createOffer();
              f.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              );
              try {
                await this._pc.setLocalDescription(r);
              } catch (e) {
                if (0 === this._sendStream.getTracks().length)
                  return void f.warn(
                    "stopSending() | ignoring expected error due no sending tracks: %s",
                    e.toString()
                  );
                throw e;
              }
              if ("stable" === this._pc.signalingState) return;
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              throw new c.UnsupportedError("not implemented");
            }
            async setMaxSpatialLayer(e, t) {
              throw new c.UnsupportedError("not implemented");
            }
            async setRtpEncodingParameters(e, t) {
              throw new c.UnsupportedError("not implemented");
            }
            async getSenderStats(e) {
              throw new c.UnsupportedError("not implemented");
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmitTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              f.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % _.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  f.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const { trackId: e, kind: r, rtpParameters: a } = t;
                f.debug("receive() [trackId:%s, kind:%s]", e, r);
                const i = r;
                let s = t.streamId || a.rtcp.cname;
                f.debug(
                  "receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"
                ),
                  (s += `-hack-${d.generateRandomNumber()}`),
                  n.set(e, s),
                  this._remoteSdp.receive({
                    mid: i,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: s,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { kind: e, rtpParameters: r } = t,
                  n = e,
                  a = o.media.find((e) => String(e.mid) === n);
                l.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: a,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                f.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { kind: e, trackId: a, rtpParameters: i } = t,
                  s = a,
                  o = e,
                  c = n.get(a),
                  d = this._pc
                    .getRemoteStreams()
                    .find((e) => e.id === c)
                    .getTrackById(s);
                if (!d) throw new Error("remote track not found");
                this._mapRecvLocalIdInfo.set(s, { mid: o, rtpParameters: i }),
                  r.push({ localId: s, track: d });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                f.debug("stopReceiving() [localId:%s]", t);
                const { mid: e, rtpParameters: r } =
                  this._mapRecvLocalIdInfo.get(t) || {};
                this._mapRecvLocalIdInfo.delete(t),
                  this._remoteSdp.planBStopReceiving({
                    mid: e,
                    offerRtpParameters: r,
                  });
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              f.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              f.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async getReceiverStats(e) {
              throw new c.UnsupportedError("not implemented");
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmitTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              f.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation({
                  oldDataChannelSpec: !0,
                });
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                f.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = l.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.ReactNative = g;
        },
        3433: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.ReactNativeUnifiedPlan = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9072)),
            u = i(r(8954)),
            h = r(9316),
            m = r(7910),
            f = r(2770),
            _ = new o.Logger("ReactNativeUnifiedPlan"),
            g = { OS: 1024, MIS: 1024 };
          class v extends h.HandlerInterface {
            static createFactory() {
              return () => new v();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "ReactNativeUnifiedPlan";
            }
            close() {
              if ((_.debug("close()"), this._sendStream.release(!1), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              _.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "unified-plan",
              });
              try {
                e.addTransceiver("audio"), e.addTransceiver("video");
                const t = await e.createOffer();
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp),
                  n = p.extractRtpCapabilities({ sdpObject: r });
                return u.addNackSuppportForOpus(n), n;
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return _.debug("getNativeSctpCapabilities()"), { numStreams: g };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              _.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    sdpSemantics: "unified-plan",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (_.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              _.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (_.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                _.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                t &&
                  t.length > 1 &&
                  t.forEach((e, t) => {
                    e.rid = `r${t}`;
                  });
              const i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const o = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              o.codecs = d.reduceCodecs(o.codecs, n);
              const u = this._remoteSdp.getNextMediaSectionIdx(),
                h = this._pc.addTransceiver(e, {
                  direction: "sendonly",
                  streams: [this._sendStream],
                  sendEncodings: t,
                });
              let m,
                g = await this._pc.createOffer(),
                v = s.parse(g.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole:
                    null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                      ? a
                      : "client",
                  localSdpObject: v,
                }));
              let y = !1;
              const b = (0, f.parse)((t || [{}])[0].scalabilityMode);
              t &&
                1 === t.length &&
                b.spatialLayers > 1 &&
                "video/vp9" === i.codecs[0].mimeType.toLowerCase() &&
                (_.debug("send() | enabling legacy simulcast for VP9 SVC"),
                (y = !0),
                (v = s.parse(g.sdp)),
                (m = v.media[u.idx]),
                l.addLegacySimulcast({
                  offerMediaObject: m,
                  numStreams: b.spatialLayers,
                }),
                (g = { type: "offer", sdp: s.write(v) })),
                _.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  g
                ),
                await this._pc.setLocalDescription(g);
              const S = h.mid;
              if (
                ((i.mid = S),
                (v = s.parse(this._pc.localDescription.sdp)),
                (m = v.media[u.idx]),
                (i.rtcp.cname = p.getCname({ offerMediaObject: m })),
                t)
              )
                if (1 === t.length) {
                  let e = l.getRtpEncodings({ offerMediaObject: m });
                  Object.assign(e[0], t[0]),
                    y && (e = [e[0]]),
                    (i.encodings = e);
                } else i.encodings = t;
              else i.encodings = l.getRtpEncodings({ offerMediaObject: m });
              if (
                i.encodings.length > 1 &&
                ("video/vp8" === i.codecs[0].mimeType.toLowerCase() ||
                  "video/h264" === i.codecs[0].mimeType.toLowerCase())
              )
                for (const e of i.encodings)
                  e.scalabilityMode
                    ? (e.scalabilityMode = `L1T${b.temporalLayers}`)
                    : (e.scalabilityMode = "L1T3");
              this._remoteSdp.send({
                offerMediaObject: m,
                reuseMid: u.reuseMid,
                offerRtpParameters: i,
                answerRtpParameters: o,
                codecOptions: r,
                extmapAllowMixed: !0,
              });
              const w = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                _.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  w
                ),
                await this._pc.setRemoteDescription(w),
                this._mapMidTransceiver.set(S, h),
                { localId: S, rtpParameters: i, rtpSender: h.sender }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                _.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              t.sender.replaceTrack(null), this._pc.removeTrack(t.sender);
              if (this._remoteSdp.closeMediaSection(t.mid))
                try {
                  t.stop();
                } catch (e) {}
              const r = await this._pc.createOffer();
              _.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {
              this.assertSendDirection(),
                _.debug("pauseSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "inactive"), this._remoteSdp.pauseMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "pauseSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async resumeSending(e) {
              this.assertSendDirection(),
                _.debug("resumeSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if ((this._remoteSdp.resumeSendingMediaSection(e), !t))
                throw new Error("associated RTCRtpTransceiver not found");
              t.direction = "sendonly";
              const r = await this._pc.createOffer();
              _.debug(
                "resumeSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? _.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : _.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              _.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % g.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  _.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                _.debug("receive() [trackId:%s, kind:%s]", e, r);
                const s = a.mid || String(this._mapMidTransceiver.size);
                n.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: r } = t,
                  a = n.get(e),
                  i = o.media.find((e) => String(e.mid) === a);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: i,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                _.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { trackId: e } = t,
                  a = n.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  r.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("pauseReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "inactive"),
                  this._remoteSdp.pauseMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async resumeReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("resumeReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "recvonly"),
                  this._remoteSdp.resumeReceivingMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              _.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.ReactNativeUnifiedPlan = v;
        },
        2205: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Safari11 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9875)),
            u = r(9316),
            h = r(7910),
            m = new o.Logger("Safari11"),
            f = { OS: 1024, MIS: 1024 };
          class _ extends u.HandlerInterface {
            static createFactory() {
              return () => new _();
            }
            constructor() {
              super(),
                (this._sendStream = new MediaStream()),
                (this._mapSendLocalIdRtpSender = new Map()),
                (this._nextSendLocalId = 0),
                (this._mapRecvLocalIdInfo = new Map()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Safari11";
            }
            close() {
              if ((m.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              m.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
                sdpSemantics: "plan-b",
              });
              try {
                const t = await e.createOffer({
                  offerToReceiveAudio: !0,
                  offerToReceiveVideo: !0,
                });
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp);
                return p.extractRtpCapabilities({ sdpObject: r });
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return m.debug("getNativeSctpCapabilities()"), { numStreams: f };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              m.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new h.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                  planB: !0,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (m.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              m.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (m.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  m.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  m.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  m.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  m.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                m.debug("send() [kind:%s, track.id:%s]", e.kind, e.id),
                n &&
                  m.warn(
                    "send() | codec selection is not available in %s handler",
                    this.name
                  ),
                this._sendStream.addTrack(e),
                this._pc.addTrack(e, this._sendStream);
              let i,
                o = await this._pc.createOffer(),
                u = s.parse(o.sdp);
              const h = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              h.codecs = d.reduceCodecs(h.codecs);
              const f = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              if (
                ((f.codecs = d.reduceCodecs(f.codecs)),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                        ? a
                        : "client",
                    localSdpObject: u,
                  })),
                "video" === e.kind &&
                  t &&
                  t.length > 1 &&
                  (m.debug("send() | enabling simulcast"),
                  (u = s.parse(o.sdp)),
                  (i = u.media.find((e) => "video" === e.type)),
                  l.addLegacySimulcast({
                    offerMediaObject: i,
                    track: e,
                    numStreams: t.length,
                  }),
                  (o = { type: "offer", sdp: s.write(u) })),
                m.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  o
                ),
                await this._pc.setLocalDescription(o),
                (u = s.parse(this._pc.localDescription.sdp)),
                (i = u.media.find((t) => t.type === e.kind)),
                (h.rtcp.cname = p.getCname({ offerMediaObject: i })),
                (h.encodings = l.getRtpEncodings({
                  offerMediaObject: i,
                  track: e,
                })),
                t)
              )
                for (let e = 0; e < h.encodings.length; ++e)
                  t[e] && Object.assign(h.encodings[e], t[e]);
              if (
                h.encodings.length > 1 &&
                "video/vp8" === h.codecs[0].mimeType.toLowerCase()
              )
                for (const e of h.encodings) e.scalabilityMode = "L1T3";
              this._remoteSdp.send({
                offerMediaObject: i,
                offerRtpParameters: h,
                answerRtpParameters: f,
                codecOptions: r,
              });
              const _ = { type: "answer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "send() | calling pc.setRemoteDescription() [answer:%o]",
                _
              ),
                await this._pc.setRemoteDescription(_);
              const g = String(this._nextSendLocalId);
              this._nextSendLocalId++;
              const v = this._pc.getSenders().find((t) => t.track === e);
              return (
                this._mapSendLocalIdRtpSender.set(g, v),
                { localId: g, rtpParameters: h, rtpSender: v }
              );
            }
            async stopSending(e) {
              this.assertSendDirection();
              const t = this._mapSendLocalIdRtpSender.get(e);
              if (!t) throw new Error("associated RTCRtpSender not found");
              t.track && this._sendStream.removeTrack(t.track),
                this._mapSendLocalIdRtpSender.delete(e);
              const r = await this._pc.createOffer();
              m.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              );
              try {
                await this._pc.setLocalDescription(r);
              } catch (e) {
                if (0 === this._sendStream.getTracks().length)
                  return void m.warn(
                    "stopSending() | ignoring expected error due no sending tracks: %s",
                    e.toString()
                  );
                throw e;
              }
              if ("stable" === this._pc.signalingState) return;
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async pauseSending(e) {}
            async resumeSending(e) {}
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? m.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : m.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.track;
              await r.replaceTrack(t),
                n && this._sendStream.removeTrack(n),
                t && this._sendStream.addTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                m.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.setParameters(n);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                m.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapSendLocalIdRtpSender.get(e);
              if (!r) throw new Error("associated RTCRtpSender not found");
              const n = r.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.setParameters(n);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapSendLocalIdRtpSender.get(e);
              if (!t) throw new Error("associated RTCRtpSender not found");
              return t.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              m.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % f.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  m.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                m.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [];
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: n,
                  streamId: a,
                } = t;
                m.debug("receive() [trackId:%s, kind:%s]", e, r);
                const i = r;
                this._remoteSdp.receive({
                  mid: i,
                  kind: r,
                  offerRtpParameters: n,
                  streamId: a || n.rtcp.cname,
                  trackId: e,
                });
              }
              const n = { type: "offer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
              let a = await this._pc.createAnswer();
              const i = s.parse(a.sdp);
              for (const t of e) {
                const { kind: e, rtpParameters: r } = t,
                  n = e,
                  a = i.media.find((e) => String(e.mid) === n);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: a,
                });
              }
              (a = { type: "answer", sdp: s.write(i) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: i,
                  })),
                m.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  a
                ),
                await this._pc.setLocalDescription(a);
              for (const t of e) {
                const { kind: e, trackId: n, rtpParameters: a } = t,
                  i = e,
                  s = n,
                  o = this._pc
                    .getReceivers()
                    .find((e) => e.track && e.track.id === s);
                if (!o) throw new Error("new RTCRtpReceiver not");
                this._mapRecvLocalIdInfo.set(s, {
                  mid: i,
                  rtpParameters: a,
                  rtpReceiver: o,
                }),
                  r.push({ localId: s, track: o.track, rtpReceiver: o });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                m.debug("stopReceiving() [localId:%s]", t);
                const { mid: e, rtpParameters: r } =
                  this._mapRecvLocalIdInfo.get(t) || {};
                this._mapRecvLocalIdInfo.delete(t),
                  this._remoteSdp.planBStopReceiving({
                    mid: e,
                    offerRtpParameters: r,
                  });
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              m.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              m.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const { rtpReceiver: t } = this._mapRecvLocalIdInfo.get(e) || {};
              if (!t) throw new Error("associated RTCRtpReceiver not found");
              return t.getStats();
            }
            async pauseReceiving(e) {}
            async resumeReceiving(e) {}
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              m.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation({
                  oldDataChannelSpec: !0,
                });
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                m.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                m.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Safari11 = _;
        },
        9862: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.Safari12 = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = i(r(3347)),
            d = i(r(5280)),
            p = i(r(2267)),
            l = i(r(9072)),
            u = i(r(8954)),
            h = r(9316),
            m = r(7910),
            f = r(2770),
            _ = new o.Logger("Safari12"),
            g = { OS: 1024, MIS: 1024 };
          class v extends h.HandlerInterface {
            static createFactory() {
              return () => new v();
            }
            constructor() {
              super(),
                (this._mapMidTransceiver = new Map()),
                (this._sendStream = new MediaStream()),
                (this._hasDataChannelMediaSection = !1),
                (this._nextSendSctpStreamId = 0),
                (this._transportReady = !1);
            }
            get name() {
              return "Safari12";
            }
            close() {
              if ((_.debug("close()"), this._pc))
                try {
                  this._pc.close();
                } catch (e) {}
              this.emit("@close");
            }
            async getNativeRtpCapabilities() {
              _.debug("getNativeRtpCapabilities()");
              const e = new RTCPeerConnection({
                iceServers: [],
                iceTransportPolicy: "all",
                bundlePolicy: "max-bundle",
                rtcpMuxPolicy: "require",
              });
              try {
                e.addTransceiver("audio"), e.addTransceiver("video");
                const t = await e.createOffer();
                try {
                  e.close();
                } catch (e) {}
                const r = s.parse(t.sdp),
                  n = p.extractRtpCapabilities({ sdpObject: r });
                return u.addNackSuppportForOpus(n), n;
              } catch (t) {
                try {
                  e.close();
                } catch (e) {}
                throw t;
              }
            }
            async getNativeSctpCapabilities() {
              return _.debug("getNativeSctpCapabilities()"), { numStreams: g };
            }
            run({
              direction: e,
              iceParameters: t,
              iceCandidates: r,
              dtlsParameters: n,
              sctpParameters: a,
              iceServers: i,
              iceTransportPolicy: s,
              additionalSettings: o,
              proprietaryConstraints: c,
              extendedRtpCapabilities: p,
            }) {
              _.debug("run()"),
                (this._direction = e),
                (this._remoteSdp = new m.RemoteSdp({
                  iceParameters: t,
                  iceCandidates: r,
                  dtlsParameters: n,
                  sctpParameters: a,
                })),
                (this._sendingRtpParametersByKind = {
                  audio: d.getSendingRtpParameters("audio", p),
                  video: d.getSendingRtpParameters("video", p),
                }),
                (this._sendingRemoteRtpParametersByKind = {
                  audio: d.getSendingRemoteRtpParameters("audio", p),
                  video: d.getSendingRemoteRtpParameters("video", p),
                }),
                n.role &&
                  "auto" !== n.role &&
                  (this._forcedLocalDtlsRole =
                    "server" === n.role ? "client" : "server"),
                (this._pc = new RTCPeerConnection(
                  {
                    iceServers: i || [],
                    iceTransportPolicy: s || "all",
                    bundlePolicy: "max-bundle",
                    rtcpMuxPolicy: "require",
                    ...o,
                  },
                  c
                )),
                this._pc.connectionState
                  ? this._pc.addEventListener("connectionstatechange", () => {
                      this.emit(
                        "@connectionstatechange",
                        this._pc.connectionState
                      );
                    })
                  : this._pc.addEventListener(
                      "iceconnectionstatechange",
                      () => {
                        switch (
                          (_.warn(
                            "run() | pc.connectionState not supported, using pc.iceConnectionState"
                          ),
                          this._pc.iceConnectionState)
                        ) {
                          case "checking":
                            this.emit("@connectionstatechange", "connecting");
                            break;
                          case "connected":
                          case "completed":
                            this.emit("@connectionstatechange", "connected");
                            break;
                          case "failed":
                            this.emit("@connectionstatechange", "failed");
                            break;
                          case "disconnected":
                            this.emit("@connectionstatechange", "disconnected");
                            break;
                          case "closed":
                            this.emit("@connectionstatechange", "closed");
                        }
                      }
                    );
            }
            async updateIceServers(e) {
              _.debug("updateIceServers()");
              const t = this._pc.getConfiguration();
              (t.iceServers = e), this._pc.setConfiguration(t);
            }
            async restartIce(e) {
              if (
                (_.debug("restartIce()"),
                this._remoteSdp.updateIceParameters(e),
                this._transportReady)
              )
                if ("send" === this._direction) {
                  const e = await this._pc.createOffer({ iceRestart: !0 });
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setLocalDescription(e);
                  const t = { type: "answer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setRemoteDescription(t);
                } else {
                  const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                  _.debug(
                    "restartIce() | calling pc.setRemoteDescription() [offer:%o]",
                    e
                  ),
                    await this._pc.setRemoteDescription(e);
                  const t = await this._pc.createAnswer();
                  _.debug(
                    "restartIce() | calling pc.setLocalDescription() [answer:%o]",
                    t
                  ),
                    await this._pc.setLocalDescription(t);
                }
            }
            async getTransportStats() {
              return this._pc.getStats();
            }
            async send({ track: e, encodings: t, codecOptions: r, codec: n }) {
              var a;
              this.assertSendDirection(),
                _.debug("send() [kind:%s, track.id:%s]", e.kind, e.id);
              const i = c.clone(this._sendingRtpParametersByKind[e.kind], {});
              i.codecs = d.reduceCodecs(i.codecs, n);
              const o = c.clone(
                this._sendingRemoteRtpParametersByKind[e.kind],
                {}
              );
              o.codecs = d.reduceCodecs(o.codecs, n);
              const u = this._remoteSdp.getNextMediaSectionIdx(),
                h = this._pc.addTransceiver(e, {
                  direction: "sendonly",
                  streams: [this._sendStream],
                });
              let m,
                g = await this._pc.createOffer(),
                v = s.parse(g.sdp);
              this._transportReady ||
                (await this.setupTransport({
                  localDtlsRole:
                    null !== (a = this._forcedLocalDtlsRole) && void 0 !== a
                      ? a
                      : "client",
                  localSdpObject: v,
                }));
              const y = (0, f.parse)((t || [{}])[0].scalabilityMode);
              t &&
                t.length > 1 &&
                (_.debug("send() | enabling legacy simulcast"),
                (v = s.parse(g.sdp)),
                (m = v.media[u.idx]),
                l.addLegacySimulcast({
                  offerMediaObject: m,
                  numStreams: t.length,
                }),
                (g = { type: "offer", sdp: s.write(v) })),
                _.debug(
                  "send() | calling pc.setLocalDescription() [offer:%o]",
                  g
                ),
                await this._pc.setLocalDescription(g);
              const b = h.mid;
              if (
                ((i.mid = b),
                (v = s.parse(this._pc.localDescription.sdp)),
                (m = v.media[u.idx]),
                (i.rtcp.cname = p.getCname({ offerMediaObject: m })),
                (i.encodings = l.getRtpEncodings({ offerMediaObject: m })),
                t)
              )
                for (let e = 0; e < i.encodings.length; ++e)
                  t[e] && Object.assign(i.encodings[e], t[e]);
              if (
                i.encodings.length > 1 &&
                ("video/vp8" === i.codecs[0].mimeType.toLowerCase() ||
                  "video/h264" === i.codecs[0].mimeType.toLowerCase())
              )
                for (const e of i.encodings)
                  e.scalabilityMode
                    ? (e.scalabilityMode = `L1T${y.temporalLayers}`)
                    : (e.scalabilityMode = "L1T3");
              this._remoteSdp.send({
                offerMediaObject: m,
                reuseMid: u.reuseMid,
                offerRtpParameters: i,
                answerRtpParameters: o,
                codecOptions: r,
              });
              const S = { type: "answer", sdp: this._remoteSdp.getSdp() };
              return (
                _.debug(
                  "send() | calling pc.setRemoteDescription() [answer:%o]",
                  S
                ),
                await this._pc.setRemoteDescription(S),
                this._mapMidTransceiver.set(b, h),
                { localId: b, rtpParameters: i, rtpSender: h.sender }
              );
            }
            async stopSending(e) {
              this.assertSendDirection(),
                _.debug("stopSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              t.sender.replaceTrack(null), this._pc.removeTrack(t.sender);
              if (this._remoteSdp.closeMediaSection(t.mid))
                try {
                  t.stop();
                } catch (e) {}
              const r = await this._pc.createOffer();
              _.debug(
                "stopSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n),
                this._mapMidTransceiver.delete(e);
            }
            async pauseSending(e) {
              this.assertSendDirection(),
                _.debug("pauseSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "inactive"), this._remoteSdp.pauseMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "pauseSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async resumeSending(e) {
              this.assertSendDirection(),
                _.debug("resumeSending() [localId:%s]", e);
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              (t.direction = "sendonly"),
                this._remoteSdp.resumeSendingMediaSection(e);
              const r = await this._pc.createOffer();
              _.debug(
                "resumeSending() | calling pc.setLocalDescription() [offer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeSending() | calling pc.setRemoteDescription() [answer:%o]",
                n
              ),
                await this._pc.setRemoteDescription(n);
            }
            async replaceTrack(e, t) {
              this.assertSendDirection(),
                t
                  ? _.debug("replaceTrack() [localId:%s, track.id:%s]", e, t.id)
                  : _.debug("replaceTrack() [localId:%s, no track]", e);
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              await r.sender.replaceTrack(t);
            }
            async setMaxSpatialLayer(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                e.active = r <= t;
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async setRtpEncodingParameters(e, t) {
              this.assertSendDirection(),
                _.debug(
                  "setRtpEncodingParameters() [localId:%s, params:%o]",
                  e,
                  t
                );
              const r = this._mapMidTransceiver.get(e);
              if (!r) throw new Error("associated RTCRtpTransceiver not found");
              const n = r.sender.getParameters();
              n.encodings.forEach((e, r) => {
                n.encodings[r] = { ...e, ...t };
              }),
                await r.sender.setParameters(n),
                this._remoteSdp.muxMediaSectionSimulcast(e, n.encodings);
              const a = await this._pc.createOffer();
              _.debug(
                "setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",
                a
              ),
                await this._pc.setLocalDescription(a);
              const i = { type: "answer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",
                i
              ),
                await this._pc.setRemoteDescription(i);
            }
            async getSenderStats(e) {
              this.assertSendDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.sender.getStats();
            }
            async sendDataChannel({
              ordered: e,
              maxPacketLifeTime: t,
              maxRetransmits: r,
              label: n,
              protocol: a,
            }) {
              var i;
              this.assertSendDirection();
              const o = {
                negotiated: !0,
                id: this._nextSendSctpStreamId,
                ordered: e,
                maxPacketLifeTime: t,
                maxRetransmits: r,
                protocol: a,
              };
              _.debug("sendDataChannel() [options:%o]", o);
              const c = this._pc.createDataChannel(n, o);
              if (
                ((this._nextSendSctpStreamId =
                  ++this._nextSendSctpStreamId % g.MIS),
                !this._hasDataChannelMediaSection)
              ) {
                const e = await this._pc.createOffer(),
                  t = s.parse(e.sdp),
                  r = t.media.find((e) => "application" === e.type);
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (i = this._forcedLocalDtlsRole) && void 0 !== i
                        ? i
                        : "client",
                    localSdpObject: t,
                  })),
                  _.debug(
                    "sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",
                    e
                  ),
                  await this._pc.setLocalDescription(e),
                  this._remoteSdp.sendSctpAssociation({ offerMediaObject: r });
                const n = { type: "answer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  n
                ),
                  await this._pc.setRemoteDescription(n),
                  (this._hasDataChannelMediaSection = !0);
              }
              return {
                dataChannel: c,
                sctpStreamParameters: {
                  streamId: o.id,
                  ordered: o.ordered,
                  maxPacketLifeTime: o.maxPacketLifeTime,
                  maxRetransmits: o.maxRetransmits,
                },
              };
            }
            async receive(e) {
              var t;
              this.assertRecvDirection();
              const r = [],
                n = new Map();
              for (const t of e) {
                const {
                  trackId: e,
                  kind: r,
                  rtpParameters: a,
                  streamId: i,
                } = t;
                _.debug("receive() [trackId:%s, kind:%s]", e, r);
                const s = a.mid || String(this._mapMidTransceiver.size);
                n.set(e, s),
                  this._remoteSdp.receive({
                    mid: s,
                    kind: r,
                    offerRtpParameters: a,
                    streamId: i || a.rtcp.cname,
                    trackId: e,
                  });
              }
              const a = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "receive() | calling pc.setRemoteDescription() [offer:%o]",
                a
              ),
                await this._pc.setRemoteDescription(a);
              let i = await this._pc.createAnswer();
              const o = s.parse(i.sdp);
              for (const t of e) {
                const { trackId: e, rtpParameters: r } = t,
                  a = n.get(e),
                  i = o.media.find((e) => String(e.mid) === a);
                p.applyCodecParameters({
                  offerRtpParameters: r,
                  answerMediaObject: i,
                });
              }
              (i = { type: "answer", sdp: s.write(o) }),
                this._transportReady ||
                  (await this.setupTransport({
                    localDtlsRole:
                      null !== (t = this._forcedLocalDtlsRole) && void 0 !== t
                        ? t
                        : "client",
                    localSdpObject: o,
                  })),
                _.debug(
                  "receive() | calling pc.setLocalDescription() [answer:%o]",
                  i
                ),
                await this._pc.setLocalDescription(i);
              for (const t of e) {
                const { trackId: e } = t,
                  a = n.get(e),
                  i = this._pc.getTransceivers().find((e) => e.mid === a);
                if (!i) throw new Error("new RTCRtpTransceiver not found");
                this._mapMidTransceiver.set(a, i),
                  r.push({
                    localId: a,
                    track: i.receiver.track,
                    rtpReceiver: i.receiver,
                  });
              }
              return r;
            }
            async stopReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("stopReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                this._remoteSdp.closeMediaSection(e.mid);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "stopReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
              for (const t of e) this._mapMidTransceiver.delete(t);
            }
            async pauseReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("pauseReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "inactive"),
                  this._remoteSdp.pauseMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async resumeReceiving(e) {
              this.assertRecvDirection();
              for (const t of e) {
                _.debug("resumeReceiving() [localId:%s]", t);
                const e = this._mapMidTransceiver.get(t);
                if (!e)
                  throw new Error("associated RTCRtpTransceiver not found");
                (e.direction = "recvonly"),
                  this._remoteSdp.resumeReceivingMediaSection(t);
              }
              const t = { type: "offer", sdp: this._remoteSdp.getSdp() };
              _.debug(
                "resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",
                t
              ),
                await this._pc.setRemoteDescription(t);
              const r = await this._pc.createAnswer();
              _.debug(
                "resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",
                r
              ),
                await this._pc.setLocalDescription(r);
            }
            async getReceiverStats(e) {
              this.assertRecvDirection();
              const t = this._mapMidTransceiver.get(e);
              if (!t) throw new Error("associated RTCRtpTransceiver not found");
              return t.receiver.getStats();
            }
            async receiveDataChannel({
              sctpStreamParameters: e,
              label: t,
              protocol: r,
            }) {
              var n;
              this.assertRecvDirection();
              const {
                  streamId: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                } = e,
                d = {
                  negotiated: !0,
                  id: a,
                  ordered: i,
                  maxPacketLifeTime: o,
                  maxRetransmits: c,
                  protocol: r,
                };
              _.debug("receiveDataChannel() [options:%o]", d);
              const p = this._pc.createDataChannel(t, d);
              if (!this._hasDataChannelMediaSection) {
                this._remoteSdp.receiveSctpAssociation();
                const e = { type: "offer", sdp: this._remoteSdp.getSdp() };
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",
                  e
                ),
                  await this._pc.setRemoteDescription(e);
                const t = await this._pc.createAnswer();
                if (!this._transportReady) {
                  const e = s.parse(t.sdp);
                  await this.setupTransport({
                    localDtlsRole:
                      null !== (n = this._forcedLocalDtlsRole) && void 0 !== n
                        ? n
                        : "client",
                    localSdpObject: e,
                  });
                }
                _.debug(
                  "receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",
                  t
                ),
                  await this._pc.setLocalDescription(t),
                  (this._hasDataChannelMediaSection = !0);
              }
              return { dataChannel: p };
            }
            async setupTransport({ localDtlsRole: e, localSdpObject: t }) {
              t || (t = s.parse(this._pc.localDescription.sdp));
              const r = p.extractDtlsParameters({ sdpObject: t });
              (r.role = e),
                this._remoteSdp.updateDtlsRole(
                  "client" === e ? "server" : "client"
                ),
                await new Promise((e, t) => {
                  this.safeEmit("@connect", { dtlsParameters: r }, e, t);
                }),
                (this._transportReady = !0);
            }
            assertSendDirection() {
              if ("send" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "send" direction'
                );
            }
            assertRecvDirection() {
              if ("recv" !== this._direction)
                throw new Error(
                  'method can just be called for handlers with "recv" direction'
                );
            }
          }
          t.Safari12 = v;
        },
        3635: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.mangleRtpParameters = t.getCapabilities = void 0);
          const s = i(r(3347));
          (t.getCapabilities = function () {
            const e = RTCRtpReceiver.getCapabilities(),
              t = s.clone(e, {});
            for (const e of t.codecs) {
              if (
                ((e.channels = e.numChannels),
                delete e.numChannels,
                (e.mimeType = e.mimeType || `${e.kind}/${e.name}`),
                e.parameters)
              ) {
                const t = e.parameters;
                t.apt && (t.apt = Number(t.apt)),
                  t["packetization-mode"] &&
                    (t["packetization-mode"] = Number(t["packetization-mode"]));
              }
              for (const t of e.rtcpFeedback || [])
                t.parameter || (t.parameter = "");
            }
            return t;
          }),
            (t.mangleRtpParameters = function (e) {
              const t = s.clone(e, {});
              t.mid && ((t.muxId = t.mid), delete t.mid);
              for (const e of t.codecs)
                e.channels && ((e.numChannels = e.channels), delete e.channels),
                  e.mimeType && !e.name && (e.name = e.mimeType.split("/")[1]),
                  delete e.mimeType;
              return t;
            });
        },
        8954: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.addNackSuppportForOpus = void 0),
            (t.addNackSuppportForOpus = function (e) {
              var t;
              for (const r of e.codecs || [])
                ("audio/opus" !== r.mimeType.toLowerCase() &&
                  "audio/multiopus" !== r.mimeType.toLowerCase()) ||
                  (null === (t = r.rtcpFeedback) || void 0 === t
                    ? void 0
                    : t.some((e) => "nack" === e.type && !e.parameter)) ||
                  (r.rtcpFeedback || (r.rtcpFeedback = []),
                  r.rtcpFeedback.push({ type: "nack" }));
            });
        },
        6698: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.OfferMediaSection =
              t.AnswerMediaSection =
              t.MediaSection =
                void 0);
          const s = i(r(766)),
            o = i(r(3347));
          class c {
            constructor({
              iceParameters: e,
              iceCandidates: t,
              dtlsParameters: r,
              planB: n = !1,
            }) {
              if (
                ((this._mediaObject = {}),
                (this._planB = n),
                e && this.setIceParameters(e),
                t)
              ) {
                this._mediaObject.candidates = [];
                for (const e of t) {
                  const t = { component: 1 };
                  (t.foundation = e.foundation),
                    (t.ip = e.ip),
                    (t.port = e.port),
                    (t.priority = e.priority),
                    (t.transport = e.protocol),
                    (t.type = e.type),
                    e.tcpType && (t.tcptype = e.tcpType),
                    this._mediaObject.candidates.push(t);
                }
                (this._mediaObject.endOfCandidates = "end-of-candidates"),
                  (this._mediaObject.iceOptions = "renomination");
              }
              r && this.setDtlsRole(r.role);
            }
            get mid() {
              return String(this._mediaObject.mid);
            }
            get closed() {
              return 0 === this._mediaObject.port;
            }
            getObject() {
              return this._mediaObject;
            }
            setIceParameters(e) {
              (this._mediaObject.iceUfrag = e.usernameFragment),
                (this._mediaObject.icePwd = e.password);
            }
            pause() {
              this._mediaObject.direction = "inactive";
            }
            disable() {
              this.pause(),
                delete this._mediaObject.ext,
                delete this._mediaObject.ssrcs,
                delete this._mediaObject.ssrcGroups,
                delete this._mediaObject.simulcast,
                delete this._mediaObject.simulcast_03,
                delete this._mediaObject.rids,
                delete this._mediaObject.extmapAllowMixed;
            }
            close() {
              this.disable(), (this._mediaObject.port = 0);
            }
          }
          t.MediaSection = c;
          t.AnswerMediaSection = class extends c {
            constructor({
              iceParameters: e,
              iceCandidates: t,
              dtlsParameters: r,
              sctpParameters: n,
              plainRtpParameters: a,
              planB: i = !1,
              offerMediaObject: s,
              offerRtpParameters: c,
              answerRtpParameters: p,
              codecOptions: l,
              extmapAllowMixed: u = !1,
            }) {
              switch (
                (super({
                  iceParameters: e,
                  iceCandidates: t,
                  dtlsParameters: r,
                  planB: i,
                }),
                (this._mediaObject.mid = String(s.mid)),
                (this._mediaObject.type = s.type),
                (this._mediaObject.protocol = s.protocol),
                a
                  ? ((this._mediaObject.connection = {
                      ip: a.ip,
                      version: a.ipVersion,
                    }),
                    (this._mediaObject.port = a.port))
                  : ((this._mediaObject.connection = {
                      ip: "127.0.0.1",
                      version: 4,
                    }),
                    (this._mediaObject.port = 7)),
                s.type)
              ) {
                case "audio":
                case "video":
                  (this._mediaObject.direction = "recvonly"),
                    (this._mediaObject.rtp = []),
                    (this._mediaObject.rtcpFb = []),
                    (this._mediaObject.fmtp = []);
                  for (const e of p.codecs) {
                    const t = {
                      payload: e.payloadType,
                      codec: d(e),
                      rate: e.clockRate,
                    };
                    e.channels > 1 && (t.encoding = e.channels),
                      this._mediaObject.rtp.push(t);
                    const r = o.clone(e.parameters, {});
                    let n = o.clone(e.rtcpFeedback, []);
                    if (l) {
                      const {
                          opusStereo: t,
                          opusFec: a,
                          opusDtx: i,
                          opusMaxPlaybackRate: s,
                          opusMaxAverageBitrate: o,
                          opusPtime: d,
                          opusNack: p,
                          videoGoogleStartBitrate: u,
                          videoGoogleMaxBitrate: h,
                          videoGoogleMinBitrate: m,
                        } = l,
                        f = c.codecs.find(
                          (t) => t.payloadType === e.payloadType
                        );
                      switch (e.mimeType.toLowerCase()) {
                        case "audio/opus":
                        case "audio/multiopus":
                          void 0 !== t &&
                            ((f.parameters["sprop-stereo"] = t ? 1 : 0),
                            (r.stereo = t ? 1 : 0)),
                            void 0 !== a &&
                              ((f.parameters.useinbandfec = a ? 1 : 0),
                              (r.useinbandfec = a ? 1 : 0)),
                            void 0 !== i &&
                              ((f.parameters.usedtx = i ? 1 : 0),
                              (r.usedtx = i ? 1 : 0)),
                            void 0 !== s && (r.maxplaybackrate = s),
                            void 0 !== o && (r.maxaveragebitrate = o),
                            void 0 !== d &&
                              ((f.parameters.ptime = d), (r.ptime = d)),
                            p ||
                              ((f.rtcpFeedback = f.rtcpFeedback.filter(
                                (e) => "nack" !== e.type || e.parameter
                              )),
                              (n = n.filter(
                                (e) => "nack" !== e.type || e.parameter
                              )));
                          break;
                        case "video/vp8":
                        case "video/vp9":
                        case "video/h264":
                        case "video/h265":
                          void 0 !== u && (r["x-google-start-bitrate"] = u),
                            void 0 !== h && (r["x-google-max-bitrate"] = h),
                            void 0 !== m && (r["x-google-min-bitrate"] = m);
                      }
                    }
                    const a = { payload: e.payloadType, config: "" };
                    for (const e of Object.keys(r))
                      a.config && (a.config += ";"),
                        (a.config += `${e}=${r[e]}`);
                    a.config && this._mediaObject.fmtp.push(a);
                    for (const t of n)
                      this._mediaObject.rtcpFb.push({
                        payload: e.payloadType,
                        type: t.type,
                        subtype: t.parameter,
                      });
                  }
                  (this._mediaObject.payloads = p.codecs
                    .map((e) => e.payloadType)
                    .join(" ")),
                    (this._mediaObject.ext = []);
                  for (const e of p.headerExtensions) {
                    (s.ext || []).some((t) => t.uri === e.uri) &&
                      this._mediaObject.ext.push({ uri: e.uri, value: e.id });
                  }
                  if (
                    (u &&
                      "extmap-allow-mixed" === s.extmapAllowMixed &&
                      (this._mediaObject.extmapAllowMixed =
                        "extmap-allow-mixed"),
                    s.simulcast)
                  ) {
                    (this._mediaObject.simulcast = {
                      dir1: "recv",
                      list1: s.simulcast.list1,
                    }),
                      (this._mediaObject.rids = []);
                    for (const e of s.rids || [])
                      "send" === e.direction &&
                        this._mediaObject.rids.push({
                          id: e.id,
                          direction: "recv",
                        });
                  } else if (s.simulcast_03) {
                    (this._mediaObject.simulcast_03 = {
                      value: s.simulcast_03.value.replace(/send/g, "recv"),
                    }),
                      (this._mediaObject.rids = []);
                    for (const e of s.rids || [])
                      "send" === e.direction &&
                        this._mediaObject.rids.push({
                          id: e.id,
                          direction: "recv",
                        });
                  }
                  (this._mediaObject.rtcpMux = "rtcp-mux"),
                    (this._mediaObject.rtcpRsize = "rtcp-rsize"),
                    this._planB &&
                      "video" === this._mediaObject.type &&
                      (this._mediaObject.xGoogleFlag = "conference");
                  break;
                case "application":
                  "number" == typeof s.sctpPort
                    ? ((this._mediaObject.payloads = "webrtc-datachannel"),
                      (this._mediaObject.sctpPort = n.port),
                      (this._mediaObject.maxMessageSize = n.maxMessageSize))
                    : s.sctpmap &&
                      ((this._mediaObject.payloads = n.port),
                      (this._mediaObject.sctpmap = {
                        app: "webrtc-datachannel",
                        sctpmapNumber: n.port,
                        maxMessageSize: n.maxMessageSize,
                      }));
              }
            }
            setDtlsRole(e) {
              switch (e) {
                case "client":
                  this._mediaObject.setup = "active";
                  break;
                case "server":
                  this._mediaObject.setup = "passive";
                  break;
                case "auto":
                  this._mediaObject.setup = "actpass";
              }
            }
            resume() {
              this._mediaObject.direction = "recvonly";
            }
            muxSimulcastStreams(e) {
              var t;
              if (
                !this._mediaObject.simulcast ||
                !this._mediaObject.simulcast.list1
              )
                return;
              const r = {};
              for (const t of e) t.rid && (r[t.rid] = t);
              const n = this._mediaObject.simulcast.list1,
                a = s.parseSimulcastStreamList(n);
              for (const e of a)
                for (const n of e)
                  n.paused = !(null === (t = r[n.scid]) || void 0 === t
                    ? void 0
                    : t.active);
              this._mediaObject.simulcast.list1 = a
                .map((e) =>
                  e.map((e) => `${e.paused ? "~" : ""}${e.scid}`).join(",")
                )
                .join(";");
            }
          };
          function d(e) {
            const t = new RegExp("^(audio|video)/(.+)", "i").exec(e.mimeType);
            if (!t) throw new TypeError("invalid codec.mimeType");
            return t[2];
          }
          t.OfferMediaSection = class extends c {
            constructor({
              iceParameters: e,
              iceCandidates: t,
              dtlsParameters: r,
              sctpParameters: n,
              plainRtpParameters: a,
              planB: i = !1,
              mid: s,
              kind: o,
              offerRtpParameters: c,
              streamId: p,
              trackId: l,
              oldDataChannelSpec: u = !1,
            }) {
              switch (
                (super({
                  iceParameters: e,
                  iceCandidates: t,
                  dtlsParameters: r,
                  planB: i,
                }),
                (this._mediaObject.mid = String(s)),
                (this._mediaObject.type = o),
                a
                  ? ((this._mediaObject.connection = {
                      ip: a.ip,
                      version: a.ipVersion,
                    }),
                    (this._mediaObject.protocol = "RTP/AVP"),
                    (this._mediaObject.port = a.port))
                  : ((this._mediaObject.connection = {
                      ip: "127.0.0.1",
                      version: 4,
                    }),
                    (this._mediaObject.protocol = n
                      ? "UDP/DTLS/SCTP"
                      : "UDP/TLS/RTP/SAVPF"),
                    (this._mediaObject.port = 7)),
                o)
              ) {
                case "audio":
                case "video": {
                  (this._mediaObject.direction = "sendonly"),
                    (this._mediaObject.rtp = []),
                    (this._mediaObject.rtcpFb = []),
                    (this._mediaObject.fmtp = []),
                    this._planB ||
                      (this._mediaObject.msid = `${p || "-"} ${l}`);
                  for (const e of c.codecs) {
                    const t = {
                      payload: e.payloadType,
                      codec: d(e),
                      rate: e.clockRate,
                    };
                    e.channels > 1 && (t.encoding = e.channels),
                      this._mediaObject.rtp.push(t);
                    const r = { payload: e.payloadType, config: "" };
                    for (const t of Object.keys(e.parameters))
                      r.config && (r.config += ";"),
                        (r.config += `${t}=${e.parameters[t]}`);
                    r.config && this._mediaObject.fmtp.push(r);
                    for (const t of e.rtcpFeedback)
                      this._mediaObject.rtcpFb.push({
                        payload: e.payloadType,
                        type: t.type,
                        subtype: t.parameter,
                      });
                  }
                  (this._mediaObject.payloads = c.codecs
                    .map((e) => e.payloadType)
                    .join(" ")),
                    (this._mediaObject.ext = []);
                  for (const e of c.headerExtensions)
                    this._mediaObject.ext.push({ uri: e.uri, value: e.id });
                  (this._mediaObject.rtcpMux = "rtcp-mux"),
                    (this._mediaObject.rtcpRsize = "rtcp-rsize");
                  const e = c.encodings[0],
                    t = e.ssrc,
                    r = e.rtx && e.rtx.ssrc ? e.rtx.ssrc : void 0;
                  (this._mediaObject.ssrcs = []),
                    (this._mediaObject.ssrcGroups = []),
                    c.rtcp.cname &&
                      this._mediaObject.ssrcs.push({
                        id: t,
                        attribute: "cname",
                        value: c.rtcp.cname,
                      }),
                    this._planB &&
                      this._mediaObject.ssrcs.push({
                        id: t,
                        attribute: "msid",
                        value: `${p || "-"} ${l}`,
                      }),
                    r &&
                      (c.rtcp.cname &&
                        this._mediaObject.ssrcs.push({
                          id: r,
                          attribute: "cname",
                          value: c.rtcp.cname,
                        }),
                      this._planB &&
                        this._mediaObject.ssrcs.push({
                          id: r,
                          attribute: "msid",
                          value: `${p || "-"} ${l}`,
                        }),
                      this._mediaObject.ssrcGroups.push({
                        semantics: "FID",
                        ssrcs: `${t} ${r}`,
                      }));
                  break;
                }
                case "application":
                  u
                    ? ((this._mediaObject.payloads = n.port),
                      (this._mediaObject.sctpmap = {
                        app: "webrtc-datachannel",
                        sctpmapNumber: n.port,
                        maxMessageSize: n.maxMessageSize,
                      }))
                    : ((this._mediaObject.payloads = "webrtc-datachannel"),
                      (this._mediaObject.sctpPort = n.port),
                      (this._mediaObject.maxMessageSize = n.maxMessageSize));
              }
            }
            setDtlsRole(e) {
              this._mediaObject.setup = "actpass";
            }
            resume() {
              this._mediaObject.direction = "sendonly";
            }
            planBReceive({ offerRtpParameters: e, streamId: t, trackId: r }) {
              const n = e.encodings[0],
                a = n.ssrc,
                i = n.rtx && n.rtx.ssrc ? n.rtx.ssrc : void 0,
                s = this._mediaObject.payloads.split(" ");
              for (const t of e.codecs) {
                if (s.includes(String(t.payloadType))) continue;
                const e = {
                  payload: t.payloadType,
                  codec: d(t),
                  rate: t.clockRate,
                };
                t.channels > 1 && (e.encoding = t.channels),
                  this._mediaObject.rtp.push(e);
                const r = { payload: t.payloadType, config: "" };
                for (const e of Object.keys(t.parameters))
                  r.config && (r.config += ";"),
                    (r.config += `${e}=${t.parameters[e]}`);
                r.config && this._mediaObject.fmtp.push(r);
                for (const e of t.rtcpFeedback)
                  this._mediaObject.rtcpFb.push({
                    payload: t.payloadType,
                    type: e.type,
                    subtype: e.parameter,
                  });
              }
              (this._mediaObject.payloads += ` ${e.codecs
                .filter(
                  (e) => !this._mediaObject.payloads.includes(e.payloadType)
                )
                .map((e) => e.payloadType)
                .join(" ")}`),
                (this._mediaObject.payloads =
                  this._mediaObject.payloads.trim()),
                e.rtcp.cname &&
                  this._mediaObject.ssrcs.push({
                    id: a,
                    attribute: "cname",
                    value: e.rtcp.cname,
                  }),
                this._mediaObject.ssrcs.push({
                  id: a,
                  attribute: "msid",
                  value: `${t || "-"} ${r}`,
                }),
                i &&
                  (e.rtcp.cname &&
                    this._mediaObject.ssrcs.push({
                      id: i,
                      attribute: "cname",
                      value: e.rtcp.cname,
                    }),
                  this._mediaObject.ssrcs.push({
                    id: i,
                    attribute: "msid",
                    value: `${t || "-"} ${r}`,
                  }),
                  this._mediaObject.ssrcGroups.push({
                    semantics: "FID",
                    ssrcs: `${a} ${i}`,
                  }));
            }
            planBStopReceiving({ offerRtpParameters: e }) {
              const t = e.encodings[0],
                r = t.ssrc,
                n = t.rtx && t.rtx.ssrc ? t.rtx.ssrc : void 0;
              (this._mediaObject.ssrcs = this._mediaObject.ssrcs.filter(
                (e) => e.id !== r && e.id !== n
              )),
                n &&
                  (this._mediaObject.ssrcGroups =
                    this._mediaObject.ssrcGroups.filter(
                      (e) => e.ssrcs !== `${r} ${n}`
                    ));
            }
          };
        },
        7910: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.RemoteSdp = void 0);
          const s = i(r(766)),
            o = r(8562),
            c = r(6698),
            d = new o.Logger("RemoteSdp");
          t.RemoteSdp = class {
            constructor({
              iceParameters: e,
              iceCandidates: t,
              dtlsParameters: r,
              sctpParameters: n,
              plainRtpParameters: a,
              planB: i = !1,
            }) {
              if (
                ((this._mediaSections = []),
                (this._midToIndex = new Map()),
                (this._iceParameters = e),
                (this._iceCandidates = t),
                (this._dtlsParameters = r),
                (this._sctpParameters = n),
                (this._plainRtpParameters = a),
                (this._planB = i),
                (this._sdpObject = {
                  version: 0,
                  origin: {
                    address: "0.0.0.0",
                    ipVer: 4,
                    netType: "IN",
                    sessionId: 1e4,
                    sessionVersion: 0,
                    username: "mediasoup-client",
                  },
                  name: "-",
                  timing: { start: 0, stop: 0 },
                  media: [],
                }),
                e && e.iceLite && (this._sdpObject.icelite = "ice-lite"),
                r)
              ) {
                this._sdpObject.msidSemantic = { semantic: "WMS", token: "*" };
                const e = this._dtlsParameters.fingerprints.length;
                (this._sdpObject.fingerprint = {
                  type: r.fingerprints[e - 1].algorithm,
                  hash: r.fingerprints[e - 1].value,
                }),
                  (this._sdpObject.groups = [{ type: "BUNDLE", mids: "" }]);
              }
              a &&
                ((this._sdpObject.origin.address = a.ip),
                (this._sdpObject.origin.ipVer = a.ipVersion));
            }
            updateIceParameters(e) {
              d.debug("updateIceParameters() [iceParameters:%o]", e),
                (this._iceParameters = e),
                (this._sdpObject.icelite = e.iceLite ? "ice-lite" : void 0);
              for (const t of this._mediaSections) t.setIceParameters(e);
            }
            updateDtlsRole(e) {
              d.debug("updateDtlsRole() [role:%s]", e),
                (this._dtlsParameters.role = e);
              for (const t of this._mediaSections) t.setDtlsRole(e);
            }
            getNextMediaSectionIdx() {
              for (let e = 0; e < this._mediaSections.length; ++e) {
                const t = this._mediaSections[e];
                if (t.closed) return { idx: e, reuseMid: t.mid };
              }
              return { idx: this._mediaSections.length };
            }
            send({
              offerMediaObject: e,
              reuseMid: t,
              offerRtpParameters: r,
              answerRtpParameters: n,
              codecOptions: a,
              extmapAllowMixed: i = !1,
            }) {
              const s = new c.AnswerMediaSection({
                iceParameters: this._iceParameters,
                iceCandidates: this._iceCandidates,
                dtlsParameters: this._dtlsParameters,
                plainRtpParameters: this._plainRtpParameters,
                planB: this._planB,
                offerMediaObject: e,
                offerRtpParameters: r,
                answerRtpParameters: n,
                codecOptions: a,
                extmapAllowMixed: i,
              });
              t
                ? this._replaceMediaSection(s, t)
                : this._midToIndex.has(s.mid)
                ? this._replaceMediaSection(s)
                : this._addMediaSection(s);
            }
            receive({
              mid: e,
              kind: t,
              offerRtpParameters: r,
              streamId: n,
              trackId: a,
            }) {
              const i = this._midToIndex.get(e);
              let s;
              if ((void 0 !== i && (s = this._mediaSections[i]), s))
                s.planBReceive({
                  offerRtpParameters: r,
                  streamId: n,
                  trackId: a,
                }),
                  this._replaceMediaSection(s);
              else {
                s = new c.OfferMediaSection({
                  iceParameters: this._iceParameters,
                  iceCandidates: this._iceCandidates,
                  dtlsParameters: this._dtlsParameters,
                  plainRtpParameters: this._plainRtpParameters,
                  planB: this._planB,
                  mid: e,
                  kind: t,
                  offerRtpParameters: r,
                  streamId: n,
                  trackId: a,
                });
                const i = this._mediaSections.find((e) => e.closed);
                i
                  ? this._replaceMediaSection(s, i.mid)
                  : this._addMediaSection(s);
              }
            }
            pauseMediaSection(e) {
              this._findMediaSection(e).pause();
            }
            resumeSendingMediaSection(e) {
              this._findMediaSection(e).resume();
            }
            resumeReceivingMediaSection(e) {
              this._findMediaSection(e).resume();
            }
            disableMediaSection(e) {
              this._findMediaSection(e).disable();
            }
            closeMediaSection(e) {
              const t = this._findMediaSection(e);
              return e === this._firstMid
                ? (d.debug(
                    "closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",
                    e
                  ),
                  this.disableMediaSection(e),
                  !1)
                : (t.close(), this._regenerateBundleMids(), !0);
            }
            muxMediaSectionSimulcast(e, t) {
              const r = this._findMediaSection(e);
              r.muxSimulcastStreams(t), this._replaceMediaSection(r);
            }
            planBStopReceiving({ mid: e, offerRtpParameters: t }) {
              const r = this._findMediaSection(e);
              r.planBStopReceiving({ offerRtpParameters: t }),
                this._replaceMediaSection(r);
            }
            sendSctpAssociation({ offerMediaObject: e }) {
              const t = new c.AnswerMediaSection({
                iceParameters: this._iceParameters,
                iceCandidates: this._iceCandidates,
                dtlsParameters: this._dtlsParameters,
                sctpParameters: this._sctpParameters,
                plainRtpParameters: this._plainRtpParameters,
                offerMediaObject: e,
              });
              this._addMediaSection(t);
            }
            receiveSctpAssociation({ oldDataChannelSpec: e = !1 } = {}) {
              const t = new c.OfferMediaSection({
                iceParameters: this._iceParameters,
                iceCandidates: this._iceCandidates,
                dtlsParameters: this._dtlsParameters,
                sctpParameters: this._sctpParameters,
                plainRtpParameters: this._plainRtpParameters,
                mid: "datachannel",
                kind: "application",
                oldDataChannelSpec: e,
              });
              this._addMediaSection(t);
            }
            getSdp() {
              return (
                this._sdpObject.origin.sessionVersion++,
                s.write(this._sdpObject)
              );
            }
            _addMediaSection(e) {
              this._firstMid || (this._firstMid = e.mid),
                this._mediaSections.push(e),
                this._midToIndex.set(e.mid, this._mediaSections.length - 1),
                this._sdpObject.media.push(e.getObject()),
                this._regenerateBundleMids();
            }
            _replaceMediaSection(e, t) {
              if ("string" == typeof t) {
                const r = this._midToIndex.get(t);
                if (void 0 === r)
                  throw new Error(`no media section found for reuseMid '${t}'`);
                const n = this._mediaSections[r];
                (this._mediaSections[r] = e),
                  this._midToIndex.delete(n.mid),
                  this._midToIndex.set(e.mid, r),
                  (this._sdpObject.media[r] = e.getObject()),
                  this._regenerateBundleMids();
              } else {
                const t = this._midToIndex.get(e.mid);
                if (void 0 === t)
                  throw new Error(`no media section found with mid '${e.mid}'`);
                (this._mediaSections[t] = e),
                  (this._sdpObject.media[t] = e.getObject());
              }
            }
            _findMediaSection(e) {
              const t = this._midToIndex.get(e);
              if (void 0 === t)
                throw new Error(`no media section found with mid '${e}'`);
              return this._mediaSections[t];
            }
            _regenerateBundleMids() {
              this._dtlsParameters &&
                (this._sdpObject.groups[0].mids = this._mediaSections
                  .filter((e) => !e.closed)
                  .map((e) => e.mid)
                  .join(" "));
            }
          };
        },
        2267: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.applyCodecParameters =
              t.getCname =
              t.extractDtlsParameters =
              t.extractRtpCapabilities =
                void 0);
          const s = i(r(766));
          (t.extractRtpCapabilities = function ({ sdpObject: e }) {
            const t = new Map(),
              r = [];
            let n = !1,
              a = !1;
            for (const i of e.media) {
              const e = i.type;
              switch (e) {
                case "audio":
                  if (n) continue;
                  n = !0;
                  break;
                case "video":
                  if (a) continue;
                  a = !0;
                  break;
                default:
                  continue;
              }
              for (const r of i.rtp) {
                const n = {
                  kind: e,
                  mimeType: `${e}/${r.codec}`,
                  preferredPayloadType: r.payload,
                  clockRate: r.rate,
                  channels: r.encoding,
                  parameters: {},
                  rtcpFeedback: [],
                };
                t.set(n.preferredPayloadType, n);
              }
              for (const e of i.fmtp || []) {
                const r = s.parseParams(e.config),
                  n = t.get(e.payload);
                n &&
                  (r &&
                    r.hasOwnProperty("profile-level-id") &&
                    (r["profile-level-id"] = String(r["profile-level-id"])),
                  (n.parameters = r));
              }
              for (const r of i.rtcpFb || []) {
                const n = { type: r.type, parameter: r.subtype };
                if ((n.parameter || delete n.parameter, "*" !== r.payload)) {
                  const e = t.get(r.payload);
                  if (!e) continue;
                  e.rtcpFeedback.push(n);
                } else
                  for (const r of t.values())
                    r.kind !== e ||
                      /.+\/rtx$/i.test(r.mimeType) ||
                      r.rtcpFeedback.push(n);
              }
              for (const t of i.ext || []) {
                if (t["encrypt-uri"]) continue;
                const n = { kind: e, uri: t.uri, preferredId: t.value };
                r.push(n);
              }
            }
            return { codecs: Array.from(t.values()), headerExtensions: r };
          }),
            (t.extractDtlsParameters = function ({ sdpObject: e }) {
              const t = (e.media || []).find((e) => e.iceUfrag && 0 !== e.port);
              if (!t) throw new Error("no active media section found");
              const r = t.fingerprint || e.fingerprint;
              let n;
              switch (t.setup) {
                case "active":
                  n = "client";
                  break;
                case "passive":
                  n = "server";
                  break;
                case "actpass":
                  n = "auto";
              }
              return {
                role: n,
                fingerprints: [{ algorithm: r.type, value: r.hash }],
              };
            }),
            (t.getCname = function ({ offerMediaObject: e }) {
              const t = (e.ssrcs || []).find((e) => "cname" === e.attribute);
              return t ? t.value : "";
            }),
            (t.applyCodecParameters = function ({
              offerRtpParameters: e,
              answerMediaObject: t,
            }) {
              for (const r of e.codecs) {
                const e = r.mimeType.toLowerCase();
                if ("audio/opus" !== e) continue;
                if (!(t.rtp || []).find((e) => e.payload === r.payloadType))
                  continue;
                t.fmtp = t.fmtp || [];
                let n = t.fmtp.find((e) => e.payload === r.payloadType);
                n ||
                  ((n = { payload: r.payloadType, config: "" }),
                  t.fmtp.push(n));
                const a = s.parseParams(n.config);
                switch (e) {
                  case "audio/opus": {
                    const e = r.parameters["sprop-stereo"];
                    void 0 !== e && (a.stereo = e ? 1 : 0);
                    break;
                  }
                }
                n.config = "";
                for (const e of Object.keys(a))
                  n.config && (n.config += ";"), (n.config += `${e}=${a[e]}`);
              }
            });
        },
        9875: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.addLegacySimulcast = t.getRtpEncodings = void 0),
            (t.getRtpEncodings = function ({ offerMediaObject: e, track: t }) {
              let r;
              const n = new Set();
              for (const a of e.ssrcs || []) {
                if ("msid" !== a.attribute) continue;
                if (a.value.split(" ")[1] === t.id) {
                  const e = a.id;
                  n.add(e), r || (r = e);
                }
              }
              if (0 === n.size)
                throw new Error(
                  `a=ssrc line with msid information not found [track.id:${t.id}]`
                );
              const a = new Map();
              for (const t of e.ssrcGroups || []) {
                if ("FID" !== t.semantics) continue;
                let [e, r] = t.ssrcs.split(/\s+/);
                (e = Number(e)),
                  (r = Number(r)),
                  n.has(e) && (n.delete(e), n.delete(r), a.set(e, r));
              }
              for (const e of n) a.set(e, null);
              const i = [];
              for (const [e, t] of a) {
                const r = { ssrc: e };
                t && (r.rtx = { ssrc: t }), i.push(r);
              }
              return i;
            }),
            (t.addLegacySimulcast = function ({
              offerMediaObject: e,
              track: t,
              numStreams: r,
            }) {
              if (r <= 1)
                throw new TypeError("numStreams must be greater than 1");
              let n, a, i;
              if (
                !(e.ssrcs || []).find((e) => {
                  if ("msid" !== e.attribute) return !1;
                  return (
                    e.value.split(" ")[1] === t.id &&
                    ((n = e.id), (i = e.value.split(" ")[0]), !0)
                  );
                })
              )
                throw new Error(
                  `a=ssrc line with msid information not found [track.id:${t.id}]`
                );
              (e.ssrcGroups || []).some((e) => {
                if ("FID" !== e.semantics) return !1;
                const t = e.ssrcs.split(/\s+/);
                return Number(t[0]) === n && ((a = Number(t[1])), !0);
              });
              const s = e.ssrcs.find(
                (e) => "cname" === e.attribute && e.id === n
              );
              if (!s)
                throw new Error(
                  `a=ssrc line with cname information not found [track.id:${t.id}]`
                );
              const o = s.value,
                c = [],
                d = [];
              for (let e = 0; e < r; ++e) c.push(n + e), a && d.push(a + e);
              (e.ssrcGroups = e.ssrcGroups || []),
                (e.ssrcs = e.ssrcs || []),
                e.ssrcGroups.push({ semantics: "SIM", ssrcs: c.join(" ") });
              for (let r = 0; r < c.length; ++r) {
                const n = c[r];
                e.ssrcs.push({ id: n, attribute: "cname", value: o }),
                  e.ssrcs.push({
                    id: n,
                    attribute: "msid",
                    value: `${i} ${t.id}`,
                  });
              }
              for (let r = 0; r < d.length; ++r) {
                const n = c[r],
                  a = d[r];
                e.ssrcs.push({ id: a, attribute: "cname", value: o }),
                  e.ssrcs.push({
                    id: a,
                    attribute: "msid",
                    value: `${i} ${t.id}`,
                  }),
                  e.ssrcGroups.push({ semantics: "FID", ssrcs: `${n} ${a}` });
              }
            });
        },
        9072: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.addLegacySimulcast = t.getRtpEncodings = void 0),
            (t.getRtpEncodings = function ({ offerMediaObject: e }) {
              const t = new Set();
              for (const r of e.ssrcs || []) {
                const e = r.id;
                t.add(e);
              }
              if (0 === t.size) throw new Error("no a=ssrc lines found");
              const r = new Map();
              for (const n of e.ssrcGroups || []) {
                if ("FID" !== n.semantics) continue;
                let [e, a] = n.ssrcs.split(/\s+/);
                (e = Number(e)),
                  (a = Number(a)),
                  t.has(e) && (t.delete(e), t.delete(a), r.set(e, a));
              }
              for (const e of t) r.set(e, null);
              const n = [];
              for (const [e, t] of r) {
                const r = { ssrc: e };
                t && (r.rtx = { ssrc: t }), n.push(r);
              }
              return n;
            }),
            (t.addLegacySimulcast = function ({
              offerMediaObject: e,
              numStreams: t,
            }) {
              if (t <= 1)
                throw new TypeError("numStreams must be greater than 1");
              const r = (e.ssrcs || []).find((e) => "msid" === e.attribute);
              if (!r)
                throw new Error("a=ssrc line with msid information not found");
              const [n, a] = r.value.split(" "),
                i = r.id;
              let s;
              (e.ssrcGroups || []).some((e) => {
                if ("FID" !== e.semantics) return !1;
                const t = e.ssrcs.split(/\s+/);
                return Number(t[0]) === i && ((s = Number(t[1])), !0);
              });
              const o = e.ssrcs.find((e) => "cname" === e.attribute);
              if (!o)
                throw new Error("a=ssrc line with cname information not found");
              const c = o.value,
                d = [],
                p = [];
              for (let e = 0; e < t; ++e) d.push(i + e), s && p.push(s + e);
              (e.ssrcGroups = []),
                (e.ssrcs = []),
                e.ssrcGroups.push({ semantics: "SIM", ssrcs: d.join(" ") });
              for (let t = 0; t < d.length; ++t) {
                const r = d[t];
                e.ssrcs.push({ id: r, attribute: "cname", value: c }),
                  e.ssrcs.push({
                    id: r,
                    attribute: "msid",
                    value: `${n} ${a}`,
                  });
              }
              for (let t = 0; t < p.length; ++t) {
                const r = d[t],
                  i = p[t];
                e.ssrcs.push({ id: i, attribute: "cname", value: c }),
                  e.ssrcs.push({
                    id: i,
                    attribute: "msid",
                    value: `${n} ${a}`,
                  }),
                  e.ssrcGroups.push({ semantics: "FID", ssrcs: `${r} ${i}` });
              }
            });
        },
        960: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              },
            s =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.debug =
              t.parseScalabilityMode =
              t.detectDevice =
              t.Device =
              t.version =
              t.types =
                void 0);
          const o = s(r(388));
          t.debug = o.default;
          const c = r(3120);
          Object.defineProperty(t, "Device", {
            enumerable: !0,
            get: function () {
              return c.Device;
            },
          }),
            Object.defineProperty(t, "detectDevice", {
              enumerable: !0,
              get: function () {
                return c.detectDevice;
              },
            });
          const d = i(r(53));
          (t.types = d), (t.version = "3.6.84");
          var p = r(2770);
          Object.defineProperty(t, "parseScalabilityMode", {
            enumerable: !0,
            get: function () {
              return p.parse;
            },
          });
        },
        5280: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (e, t) {
                    Object.defineProperty(e, "default", {
                      enumerable: !0,
                      value: t,
                    });
                  }
                : function (e, t) {
                    e.default = t;
                  }),
            i =
              (this && this.__importStar) ||
              function (e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                  for (var r in e)
                    "default" !== r &&
                      Object.prototype.hasOwnProperty.call(e, r) &&
                      n(t, e, r);
                return a(t, e), t;
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.canReceive =
              t.canSend =
              t.generateProbatorRtpParameters =
              t.reduceCodecs =
              t.getSendingRemoteRtpParameters =
              t.getSendingRtpParameters =
              t.getRecvRtpCapabilities =
              t.getExtendedRtpCapabilities =
              t.validateSctpStreamParameters =
              t.validateSctpParameters =
              t.validateNumSctpStreams =
              t.validateSctpCapabilities =
              t.validateRtcpParameters =
              t.validateRtpEncodingParameters =
              t.validateRtpHeaderExtensionParameters =
              t.validateRtpCodecParameters =
              t.validateRtpParameters =
              t.validateRtpHeaderExtension =
              t.validateRtcpFeedback =
              t.validateRtpCodecCapability =
              t.validateRtpCapabilities =
                void 0);
          const s = i(r(7855)),
            o = i(r(3347));
          function c(e) {
            const t = new RegExp("^(audio|video)/(.+)", "i");
            if ("object" != typeof e)
              throw new TypeError("codec is not an object");
            if (!e.mimeType || "string" != typeof e.mimeType)
              throw new TypeError("missing codec.mimeType");
            const r = t.exec(e.mimeType);
            if (!r) throw new TypeError("invalid codec.mimeType");
            if (
              ((e.kind = r[1].toLowerCase()),
              e.preferredPayloadType &&
                "number" != typeof e.preferredPayloadType)
            )
              throw new TypeError("invalid codec.preferredPayloadType");
            if ("number" != typeof e.clockRate)
              throw new TypeError("missing codec.clockRate");
            "audio" === e.kind
              ? "number" != typeof e.channels && (e.channels = 1)
              : delete e.channels,
              (e.parameters && "object" == typeof e.parameters) ||
                (e.parameters = {});
            for (const t of Object.keys(e.parameters)) {
              let r = e.parameters[t];
              if (
                (void 0 === r && ((e.parameters[t] = ""), (r = "")),
                "string" != typeof r && "number" != typeof r)
              )
                throw new TypeError(
                  `invalid codec parameter [key:${t}s, value:${r}]`
                );
              if ("apt" === t && "number" != typeof r)
                throw new TypeError("invalid codec apt parameter");
            }
            (e.rtcpFeedback && Array.isArray(e.rtcpFeedback)) ||
              (e.rtcpFeedback = []);
            for (const t of e.rtcpFeedback) d(t);
          }
          function d(e) {
            if ("object" != typeof e)
              throw new TypeError("fb is not an object");
            if (!e.type || "string" != typeof e.type)
              throw new TypeError("missing fb.type");
            (e.parameter && "string" == typeof e.parameter) ||
              (e.parameter = "");
          }
          function p(e) {
            if ("object" != typeof e)
              throw new TypeError("ext is not an object");
            if ("audio" !== e.kind && "video" !== e.kind)
              throw new TypeError("invalid ext.kind");
            if (!e.uri || "string" != typeof e.uri)
              throw new TypeError("missing ext.uri");
            if ("number" != typeof e.preferredId)
              throw new TypeError("missing ext.preferredId");
            if (e.preferredEncrypt && "boolean" != typeof e.preferredEncrypt)
              throw new TypeError("invalid ext.preferredEncrypt");
            if (
              (e.preferredEncrypt || (e.preferredEncrypt = !1),
              e.direction && "string" != typeof e.direction)
            )
              throw new TypeError("invalid ext.direction");
            e.direction || (e.direction = "sendrecv");
          }
          function l(e) {
            if ("object" != typeof e)
              throw new TypeError("params is not an object");
            if (e.mid && "string" != typeof e.mid)
              throw new TypeError("params.mid is not a string");
            if (!Array.isArray(e.codecs))
              throw new TypeError("missing params.codecs");
            for (const t of e.codecs) u(t);
            if (e.headerExtensions && !Array.isArray(e.headerExtensions))
              throw new TypeError("params.headerExtensions is not an array");
            e.headerExtensions || (e.headerExtensions = []);
            for (const t of e.headerExtensions) h(t);
            if (e.encodings && !Array.isArray(e.encodings))
              throw new TypeError("params.encodings is not an array");
            e.encodings || (e.encodings = []);
            for (const t of e.encodings) m(t);
            if (e.rtcp && "object" != typeof e.rtcp)
              throw new TypeError("params.rtcp is not an object");
            e.rtcp || (e.rtcp = {}), f(e.rtcp);
          }
          function u(e) {
            const t = new RegExp("^(audio|video)/(.+)", "i");
            if ("object" != typeof e)
              throw new TypeError("codec is not an object");
            if (!e.mimeType || "string" != typeof e.mimeType)
              throw new TypeError("missing codec.mimeType");
            const r = t.exec(e.mimeType);
            if (!r) throw new TypeError("invalid codec.mimeType");
            if ("number" != typeof e.payloadType)
              throw new TypeError("missing codec.payloadType");
            if ("number" != typeof e.clockRate)
              throw new TypeError("missing codec.clockRate");
            "audio" === r[1].toLowerCase()
              ? "number" != typeof e.channels && (e.channels = 1)
              : delete e.channels,
              (e.parameters && "object" == typeof e.parameters) ||
                (e.parameters = {});
            for (const t of Object.keys(e.parameters)) {
              let r = e.parameters[t];
              if (
                (void 0 === r && ((e.parameters[t] = ""), (r = "")),
                "string" != typeof r && "number" != typeof r)
              )
                throw new TypeError(
                  `invalid codec parameter [key:${t}s, value:${r}]`
                );
              if ("apt" === t && "number" != typeof r)
                throw new TypeError("invalid codec apt parameter");
            }
            (e.rtcpFeedback && Array.isArray(e.rtcpFeedback)) ||
              (e.rtcpFeedback = []);
            for (const t of e.rtcpFeedback) d(t);
          }
          function h(e) {
            if ("object" != typeof e)
              throw new TypeError("ext is not an object");
            if (!e.uri || "string" != typeof e.uri)
              throw new TypeError("missing ext.uri");
            if ("number" != typeof e.id) throw new TypeError("missing ext.id");
            if (e.encrypt && "boolean" != typeof e.encrypt)
              throw new TypeError("invalid ext.encrypt");
            e.encrypt || (e.encrypt = !1),
              (e.parameters && "object" == typeof e.parameters) ||
                (e.parameters = {});
            for (const t of Object.keys(e.parameters)) {
              let r = e.parameters[t];
              if (
                (void 0 === r && ((e.parameters[t] = ""), (r = "")),
                "string" != typeof r && "number" != typeof r)
              )
                throw new TypeError("invalid header extension parameter");
            }
          }
          function m(e) {
            if ("object" != typeof e)
              throw new TypeError("encoding is not an object");
            if (e.ssrc && "number" != typeof e.ssrc)
              throw new TypeError("invalid encoding.ssrc");
            if (e.rid && "string" != typeof e.rid)
              throw new TypeError("invalid encoding.rid");
            if (e.rtx && "object" != typeof e.rtx)
              throw new TypeError("invalid encoding.rtx");
            if (e.rtx && "number" != typeof e.rtx.ssrc)
              throw new TypeError("missing encoding.rtx.ssrc");
            if (
              ((e.dtx && "boolean" == typeof e.dtx) || (e.dtx = !1),
              e.scalabilityMode && "string" != typeof e.scalabilityMode)
            )
              throw new TypeError("invalid encoding.scalabilityMode");
          }
          function f(e) {
            if ("object" != typeof e)
              throw new TypeError("rtcp is not an object");
            if (e.cname && "string" != typeof e.cname)
              throw new TypeError("invalid rtcp.cname");
            (e.reducedSize && "boolean" == typeof e.reducedSize) ||
              (e.reducedSize = !0);
          }
          function _(e) {
            if ("object" != typeof e)
              throw new TypeError("numStreams is not an object");
            if ("number" != typeof e.OS)
              throw new TypeError("missing numStreams.OS");
            if ("number" != typeof e.MIS)
              throw new TypeError("missing numStreams.MIS");
          }
          function g(e) {
            return !!e && /.+\/rtx$/i.test(e.mimeType);
          }
          function v(e, t, { strict: r = !1, modify: n = !1 } = {}) {
            const a = e.mimeType.toLowerCase();
            if (a !== t.mimeType.toLowerCase()) return !1;
            if (e.clockRate !== t.clockRate) return !1;
            if (e.channels !== t.channels) return !1;
            switch (a) {
              case "video/h264":
                if (r) {
                  if (
                    (e.parameters["packetization-mode"] || 0) !==
                    (t.parameters["packetization-mode"] || 0)
                  )
                    return !1;
                  if (!s.isSameProfile(e.parameters, t.parameters)) return !1;
                  let r;
                  try {
                    r = s.generateProfileLevelIdForAnswer(
                      e.parameters,
                      t.parameters
                    );
                  } catch (e) {
                    return !1;
                  }
                  n &&
                    (r
                      ? ((e.parameters["profile-level-id"] = r),
                        (t.parameters["profile-level-id"] = r))
                      : (delete e.parameters["profile-level-id"],
                        delete t.parameters["profile-level-id"]));
                }
                break;
              case "video/vp9":
                if (r) {
                  if (
                    (e.parameters["profile-id"] || 0) !==
                    (t.parameters["profile-id"] || 0)
                  )
                    return !1;
                }
            }
            return !0;
          }
          function y(e, t) {
            return (!e.kind || !t.kind || e.kind === t.kind) && e.uri === t.uri;
          }
          function b(e, t) {
            const r = [];
            for (const n of e.rtcpFeedback || []) {
              const e = (t.rtcpFeedback || []).find(
                (e) =>
                  e.type === n.type &&
                  (e.parameter === n.parameter ||
                    (!e.parameter && !n.parameter))
              );
              e && r.push(e);
            }
            return r;
          }
          (t.validateRtpCapabilities = function (e) {
            if ("object" != typeof e)
              throw new TypeError("caps is not an object");
            if (e.codecs && !Array.isArray(e.codecs))
              throw new TypeError("caps.codecs is not an array");
            e.codecs || (e.codecs = []);
            for (const t of e.codecs) c(t);
            if (e.headerExtensions && !Array.isArray(e.headerExtensions))
              throw new TypeError("caps.headerExtensions is not an array");
            e.headerExtensions || (e.headerExtensions = []);
            for (const t of e.headerExtensions) p(t);
          }),
            (t.validateRtpCodecCapability = c),
            (t.validateRtcpFeedback = d),
            (t.validateRtpHeaderExtension = p),
            (t.validateRtpParameters = l),
            (t.validateRtpCodecParameters = u),
            (t.validateRtpHeaderExtensionParameters = h),
            (t.validateRtpEncodingParameters = m),
            (t.validateRtcpParameters = f),
            (t.validateSctpCapabilities = function (e) {
              if ("object" != typeof e)
                throw new TypeError("caps is not an object");
              if (!e.numStreams || "object" != typeof e.numStreams)
                throw new TypeError("missing caps.numStreams");
              _(e.numStreams);
            }),
            (t.validateNumSctpStreams = _),
            (t.validateSctpParameters = function (e) {
              if ("object" != typeof e)
                throw new TypeError("params is not an object");
              if ("number" != typeof e.port)
                throw new TypeError("missing params.port");
              if ("number" != typeof e.OS)
                throw new TypeError("missing params.OS");
              if ("number" != typeof e.MIS)
                throw new TypeError("missing params.MIS");
              if ("number" != typeof e.maxMessageSize)
                throw new TypeError("missing params.maxMessageSize");
            }),
            (t.validateSctpStreamParameters = function (e) {
              if ("object" != typeof e)
                throw new TypeError("params is not an object");
              if ("number" != typeof e.streamId)
                throw new TypeError("missing params.streamId");
              let t = !1;
              if (
                ("boolean" == typeof e.ordered ? (t = !0) : (e.ordered = !0),
                e.maxPacketLifeTime && "number" != typeof e.maxPacketLifeTime)
              )
                throw new TypeError("invalid params.maxPacketLifeTime");
              if (e.maxRetransmits && "number" != typeof e.maxRetransmits)
                throw new TypeError("invalid params.maxRetransmits");
              if (e.maxPacketLifeTime && e.maxRetransmits)
                throw new TypeError(
                  "cannot provide both maxPacketLifeTime and maxRetransmits"
                );
              if (t && e.ordered && (e.maxPacketLifeTime || e.maxRetransmits))
                throw new TypeError(
                  "cannot be ordered with maxPacketLifeTime or maxRetransmits"
                );
              if (
                (t ||
                  (!e.maxPacketLifeTime && !e.maxRetransmits) ||
                  (e.ordered = !1),
                e.label && "string" != typeof e.label)
              )
                throw new TypeError("invalid params.label");
              if (e.protocol && "string" != typeof e.protocol)
                throw new TypeError("invalid params.protocol");
            }),
            (t.getExtendedRtpCapabilities = function (e, t) {
              const r = { codecs: [], headerExtensions: [] };
              for (const n of t.codecs || []) {
                if (g(n)) continue;
                const t = (e.codecs || []).find((e) =>
                  v(e, n, { strict: !0, modify: !0 })
                );
                if (!t) continue;
                const a = {
                  mimeType: t.mimeType,
                  kind: t.kind,
                  clockRate: t.clockRate,
                  channels: t.channels,
                  localPayloadType: t.preferredPayloadType,
                  localRtxPayloadType: void 0,
                  remotePayloadType: n.preferredPayloadType,
                  remoteRtxPayloadType: void 0,
                  localParameters: t.parameters,
                  remoteParameters: n.parameters,
                  rtcpFeedback: b(t, n),
                };
                r.codecs.push(a);
              }
              for (const n of r.codecs) {
                const r = e.codecs.find(
                    (e) => g(e) && e.parameters.apt === n.localPayloadType
                  ),
                  a = t.codecs.find(
                    (e) => g(e) && e.parameters.apt === n.remotePayloadType
                  );
                r &&
                  a &&
                  ((n.localRtxPayloadType = r.preferredPayloadType),
                  (n.remoteRtxPayloadType = a.preferredPayloadType));
              }
              for (const n of t.headerExtensions) {
                const t = e.headerExtensions.find((e) => y(e, n));
                if (!t) continue;
                const a = {
                  kind: n.kind,
                  uri: n.uri,
                  sendId: t.preferredId,
                  recvId: n.preferredId,
                  encrypt: t.preferredEncrypt,
                  direction: "sendrecv",
                };
                switch (n.direction) {
                  case "sendrecv":
                    a.direction = "sendrecv";
                    break;
                  case "recvonly":
                    a.direction = "sendonly";
                    break;
                  case "sendonly":
                    a.direction = "recvonly";
                    break;
                  case "inactive":
                    a.direction = "inactive";
                }
                r.headerExtensions.push(a);
              }
              return r;
            }),
            (t.getRecvRtpCapabilities = function (e) {
              const t = { codecs: [], headerExtensions: [] };
              for (const r of e.codecs) {
                const e = {
                  mimeType: r.mimeType,
                  kind: r.kind,
                  preferredPayloadType: r.remotePayloadType,
                  clockRate: r.clockRate,
                  channels: r.channels,
                  parameters: r.localParameters,
                  rtcpFeedback: r.rtcpFeedback,
                };
                if ((t.codecs.push(e), !r.remoteRtxPayloadType)) continue;
                const n = {
                  mimeType: `${r.kind}/rtx`,
                  kind: r.kind,
                  preferredPayloadType: r.remoteRtxPayloadType,
                  clockRate: r.clockRate,
                  parameters: { apt: r.remotePayloadType },
                  rtcpFeedback: [],
                };
                t.codecs.push(n);
              }
              for (const r of e.headerExtensions) {
                if ("sendrecv" !== r.direction && "recvonly" !== r.direction)
                  continue;
                const e = {
                  kind: r.kind,
                  uri: r.uri,
                  preferredId: r.recvId,
                  preferredEncrypt: r.encrypt,
                  direction: r.direction,
                };
                t.headerExtensions.push(e);
              }
              return t;
            }),
            (t.getSendingRtpParameters = function (e, t) {
              const r = {
                mid: void 0,
                codecs: [],
                headerExtensions: [],
                encodings: [],
                rtcp: {},
              };
              for (const n of t.codecs) {
                if (n.kind !== e) continue;
                const t = {
                  mimeType: n.mimeType,
                  payloadType: n.localPayloadType,
                  clockRate: n.clockRate,
                  channels: n.channels,
                  parameters: n.localParameters,
                  rtcpFeedback: n.rtcpFeedback,
                };
                if ((r.codecs.push(t), n.localRtxPayloadType)) {
                  const e = {
                    mimeType: `${n.kind}/rtx`,
                    payloadType: n.localRtxPayloadType,
                    clockRate: n.clockRate,
                    parameters: { apt: n.localPayloadType },
                    rtcpFeedback: [],
                  };
                  r.codecs.push(e);
                }
              }
              for (const n of t.headerExtensions) {
                if (
                  (n.kind && n.kind !== e) ||
                  ("sendrecv" !== n.direction && "sendonly" !== n.direction)
                )
                  continue;
                const t = {
                  uri: n.uri,
                  id: n.sendId,
                  encrypt: n.encrypt,
                  parameters: {},
                };
                r.headerExtensions.push(t);
              }
              return r;
            }),
            (t.getSendingRemoteRtpParameters = function (e, t) {
              const r = {
                mid: void 0,
                codecs: [],
                headerExtensions: [],
                encodings: [],
                rtcp: {},
              };
              for (const n of t.codecs) {
                if (n.kind !== e) continue;
                const t = {
                  mimeType: n.mimeType,
                  payloadType: n.localPayloadType,
                  clockRate: n.clockRate,
                  channels: n.channels,
                  parameters: n.remoteParameters,
                  rtcpFeedback: n.rtcpFeedback,
                };
                if ((r.codecs.push(t), n.localRtxPayloadType)) {
                  const e = {
                    mimeType: `${n.kind}/rtx`,
                    payloadType: n.localRtxPayloadType,
                    clockRate: n.clockRate,
                    parameters: { apt: n.localPayloadType },
                    rtcpFeedback: [],
                  };
                  r.codecs.push(e);
                }
              }
              for (const n of t.headerExtensions) {
                if (
                  (n.kind && n.kind !== e) ||
                  ("sendrecv" !== n.direction && "sendonly" !== n.direction)
                )
                  continue;
                const t = {
                  uri: n.uri,
                  id: n.sendId,
                  encrypt: n.encrypt,
                  parameters: {},
                };
                r.headerExtensions.push(t);
              }
              if (
                r.headerExtensions.some(
                  (e) =>
                    "http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01" ===
                    e.uri
                )
              )
                for (const e of r.codecs)
                  e.rtcpFeedback = (e.rtcpFeedback || []).filter(
                    (e) => "goog-remb" !== e.type
                  );
              else if (
                r.headerExtensions.some(
                  (e) =>
                    "http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time" ===
                    e.uri
                )
              )
                for (const e of r.codecs)
                  e.rtcpFeedback = (e.rtcpFeedback || []).filter(
                    (e) => "transport-cc" !== e.type
                  );
              else
                for (const e of r.codecs)
                  e.rtcpFeedback = (e.rtcpFeedback || []).filter(
                    (e) => "transport-cc" !== e.type && "goog-remb" !== e.type
                  );
              return r;
            }),
            (t.reduceCodecs = function (e, t) {
              const r = [];
              if (t) {
                for (let n = 0; n < e.length; ++n)
                  if (v(e[n], t)) {
                    r.push(e[n]), g(e[n + 1]) && r.push(e[n + 1]);
                    break;
                  }
                if (0 === r.length)
                  throw new TypeError("no matching codec found");
              } else r.push(e[0]), g(e[1]) && r.push(e[1]);
              return r;
            }),
            (t.generateProbatorRtpParameters = function (e) {
              l((e = o.clone(e, {})));
              const t = {
                mid: "probator",
                codecs: [],
                headerExtensions: [],
                encodings: [{ ssrc: 1234 }],
                rtcp: { cname: "probator" },
              };
              return (
                t.codecs.push(e.codecs[0]),
                (t.codecs[0].payloadType = 127),
                (t.headerExtensions = e.headerExtensions),
                t
              );
            }),
            (t.canSend = function (e, t) {
              return t.codecs.some((t) => t.kind === e);
            }),
            (t.canReceive = function (e, t) {
              if ((l(e), 0 === e.codecs.length)) return !1;
              const r = e.codecs[0];
              return t.codecs.some(
                (e) => e.remotePayloadType === r.payloadType
              );
            });
        },
        2770: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.parse = void 0);
          const r = new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");
          t.parse = function (e) {
            const t = r.exec(e || "");
            return t
              ? { spatialLayers: Number(t[1]), temporalLayers: Number(t[2]) }
              : { spatialLayers: 1, temporalLayers: 1 };
          };
        },
        53: function (e, t, r) {
          "use strict";
          var n =
              (this && this.__createBinding) ||
              (Object.create
                ? function (e, t, r, n) {
                    void 0 === n && (n = r);
                    var a = Object.getOwnPropertyDescriptor(t, r);
                    (a &&
                      !("get" in a
                        ? !t.__esModule
                        : a.writable || a.configurable)) ||
                      (a = {
                        enumerable: !0,
                        get: function () {
                          return t[r];
                        },
                      }),
                      Object.defineProperty(e, n, a);
                  }
                : function (e, t, r, n) {
                    void 0 === n && (n = r), (e[n] = t[r]);
                  }),
            a =
              (this && this.__exportStar) ||
              function (e, t) {
                for (var r in e)
                  "default" === r ||
                    Object.prototype.hasOwnProperty.call(t, r) ||
                    n(t, e, r);
              };
          Object.defineProperty(t, "__esModule", { value: !0 }),
            a(r(3120), t),
            a(r(5202), t),
            a(r(6569), t),
            a(r(9514), t),
            a(r(5504), t),
            a(r(1623), t),
            a(r(4879), t),
            a(r(7669), t),
            a(r(9316), t),
            a(r(9992), t);
        },
        3347: (e, t) => {
          "use strict";
          Object.defineProperty(t, "__esModule", { value: !0 }),
            (t.generateRandomNumber = t.clone = void 0),
            (t.clone = function (e, t) {
              return void 0 === e ? t : JSON.parse(JSON.stringify(e));
            }),
            (t.generateRandomNumber = function () {
              return Math.round(1e7 * Math.random());
            });
        },
        388: (e, t, r) => {
          (t.formatArgs = function (t) {
            if (
              ((t[0] =
                (this.useColors ? "%c" : "") +
                this.namespace +
                (this.useColors ? " %c" : " ") +
                t[0] +
                (this.useColors ? "%c " : " ") +
                "+" +
                e.exports.humanize(this.diff)),
              !this.useColors)
            )
              return;
            const r = "color: " + this.color;
            t.splice(1, 0, r, "color: inherit");
            let n = 0,
              a = 0;
            t[0].replace(/%[a-zA-Z%]/g, (e) => {
              "%%" !== e && (n++, "%c" === e && (a = n));
            }),
              t.splice(a, 0, r);
          }),
            (t.save = function (e) {
              try {
                e
                  ? t.storage.setItem("debug", e)
                  : t.storage.removeItem("debug");
              } catch (e) {}
            }),
            (t.load = function () {
              let e;
              try {
                e = t.storage.getItem("debug");
              } catch (e) {}
              !e &&
                "undefined" != typeof process &&
                "env" in process &&
                (e = process.env.DEBUG);
              return e;
            }),
            (t.useColors = function () {
              if (
                "undefined" != typeof window &&
                window.process &&
                ("renderer" === window.process.type || window.process.__nwjs)
              )
                return !0;
              if (
                "undefined" != typeof navigator &&
                navigator.userAgent &&
                navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)
              )
                return !1;
              return (
                ("undefined" != typeof document &&
                  document.documentElement &&
                  document.documentElement.style &&
                  document.documentElement.style.WebkitAppearance) ||
                ("undefined" != typeof window &&
                  window.console &&
                  (window.console.firebug ||
                    (window.console.exception && window.console.table))) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
                  parseInt(RegExp.$1, 10) >= 31) ||
                ("undefined" != typeof navigator &&
                  navigator.userAgent &&
                  navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
              );
            }),
            (t.storage = (function () {
              try {
                return localStorage;
              } catch (e) {}
            })()),
            (t.destroy = (() => {
              let e = !1;
              return () => {
                e ||
                  ((e = !0),
                  console.warn(
                    "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                  ));
              };
            })()),
            (t.colors = [
              "#0000CC",
              "#0000FF",
              "#0033CC",
              "#0033FF",
              "#0066CC",
              "#0066FF",
              "#0099CC",
              "#0099FF",
              "#00CC00",
              "#00CC33",
              "#00CC66",
              "#00CC99",
              "#00CCCC",
              "#00CCFF",
              "#3300CC",
              "#3300FF",
              "#3333CC",
              "#3333FF",
              "#3366CC",
              "#3366FF",
              "#3399CC",
              "#3399FF",
              "#33CC00",
              "#33CC33",
              "#33CC66",
              "#33CC99",
              "#33CCCC",
              "#33CCFF",
              "#6600CC",
              "#6600FF",
              "#6633CC",
              "#6633FF",
              "#66CC00",
              "#66CC33",
              "#9900CC",
              "#9900FF",
              "#9933CC",
              "#9933FF",
              "#99CC00",
              "#99CC33",
              "#CC0000",
              "#CC0033",
              "#CC0066",
              "#CC0099",
              "#CC00CC",
              "#CC00FF",
              "#CC3300",
              "#CC3333",
              "#CC3366",
              "#CC3399",
              "#CC33CC",
              "#CC33FF",
              "#CC6600",
              "#CC6633",
              "#CC9900",
              "#CC9933",
              "#CCCC00",
              "#CCCC33",
              "#FF0000",
              "#FF0033",
              "#FF0066",
              "#FF0099",
              "#FF00CC",
              "#FF00FF",
              "#FF3300",
              "#FF3333",
              "#FF3366",
              "#FF3399",
              "#FF33CC",
              "#FF33FF",
              "#FF6600",
              "#FF6633",
              "#FF9900",
              "#FF9933",
              "#FFCC00",
              "#FFCC33",
            ]),
            (t.log = console.debug || console.log || (() => {})),
            (e.exports = r(4455)(t));
          const { formatters: n } = e.exports;
          n.j = function (e) {
            try {
              return JSON.stringify(e);
            } catch (e) {
              return "[UnexpectedJSONParseError]: " + e.message;
            }
          };
        },
        4455: (e, t, r) => {
          e.exports = function (e) {
            function t(e) {
              let r,
                a,
                i,
                s = null;
              function o(...e) {
                if (!o.enabled) return;
                const n = o,
                  a = Number(new Date()),
                  i = a - (r || a);
                (n.diff = i),
                  (n.prev = r),
                  (n.curr = a),
                  (r = a),
                  (e[0] = t.coerce(e[0])),
                  "string" != typeof e[0] && e.unshift("%O");
                let s = 0;
                (e[0] = e[0].replace(/%([a-zA-Z%])/g, (r, a) => {
                  if ("%%" === r) return "%";
                  s++;
                  const i = t.formatters[a];
                  if ("function" == typeof i) {
                    const t = e[s];
                    (r = i.call(n, t)), e.splice(s, 1), s--;
                  }
                  return r;
                })),
                  t.formatArgs.call(n, e);
                (n.log || t.log).apply(n, e);
              }
              return (
                (o.namespace = e),
                (o.useColors = t.useColors()),
                (o.color = t.selectColor(e)),
                (o.extend = n),
                (o.destroy = t.destroy),
                Object.defineProperty(o, "enabled", {
                  enumerable: !0,
                  configurable: !1,
                  get: () =>
                    null !== s
                      ? s
                      : (a !== t.namespaces &&
                          ((a = t.namespaces), (i = t.enabled(e))),
                        i),
                  set: (e) => {
                    s = e;
                  },
                }),
                "function" == typeof t.init && t.init(o),
                o
              );
            }
            function n(e, r) {
              const n = t(this.namespace + (void 0 === r ? ":" : r) + e);
              return (n.log = this.log), n;
            }
            function a(e) {
              return e
                .toString()
                .substring(2, e.toString().length - 2)
                .replace(/\.\*\?$/, "*");
            }
            return (
              (t.debug = t),
              (t.default = t),
              (t.coerce = function (e) {
                if (e instanceof Error) return e.stack || e.message;
                return e;
              }),
              (t.disable = function () {
                const e = [
                  ...t.names.map(a),
                  ...t.skips.map(a).map((e) => "-" + e),
                ].join(",");
                return t.enable(""), e;
              }),
              (t.enable = function (e) {
                let r;
                t.save(e), (t.namespaces = e), (t.names = []), (t.skips = []);
                const n = ("string" == typeof e ? e : "").split(/[\s,]+/),
                  a = n.length;
                for (r = 0; r < a; r++)
                  n[r] &&
                    ("-" === (e = n[r].replace(/\*/g, ".*?"))[0]
                      ? t.skips.push(new RegExp("^" + e.slice(1) + "$"))
                      : t.names.push(new RegExp("^" + e + "$")));
              }),
              (t.enabled = function (e) {
                if ("*" === e[e.length - 1]) return !0;
                let r, n;
                for (r = 0, n = t.skips.length; r < n; r++)
                  if (t.skips[r].test(e)) return !1;
                for (r = 0, n = t.names.length; r < n; r++)
                  if (t.names[r].test(e)) return !0;
                return !1;
              }),
              (t.humanize = r(7824)),
              (t.destroy = function () {
                console.warn(
                  "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                );
              }),
              Object.keys(e).forEach((r) => {
                t[r] = e[r];
              }),
              (t.names = []),
              (t.skips = []),
              (t.formatters = {}),
              (t.selectColor = function (e) {
                let r = 0;
                for (let t = 0; t < e.length; t++)
                  (r = (r << 5) - r + e.charCodeAt(t)), (r |= 0);
                return t.colors[Math.abs(r) % t.colors.length];
              }),
              t.enable(t.load()),
              t
            );
          };
        },
        7824: (e) => {
          var t = 1e3,
            r = 60 * t,
            n = 60 * r,
            a = 24 * n,
            i = 7 * a,
            s = 365.25 * a;
          function o(e, t, r, n) {
            var a = t >= 1.5 * r;
            return Math.round(e / r) + " " + n + (a ? "s" : "");
          }
          e.exports = function (e, c) {
            c = c || {};
            var d = typeof e;
            if ("string" === d && e.length > 0)
              return (function (e) {
                if ((e = String(e)).length > 100) return;
                var o =
                  /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
                    e
                  );
                if (!o) return;
                var c = parseFloat(o[1]);
                switch ((o[2] || "ms").toLowerCase()) {
                  case "years":
                  case "year":
                  case "yrs":
                  case "yr":
                  case "y":
                    return c * s;
                  case "weeks":
                  case "week":
                  case "w":
                    return c * i;
                  case "days":
                  case "day":
                  case "d":
                    return c * a;
                  case "hours":
                  case "hour":
                  case "hrs":
                  case "hr":
                  case "h":
                    return c * n;
                  case "minutes":
                  case "minute":
                  case "mins":
                  case "min":
                  case "m":
                    return c * r;
                  case "seconds":
                  case "second":
                  case "secs":
                  case "sec":
                  case "s":
                    return c * t;
                  case "milliseconds":
                  case "millisecond":
                  case "msecs":
                  case "msec":
                  case "ms":
                    return c;
                  default:
                    return;
                }
              })(e);
            if ("number" === d && isFinite(e))
              return c.long
                ? (function (e) {
                    var i = Math.abs(e);
                    if (i >= a) return o(e, i, a, "day");
                    if (i >= n) return o(e, i, n, "hour");
                    if (i >= r) return o(e, i, r, "minute");
                    if (i >= t) return o(e, i, t, "second");
                    return e + " ms";
                  })(e)
                : (function (e) {
                    var i = Math.abs(e);
                    if (i >= a) return Math.round(e / a) + "d";
                    if (i >= n) return Math.round(e / n) + "h";
                    if (i >= r) return Math.round(e / r) + "m";
                    if (i >= t) return Math.round(e / t) + "s";
                    return e + "ms";
                  })(e);
            throw new Error(
              "val is not a non-empty string or a valid number. val=" +
                JSON.stringify(e)
            );
          };
        },
        7576: (e, t, r) => {
          const { EventEmitter: n } = r(7187),
            a = r(3417);
          e.exports = class extends n {
            constructor(e) {
              super(),
                this.setMaxListeners(1 / 0),
                (this._logger = e || new a("EnhancedEventEmitter"));
            }
            safeEmit(e, ...t) {
              try {
                this.emit(e, ...t);
              } catch (t) {
                this._logger.error(
                  "safeEmit() | event listener threw an error [event:%s]:%o",
                  e,
                  t
                );
              }
            }
            async safeEmitAsPromise(e, ...t) {
              return new Promise((r, n) => {
                this.safeEmit(e, ...t, r, n);
              });
            }
          };
        },
        3417: (e, t, r) => {
          const n = r(1227),
            a = "protoo-client";
          e.exports = class {
            constructor(e) {
              e
                ? ((this._debug = n(`${a}:${e}`)),
                  (this._warn = n(`${a}:WARN:${e}`)),
                  (this._error = n(`${a}:ERROR:${e}`)))
                : ((this._debug = n(a)),
                  (this._warn = n(`${a}:WARN`)),
                  (this._error = n(`${a}:ERROR`))),
                (this._debug.log = console.info.bind(console)),
                (this._warn.log = console.warn.bind(console)),
                (this._error.log = console.error.bind(console));
            }
            get debug() {
              return this._debug;
            }
            get warn() {
              return this._warn;
            }
            get error() {
              return this._error;
            }
          };
        },
        6508: (e, t, r) => {
          const n = r(3417),
            { generateRandomNumber: a } = r(5654),
            i = new n("Message");
          e.exports = class {
            static parse(e) {
              let t;
              const r = {};
              try {
                t = JSON.parse(e);
              } catch (e) {
                return void i.error("parse() | invalid JSON: %s", e);
              }
              if ("object" == typeof t && !Array.isArray(t)) {
                if (t.request) {
                  if (((r.request = !0), "string" != typeof t.method))
                    return void i.error(
                      "parse() | missing/invalid method field"
                    );
                  if ("number" != typeof t.id)
                    return void i.error("parse() | missing/invalid id field");
                  (r.id = t.id), (r.method = t.method), (r.data = t.data || {});
                } else if (t.response) {
                  if (((r.response = !0), "number" != typeof t.id))
                    return void i.error("parse() | missing/invalid id field");
                  (r.id = t.id),
                    t.ok
                      ? ((r.ok = !0), (r.data = t.data || {}))
                      : ((r.ok = !1),
                        (r.errorCode = t.errorCode),
                        (r.errorReason = t.errorReason));
                } else {
                  if (!t.notification)
                    return void i.error(
                      "parse() | missing request/response field"
                    );
                  if (((r.notification = !0), "string" != typeof t.method))
                    return void i.error(
                      "parse() | missing/invalid method field"
                    );
                  (r.method = t.method), (r.data = t.data || {});
                }
                return r;
              }
              i.error("parse() | not an object");
            }
            static createRequest(e, t) {
              return { request: !0, id: a(), method: e, data: t || {} };
            }
            static createSuccessResponse(e, t) {
              return { response: !0, id: e.id, ok: !0, data: t || {} };
            }
            static createErrorResponse(e, t, r) {
              return {
                response: !0,
                id: e.id,
                ok: !1,
                errorCode: t,
                errorReason: r,
              };
            }
            static createNotification(e, t) {
              return { notification: !0, method: e, data: t || {} };
            }
          };
        },
        7502: (e, t, r) => {
          const n = r(3417),
            a = r(7576),
            i = r(6508),
            s = new n("Peer");
          e.exports = class extends a {
            constructor(e) {
              super(s),
                s.debug("constructor()"),
                (this._closed = !1),
                (this._transport = e),
                (this._connected = !1),
                (this._data = {}),
                (this._sents = new Map()),
                this._handleTransport();
            }
            get closed() {
              return this._closed;
            }
            get connected() {
              return this._connected;
            }
            get data() {
              return this._data;
            }
            set data(e) {
              throw new Error("cannot override data object");
            }
            close() {
              if (!this._closed) {
                s.debug("close()"),
                  (this._closed = !0),
                  (this._connected = !1),
                  this._transport.close();
                for (const e of this._sents.values()) e.close();
                this.safeEmit("close");
              }
            }
            async request(e, t) {
              const r = i.createRequest(e, t);
              return (
                this._logger.debug("request() [method:%s, id:%s]", e, r.id),
                await this._transport.send(r),
                new Promise((e, t) => {
                  const n = 1500 * (15 + 0.1 * this._sents.size),
                    a = {
                      id: r.id,
                      method: r.method,
                      resolve: (t) => {
                        this._sents.delete(r.id) &&
                          (clearTimeout(a.timer), e(t));
                      },
                      reject: (e) => {
                        this._sents.delete(r.id) &&
                          (clearTimeout(a.timer), t(e));
                      },
                      timer: setTimeout(() => {
                        this._sents.delete(r.id) &&
                          t(new Error("request timeout"));
                      }, n),
                      close: () => {
                        clearTimeout(a.timer), t(new Error("peer closed"));
                      },
                    };
                  this._sents.set(r.id, a);
                })
              );
            }
            async notify(e, t) {
              const r = i.createNotification(e, t);
              this._logger.debug("notify() [method:%s]", e),
                await this._transport.send(r);
            }
            _handleTransport() {
              if (this._transport.closed)
                return (
                  (this._closed = !0),
                  void setTimeout(() => {
                    this._closed ||
                      ((this._connected = !1), this.safeEmit("close"));
                  })
                );
              this._transport.on("open", () => {
                this._closed ||
                  (s.debug('emit "open"'),
                  (this._connected = !0),
                  this.safeEmit("open"));
              }),
                this._transport.on("disconnected", () => {
                  this._closed ||
                    (s.debug('emit "disconnected"'),
                    (this._connected = !1),
                    this.safeEmit("disconnected"));
                }),
                this._transport.on("failed", (e) => {
                  this._closed ||
                    (s.debug('emit "failed" [currentAttempt:%s]', e),
                    (this._connected = !1),
                    this.safeEmit("failed", e));
                }),
                this._transport.on("close", () => {
                  this._closed ||
                    ((this._closed = !0),
                    s.debug('emit "close"'),
                    (this._connected = !1),
                    this.safeEmit("close"));
                }),
                this._transport.on("message", (e) => {
                  e.request
                    ? this._handleRequest(e)
                    : e.response
                    ? this._handleResponse(e)
                    : e.notification && this._handleNotification(e);
                });
            }
            _handleRequest(e) {
              try {
                this.emit(
                  "request",
                  e,
                  (t) => {
                    const r = i.createSuccessResponse(e, t);
                    this._transport.send(r).catch(() => {});
                  },
                  (t, r) => {
                    t instanceof Error
                      ? ((r = t.message), (t = 500))
                      : "number" == typeof t &&
                        r instanceof Error &&
                        (r = r.message);
                    const n = i.createErrorResponse(e, t, r);
                    this._transport.send(n).catch(() => {});
                  }
                );
              } catch (t) {
                const r = i.createErrorResponse(e, 500, String(t));
                this._transport.send(r).catch(() => {});
              }
            }
            _handleResponse(e) {
              const t = this._sents.get(e.id);
              if (t)
                if (e.ok) t.resolve(e.data);
                else {
                  const r = new Error(e.errorReason);
                  (r.code = e.errorCode), t.reject(r);
                }
              else
                s.error(
                  "received response does not match any sent request [id:%s]",
                  e.id
                );
            }
            _handleNotification(e) {
              this.safeEmit("notification", e);
            }
          };
        },
        9293: (e, t, r) => {
          const { version: n } = r(7002),
            a = r(7502),
            i = r(2165);
          (t._z = a), (t.qo = i);
        },
        2165: (e, t, r) => {
          const n = r(5840).w3cwebsocket,
            a = r(9353),
            i = r(3417),
            s = r(7576),
            o = r(6508),
            c = { retries: 10, factor: 2, minTimeout: 1e3, maxTimeout: 8e3 },
            d = new i("WebSocketTransport");
          e.exports = class extends s {
            constructor(e, t) {
              super(d),
                d.debug("constructor() [url:%s, options:%o]", e, t),
                (this._closed = !1),
                (this._url = e),
                (this._options = t || {}),
                (this._ws = null),
                this._runWebSocket();
            }
            get closed() {
              return this._closed;
            }
            close() {
              if (!this._closed) {
                d.debug("close()"), (this._closed = !0), this.safeEmit("close");
                try {
                  (this._ws.onopen = null),
                    (this._ws.onclose = null),
                    (this._ws.onerror = null),
                    (this._ws.onmessage = null),
                    this._ws.close();
                } catch (e) {
                  d.error("close() | error closing the WebSocket: %o", e);
                }
              }
            }
            async send(e) {
              if (this._closed) throw new Error("transport closed");
              try {
                this._ws.send(JSON.stringify(e));
              } catch (e) {
                throw (d.warn("send() failed:%o", e), e);
              }
            }
            _runWebSocket() {
              const e = a.operation(this._options.retry || c);
              let t = !1;
              e.attempt((r) => {
                this._closed
                  ? e.stop()
                  : (d.debug("_runWebSocket() [currentAttempt:%s]", r),
                    (this._ws = new n(
                      this._url,
                      "protoo",
                      this._options.origin,
                      this._options.headers,
                      this._options.requestOptions,
                      this._options.clientConfig
                    )),
                    (this._ws.onopen = () => {
                      this._closed || ((t = !0), this.safeEmit("open"));
                    }),
                    (this._ws.onclose = (n) => {
                      if (!this._closed) {
                        if (
                          (d.warn(
                            'WebSocket "close" event [wasClean:%s, code:%s, reason:"%s"]',
                            n.wasClean,
                            n.code,
                            n.reason
                          ),
                          4e3 !== n.code)
                        ) {
                          if (t) {
                            if (
                              (e.stop(),
                              this.safeEmit("disconnected"),
                              this._closed)
                            )
                              return;
                            return void this._runWebSocket();
                          }
                          if ((this.safeEmit("failed", r), this._closed))
                            return;
                          if (e.retry(!0)) return;
                        }
                        (this._closed = !0), this.safeEmit("close");
                      }
                    }),
                    (this._ws.onerror = () => {
                      this._closed || d.error('WebSocket "error" event');
                    }),
                    (this._ws.onmessage = (e) => {
                      if (this._closed) return;
                      const t = o.parse(e.data);
                      t &&
                        (0 !== this.listenerCount("message")
                          ? this.safeEmit("message", t)
                          : d.error(
                              'no listeners for WebSocket "message" event, ignoring received message'
                            ));
                    }));
              });
            }
          };
        },
        5654: (e, t) => {
          t.generateRandomNumber = function () {
            return Math.round(1e7 * Math.random());
          };
        },
        4375: (e, t, r) => {
          let n;
          e.exports =
            "function" == typeof queueMicrotask
              ? queueMicrotask.bind("undefined" != typeof window ? window : r.g)
              : (e) =>
                  (n || (n = Promise.resolve())).then(e).catch((e) =>
                    setTimeout(() => {
                      throw e;
                    }, 0)
                  );
        },
        3196: (e) => {
          "use strict";
          e.exports = function (e) {
            var t,
              r,
              n = "",
              a = (e = (function (e) {
                return (
                  e || (e = {}),
                  {
                    length: e.length || 8,
                    numeric: "boolean" != typeof e.numeric || e.numeric,
                    letters: "boolean" != typeof e.letters || e.letters,
                    special: "boolean" == typeof e.special && e.special,
                    exclude: Array.isArray(e.exclude) ? e.exclude : [],
                  }
                );
              })(e)).length,
              i =
                (e.exclude,
                (function (e) {
                  var t = "";
                  e.numeric && (t += "0123456789"),
                    e.letters &&
                      (t +=
                        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),
                    e.special && (t += "!$%^&*()_+|~-=`{}[]:;<>?,./");
                  for (var r = 0; r <= e.exclude.length; r++)
                    t = t.replace(e.exclude[r], "");
                  return t;
                })(e));
            for (t = 1; t <= a; t++)
              n += i.substring(
                (r = Math.floor(Math.random() * i.length)),
                r + 1
              );
            return n;
          };
        },
        5666: (e) => {
          var t = (function (e) {
            "use strict";
            var t,
              r = Object.prototype,
              n = r.hasOwnProperty,
              a = "function" == typeof Symbol ? Symbol : {},
              i = a.iterator || "@@iterator",
              s = a.asyncIterator || "@@asyncIterator",
              o = a.toStringTag || "@@toStringTag";
            function c(e, t, r) {
              return (
                Object.defineProperty(e, t, {
                  value: r,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                }),
                e[t]
              );
            }
            try {
              c({}, "");
            } catch (e) {
              c = function (e, t, r) {
                return (e[t] = r);
              };
            }
            function d(e, t, r, n) {
              var a = t && t.prototype instanceof _ ? t : _,
                i = Object.create(a.prototype),
                s = new k(n || []);
              return (
                (i._invoke = (function (e, t, r) {
                  var n = l;
                  return function (a, i) {
                    if (n === h)
                      throw new Error("Generator is already running");
                    if (n === m) {
                      if ("throw" === a) throw i;
                      return x();
                    }
                    for (r.method = a, r.arg = i; ; ) {
                      var s = r.delegate;
                      if (s) {
                        var o = R(s, r);
                        if (o) {
                          if (o === f) continue;
                          return o;
                        }
                      }
                      if ("next" === r.method) r.sent = r._sent = r.arg;
                      else if ("throw" === r.method) {
                        if (n === l) throw ((n = m), r.arg);
                        r.dispatchException(r.arg);
                      } else "return" === r.method && r.abrupt("return", r.arg);
                      n = h;
                      var c = p(e, t, r);
                      if ("normal" === c.type) {
                        if (((n = r.done ? m : u), c.arg === f)) continue;
                        return { value: c.arg, done: r.done };
                      }
                      "throw" === c.type &&
                        ((n = m), (r.method = "throw"), (r.arg = c.arg));
                    }
                  };
                })(e, r, s)),
                i
              );
            }
            function p(e, t, r) {
              try {
                return { type: "normal", arg: e.call(t, r) };
              } catch (e) {
                return { type: "throw", arg: e };
              }
            }
            e.wrap = d;
            var l = "suspendedStart",
              u = "suspendedYield",
              h = "executing",
              m = "completed",
              f = {};
            function _() {}
            function g() {}
            function v() {}
            var y = {};
            c(y, i, function () {
              return this;
            });
            var b = Object.getPrototypeOf,
              S = b && b(b(O([])));
            S && S !== r && n.call(S, i) && (y = S);
            var w = (v.prototype = _.prototype = Object.create(y));
            function T(e) {
              ["next", "throw", "return"].forEach(function (t) {
                c(e, t, function (e) {
                  return this._invoke(t, e);
                });
              });
            }
            function E(e, t) {
              function r(a, i, s, o) {
                var c = p(e[a], e, i);
                if ("throw" !== c.type) {
                  var d = c.arg,
                    l = d.value;
                  return l && "object" == typeof l && n.call(l, "__await")
                    ? t.resolve(l.__await).then(
                        function (e) {
                          r("next", e, s, o);
                        },
                        function (e) {
                          r("throw", e, s, o);
                        }
                      )
                    : t.resolve(l).then(
                        function (e) {
                          (d.value = e), s(d);
                        },
                        function (e) {
                          return r("throw", e, s, o);
                        }
                      );
                }
                o(c.arg);
              }
              var a;
              this._invoke = function (e, n) {
                function i() {
                  return new t(function (t, a) {
                    r(e, n, t, a);
                  });
                }
                return (a = a ? a.then(i, i) : i());
              };
            }
            function R(e, r) {
              var n = e.iterator[r.method];
              if (n === t) {
                if (((r.delegate = null), "throw" === r.method)) {
                  if (
                    e.iterator.return &&
                    ((r.method = "return"),
                    (r.arg = t),
                    R(e, r),
                    "throw" === r.method)
                  )
                    return f;
                  (r.method = "throw"),
                    (r.arg = new TypeError(
                      "The iterator does not provide a 'throw' method"
                    ));
                }
                return f;
              }
              var a = p(n, e.iterator, r.arg);
              if ("throw" === a.type)
                return (
                  (r.method = "throw"), (r.arg = a.arg), (r.delegate = null), f
                );
              var i = a.arg;
              return i
                ? i.done
                  ? ((r[e.resultName] = i.value),
                    (r.next = e.nextLoc),
                    "return" !== r.method && ((r.method = "next"), (r.arg = t)),
                    (r.delegate = null),
                    f)
                  : i
                : ((r.method = "throw"),
                  (r.arg = new TypeError("iterator result is not an object")),
                  (r.delegate = null),
                  f);
            }
            function P(e) {
              var t = { tryLoc: e[0] };
              1 in e && (t.catchLoc = e[1]),
                2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
                this.tryEntries.push(t);
            }
            function C(e) {
              var t = e.completion || {};
              (t.type = "normal"), delete t.arg, (e.completion = t);
            }
            function k(e) {
              (this.tryEntries = [{ tryLoc: "root" }]),
                e.forEach(P, this),
                this.reset(!0);
            }
            function O(e) {
              if (e) {
                var r = e[i];
                if (r) return r.call(e);
                if ("function" == typeof e.next) return e;
                if (!isNaN(e.length)) {
                  var a = -1,
                    s = function r() {
                      for (; ++a < e.length; )
                        if (n.call(e, a))
                          return (r.value = e[a]), (r.done = !1), r;
                      return (r.value = t), (r.done = !0), r;
                    };
                  return (s.next = s);
                }
              }
              return { next: x };
            }
            function x() {
              return { value: t, done: !0 };
            }
            return (
              (g.prototype = v),
              c(w, "constructor", v),
              c(v, "constructor", g),
              (g.displayName = c(v, o, "GeneratorFunction")),
              (e.isGeneratorFunction = function (e) {
                var t = "function" == typeof e && e.constructor;
                return (
                  !!t &&
                  (t === g || "GeneratorFunction" === (t.displayName || t.name))
                );
              }),
              (e.mark = function (e) {
                return (
                  Object.setPrototypeOf
                    ? Object.setPrototypeOf(e, v)
                    : ((e.__proto__ = v), c(e, o, "GeneratorFunction")),
                  (e.prototype = Object.create(w)),
                  e
                );
              }),
              (e.awrap = function (e) {
                return { __await: e };
              }),
              T(E.prototype),
              c(E.prototype, s, function () {
                return this;
              }),
              (e.AsyncIterator = E),
              (e.async = function (t, r, n, a, i) {
                void 0 === i && (i = Promise);
                var s = new E(d(t, r, n, a), i);
                return e.isGeneratorFunction(r)
                  ? s
                  : s.next().then(function (e) {
                      return e.done ? e.value : s.next();
                    });
              }),
              T(w),
              c(w, o, "Generator"),
              c(w, i, function () {
                return this;
              }),
              c(w, "toString", function () {
                return "[object Generator]";
              }),
              (e.keys = function (e) {
                var t = [];
                for (var r in e) t.push(r);
                return (
                  t.reverse(),
                  function r() {
                    for (; t.length; ) {
                      var n = t.pop();
                      if (n in e) return (r.value = n), (r.done = !1), r;
                    }
                    return (r.done = !0), r;
                  }
                );
              }),
              (e.values = O),
              (k.prototype = {
                constructor: k,
                reset: function (e) {
                  if (
                    ((this.prev = 0),
                    (this.next = 0),
                    (this.sent = this._sent = t),
                    (this.done = !1),
                    (this.delegate = null),
                    (this.method = "next"),
                    (this.arg = t),
                    this.tryEntries.forEach(C),
                    !e)
                  )
                    for (var r in this)
                      "t" === r.charAt(0) &&
                        n.call(this, r) &&
                        !isNaN(+r.slice(1)) &&
                        (this[r] = t);
                },
                stop: function () {
                  this.done = !0;
                  var e = this.tryEntries[0].completion;
                  if ("throw" === e.type) throw e.arg;
                  return this.rval;
                },
                dispatchException: function (e) {
                  if (this.done) throw e;
                  var r = this;
                  function a(n, a) {
                    return (
                      (o.type = "throw"),
                      (o.arg = e),
                      (r.next = n),
                      a && ((r.method = "next"), (r.arg = t)),
                      !!a
                    );
                  }
                  for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                    var s = this.tryEntries[i],
                      o = s.completion;
                    if ("root" === s.tryLoc) return a("end");
                    if (s.tryLoc <= this.prev) {
                      var c = n.call(s, "catchLoc"),
                        d = n.call(s, "finallyLoc");
                      if (c && d) {
                        if (this.prev < s.catchLoc) return a(s.catchLoc, !0);
                        if (this.prev < s.finallyLoc) return a(s.finallyLoc);
                      } else if (c) {
                        if (this.prev < s.catchLoc) return a(s.catchLoc, !0);
                      } else {
                        if (!d)
                          throw new Error(
                            "try statement without catch or finally"
                          );
                        if (this.prev < s.finallyLoc) return a(s.finallyLoc);
                      }
                    }
                  }
                },
                abrupt: function (e, t) {
                  for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var a = this.tryEntries[r];
                    if (
                      a.tryLoc <= this.prev &&
                      n.call(a, "finallyLoc") &&
                      this.prev < a.finallyLoc
                    ) {
                      var i = a;
                      break;
                    }
                  }
                  i &&
                    ("break" === e || "continue" === e) &&
                    i.tryLoc <= t &&
                    t <= i.finallyLoc &&
                    (i = null);
                  var s = i ? i.completion : {};
                  return (
                    (s.type = e),
                    (s.arg = t),
                    i
                      ? ((this.method = "next"), (this.next = i.finallyLoc), f)
                      : this.complete(s)
                  );
                },
                complete: function (e, t) {
                  if ("throw" === e.type) throw e.arg;
                  return (
                    "break" === e.type || "continue" === e.type
                      ? (this.next = e.arg)
                      : "return" === e.type
                      ? ((this.rval = this.arg = e.arg),
                        (this.method = "return"),
                        (this.next = "end"))
                      : "normal" === e.type && t && (this.next = t),
                    f
                  );
                },
                finish: function (e) {
                  for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var r = this.tryEntries[t];
                    if (r.finallyLoc === e)
                      return this.complete(r.completion, r.afterLoc), C(r), f;
                  }
                },
                catch: function (e) {
                  for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var r = this.tryEntries[t];
                    if (r.tryLoc === e) {
                      var n = r.completion;
                      if ("throw" === n.type) {
                        var a = n.arg;
                        C(r);
                      }
                      return a;
                    }
                  }
                  throw new Error("illegal catch attempt");
                },
                delegateYield: function (e, r, n) {
                  return (
                    (this.delegate = {
                      iterator: O(e),
                      resultName: r,
                      nextLoc: n,
                    }),
                    "next" === this.method && (this.arg = t),
                    f
                  );
                },
              }),
              e
            );
          })(e.exports);
          try {
            regeneratorRuntime = t;
          } catch (e) {
            "object" == typeof globalThis
              ? (globalThis.regeneratorRuntime = t)
              : Function("r", "regeneratorRuntime = r")(t);
          }
        },
        9353: (e, t, r) => {
          e.exports = r(1846);
        },
        1846: (e, t, r) => {
          var n = r(1960);
          (t.operation = function (e) {
            var r = t.timeouts(e);
            return new n(r, {
              forever: e && e.forever,
              unref: e && e.unref,
              maxRetryTime: e && e.maxRetryTime,
            });
          }),
            (t.timeouts = function (e) {
              if (e instanceof Array) return [].concat(e);
              var t = {
                retries: 10,
                factor: 2,
                minTimeout: 1e3,
                maxTimeout: 1 / 0,
                randomize: !1,
              };
              for (var r in e) t[r] = e[r];
              if (t.minTimeout > t.maxTimeout)
                throw new Error("minTimeout is greater than maxTimeout");
              for (var n = [], a = 0; a < t.retries; a++)
                n.push(this.createTimeout(a, t));
              return (
                e && e.forever && !n.length && n.push(this.createTimeout(a, t)),
                n.sort(function (e, t) {
                  return e - t;
                }),
                n
              );
            }),
            (t.createTimeout = function (e, t) {
              var r = t.randomize ? Math.random() + 1 : 1,
                n = Math.round(r * t.minTimeout * Math.pow(t.factor, e));
              return (n = Math.min(n, t.maxTimeout));
            }),
            (t.wrap = function (e, r, n) {
              if ((r instanceof Array && ((n = r), (r = null)), !n))
                for (var a in ((n = []), e))
                  "function" == typeof e[a] && n.push(a);
              for (var i = 0; i < n.length; i++) {
                var s = n[i],
                  o = e[s];
                (e[s] = function (n) {
                  var a = t.operation(r),
                    i = Array.prototype.slice.call(arguments, 1),
                    s = i.pop();
                  i.push(function (e) {
                    a.retry(e) ||
                      (e && (arguments[0] = a.mainError()),
                      s.apply(this, arguments));
                  }),
                    a.attempt(function () {
                      n.apply(e, i);
                    });
                }.bind(e, o)),
                  (e[s].options = r);
              }
            });
        },
        1960: (e) => {
          function t(e, t) {
            "boolean" == typeof t && (t = { forever: t }),
              (this._originalTimeouts = JSON.parse(JSON.stringify(e))),
              (this._timeouts = e),
              (this._options = t || {}),
              (this._maxRetryTime = (t && t.maxRetryTime) || 1 / 0),
              (this._fn = null),
              (this._errors = []),
              (this._attempts = 1),
              (this._operationTimeout = null),
              (this._operationTimeoutCb = null),
              (this._timeout = null),
              (this._operationStart = null),
              this._options.forever &&
                (this._cachedTimeouts = this._timeouts.slice(0));
          }
          (e.exports = t),
            (t.prototype.reset = function () {
              (this._attempts = 1), (this._timeouts = this._originalTimeouts);
            }),
            (t.prototype.stop = function () {
              this._timeout && clearTimeout(this._timeout),
                (this._timeouts = []),
                (this._cachedTimeouts = null);
            }),
            (t.prototype.retry = function (e) {
              if ((this._timeout && clearTimeout(this._timeout), !e)) return !1;
              var t = new Date().getTime();
              if (e && t - this._operationStart >= this._maxRetryTime)
                return (
                  this._errors.unshift(
                    new Error("RetryOperation timeout occurred")
                  ),
                  !1
                );
              this._errors.push(e);
              var r = this._timeouts.shift();
              if (void 0 === r) {
                if (!this._cachedTimeouts) return !1;
                this._errors.splice(
                  this._errors.length - 1,
                  this._errors.length
                ),
                  (this._timeouts = this._cachedTimeouts.slice(0)),
                  (r = this._timeouts.shift());
              }
              var n = this,
                a = setTimeout(function () {
                  n._attempts++,
                    n._operationTimeoutCb &&
                      ((n._timeout = setTimeout(function () {
                        n._operationTimeoutCb(n._attempts);
                      }, n._operationTimeout)),
                      n._options.unref && n._timeout.unref()),
                    n._fn(n._attempts);
                }, r);
              return this._options.unref && a.unref(), !0;
            }),
            (t.prototype.attempt = function (e, t) {
              (this._fn = e),
                t &&
                  (t.timeout && (this._operationTimeout = t.timeout),
                  t.cb && (this._operationTimeoutCb = t.cb));
              var r = this;
              this._operationTimeoutCb &&
                (this._timeout = setTimeout(function () {
                  r._operationTimeoutCb();
                }, r._operationTimeout)),
                (this._operationStart = new Date().getTime()),
                this._fn(this._attempts);
            }),
            (t.prototype.try = function (e) {
              console.log("Using RetryOperation.try() is deprecated"),
                this.attempt(e);
            }),
            (t.prototype.start = function (e) {
              console.log("Using RetryOperation.start() is deprecated"),
                this.attempt(e);
            }),
            (t.prototype.start = t.prototype.try),
            (t.prototype.errors = function () {
              return this._errors;
            }),
            (t.prototype.attempts = function () {
              return this._attempts;
            }),
            (t.prototype.mainError = function () {
              if (0 === this._errors.length) return null;
              for (
                var e = {}, t = null, r = 0, n = 0;
                n < this._errors.length;
                n++
              ) {
                var a = this._errors[n],
                  i = a.message,
                  s = (e[i] || 0) + 1;
                (e[i] = s), s >= r && ((t = a), (r = s));
              }
              return t;
            });
        },
        6692: (e) => {
          var t = (e.exports = {
            v: [{ name: "version", reg: /^(\d*)$/ }],
            o: [
              {
                name: "origin",
                reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
                names: [
                  "username",
                  "sessionId",
                  "sessionVersion",
                  "netType",
                  "ipVer",
                  "address",
                ],
                format: "%s %s %d %s IP%d %s",
              },
            ],
            s: [{ name: "name" }],
            i: [{ name: "description" }],
            u: [{ name: "uri" }],
            e: [{ name: "email" }],
            p: [{ name: "phone" }],
            z: [{ name: "timezones" }],
            r: [{ name: "repeats" }],
            t: [
              {
                name: "timing",
                reg: /^(\d*) (\d*)/,
                names: ["start", "stop"],
                format: "%d %d",
              },
            ],
            c: [
              {
                name: "connection",
                reg: /^IN IP(\d) (\S*)/,
                names: ["version", "ip"],
                format: "IN IP%d %s",
              },
            ],
            b: [
              {
                push: "bandwidth",
                reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
                names: ["type", "limit"],
                format: "%s:%s",
              },
            ],
            m: [
              {
                reg: /^(\w*) (\d*) ([\w/]*)(?: (.*))?/,
                names: ["type", "port", "protocol", "payloads"],
                format: "%s %d %s %s",
              },
            ],
            a: [
              {
                push: "rtp",
                reg: /^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
                names: ["payload", "codec", "rate", "encoding"],
                format: function (e) {
                  return e.encoding
                    ? "rtpmap:%d %s/%s/%s"
                    : e.rate
                    ? "rtpmap:%d %s/%s"
                    : "rtpmap:%d %s";
                },
              },
              {
                push: "fmtp",
                reg: /^fmtp:(\d*) ([\S| ]*)/,
                names: ["payload", "config"],
                format: "fmtp:%d %s",
              },
              { name: "control", reg: /^control:(.*)/, format: "control:%s" },
              {
                name: "rtcp",
                reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
                names: ["port", "netType", "ipVer", "address"],
                format: function (e) {
                  return null != e.address ? "rtcp:%d %s IP%d %s" : "rtcp:%d";
                },
              },
              {
                push: "rtcpFbTrrInt",
                reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
                names: ["payload", "value"],
                format: "rtcp-fb:%s trr-int %d",
              },
              {
                push: "rtcpFb",
                reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
                names: ["payload", "type", "subtype"],
                format: function (e) {
                  return null != e.subtype
                    ? "rtcp-fb:%s %s %s"
                    : "rtcp-fb:%s %s";
                },
              },
              {
                push: "ext",
                reg: /^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,
                names: ["value", "direction", "encrypt-uri", "uri", "config"],
                format: function (e) {
                  return (
                    "extmap:%d" +
                    (e.direction ? "/%s" : "%v") +
                    (e["encrypt-uri"] ? " %s" : "%v") +
                    " %s" +
                    (e.config ? " %s" : "")
                  );
                },
              },
              { name: "extmapAllowMixed", reg: /^(extmap-allow-mixed)/ },
              {
                push: "crypto",
                reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
                names: ["id", "suite", "config", "sessionConfig"],
                format: function (e) {
                  return null != e.sessionConfig
                    ? "crypto:%d %s %s %s"
                    : "crypto:%d %s %s";
                },
              },
              { name: "setup", reg: /^setup:(\w*)/, format: "setup:%s" },
              {
                name: "connectionType",
                reg: /^connection:(new|existing)/,
                format: "connection:%s",
              },
              { name: "mid", reg: /^mid:([^\s]*)/, format: "mid:%s" },
              { name: "msid", reg: /^msid:(.*)/, format: "msid:%s" },
              {
                name: "ptime",
                reg: /^ptime:(\d*(?:\.\d*)*)/,
                format: "ptime:%d",
              },
              {
                name: "maxptime",
                reg: /^maxptime:(\d*(?:\.\d*)*)/,
                format: "maxptime:%d",
              },
              {
                name: "direction",
                reg: /^(sendrecv|recvonly|sendonly|inactive)/,
              },
              { name: "icelite", reg: /^(ice-lite)/ },
              {
                name: "iceUfrag",
                reg: /^ice-ufrag:(\S*)/,
                format: "ice-ufrag:%s",
              },
              { name: "icePwd", reg: /^ice-pwd:(\S*)/, format: "ice-pwd:%s" },
              {
                name: "fingerprint",
                reg: /^fingerprint:(\S*) (\S*)/,
                names: ["type", "hash"],
                format: "fingerprint:%s %s",
              },
              {
                push: "candidates",
                reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
                names: [
                  "foundation",
                  "component",
                  "transport",
                  "priority",
                  "ip",
                  "port",
                  "type",
                  "raddr",
                  "rport",
                  "tcptype",
                  "generation",
                  "network-id",
                  "network-cost",
                ],
                format: function (e) {
                  var t = "candidate:%s %d %s %d %s %d typ %s";
                  return (
                    (t += null != e.raddr ? " raddr %s rport %d" : "%v%v"),
                    (t += null != e.tcptype ? " tcptype %s" : "%v"),
                    null != e.generation && (t += " generation %d"),
                    (t += null != e["network-id"] ? " network-id %d" : "%v"),
                    (t += null != e["network-cost"] ? " network-cost %d" : "%v")
                  );
                },
              },
              { name: "endOfCandidates", reg: /^(end-of-candidates)/ },
              {
                name: "remoteCandidates",
                reg: /^remote-candidates:(.*)/,
                format: "remote-candidates:%s",
              },
              {
                name: "iceOptions",
                reg: /^ice-options:(\S*)/,
                format: "ice-options:%s",
              },
              {
                push: "ssrcs",
                reg: /^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,
                names: ["id", "attribute", "value"],
                format: function (e) {
                  var t = "ssrc:%d";
                  return (
                    null != e.attribute &&
                      ((t += " %s"), null != e.value && (t += ":%s")),
                    t
                  );
                },
              },
              {
                push: "ssrcGroups",
                reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
                names: ["semantics", "ssrcs"],
                format: "ssrc-group:%s %s",
              },
              {
                name: "msidSemantic",
                reg: /^msid-semantic:\s?(\w*) (\S*)/,
                names: ["semantic", "token"],
                format: "msid-semantic: %s %s",
              },
              {
                push: "groups",
                reg: /^group:(\w*) (.*)/,
                names: ["type", "mids"],
                format: "group:%s %s",
              },
              { name: "rtcpMux", reg: /^(rtcp-mux)/ },
              { name: "rtcpRsize", reg: /^(rtcp-rsize)/ },
              {
                name: "sctpmap",
                reg: /^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,
                names: ["sctpmapNumber", "app", "maxMessageSize"],
                format: function (e) {
                  return null != e.maxMessageSize
                    ? "sctpmap:%s %s %s"
                    : "sctpmap:%s %s";
                },
              },
              {
                name: "xGoogleFlag",
                reg: /^x-google-flag:([^\s]*)/,
                format: "x-google-flag:%s",
              },
              {
                push: "rids",
                reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
                names: ["id", "direction", "params"],
                format: function (e) {
                  return e.params ? "rid:%s %s %s" : "rid:%s %s";
                },
              },
              {
                push: "imageattrs",
                reg: new RegExp(
                  "^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"
                ),
                names: ["pt", "dir1", "attrs1", "dir2", "attrs2"],
                format: function (e) {
                  return "imageattr:%s %s %s" + (e.dir2 ? " %s %s" : "");
                },
              },
              {
                name: "simulcast",
                reg: new RegExp(
                  "^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"
                ),
                names: ["dir1", "list1", "dir2", "list2"],
                format: function (e) {
                  return "simulcast:%s %s" + (e.dir2 ? " %s %s" : "");
                },
              },
              {
                name: "simulcast_03",
                reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
                names: ["value"],
                format: "simulcast: %s",
              },
              {
                name: "framerate",
                reg: /^framerate:(\d+(?:$|\.\d+))/,
                format: "framerate:%s",
              },
              {
                name: "sourceFilter",
                reg: /^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,
                names: [
                  "filterMode",
                  "netType",
                  "addressTypes",
                  "destAddress",
                  "srcList",
                ],
                format: "source-filter: %s %s %s %s %s",
              },
              { name: "bundleOnly", reg: /^(bundle-only)/ },
              { name: "label", reg: /^label:(.+)/, format: "label:%s" },
              {
                name: "sctpPort",
                reg: /^sctp-port:(\d+)$/,
                format: "sctp-port:%s",
              },
              {
                name: "maxMessageSize",
                reg: /^max-message-size:(\d+)$/,
                format: "max-message-size:%s",
              },
              {
                push: "tsRefClocks",
                reg: /^ts-refclk:([^\s=]*)(?:=(\S*))?/,
                names: ["clksrc", "clksrcExt"],
                format: function (e) {
                  return "ts-refclk:%s" + (null != e.clksrcExt ? "=%s" : "");
                },
              },
              {
                name: "mediaClk",
                reg: /^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,
                names: [
                  "id",
                  "mediaClockName",
                  "mediaClockValue",
                  "rateNumerator",
                  "rateDenominator",
                ],
                format: function (e) {
                  var t = "mediaclk:";
                  return (
                    (t += null != e.id ? "id=%s %s" : "%v%s"),
                    (t += null != e.mediaClockValue ? "=%s" : ""),
                    (t += null != e.rateNumerator ? " rate=%s" : ""),
                    (t += null != e.rateDenominator ? "/%s" : "")
                  );
                },
              },
              { name: "keywords", reg: /^keywds:(.+)$/, format: "keywds:%s" },
              { name: "content", reg: /^content:(.+)/, format: "content:%s" },
              {
                name: "bfcpFloorCtrl",
                reg: /^floorctrl:(c-only|s-only|c-s)/,
                format: "floorctrl:%s",
              },
              { name: "bfcpConfId", reg: /^confid:(\d+)/, format: "confid:%s" },
              { name: "bfcpUserId", reg: /^userid:(\d+)/, format: "userid:%s" },
              {
                name: "bfcpFloorId",
                reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,
                names: ["id", "mStream"],
                format: "floorid:%s mstrm:%s",
              },
              { push: "invalid", names: ["value"] },
            ],
          });
          Object.keys(t).forEach(function (e) {
            t[e].forEach(function (e) {
              e.reg || (e.reg = /(.*)/), e.format || (e.format = "%s");
            });
          });
        },
        766: (e, t, r) => {
          var n = r(962),
            a = r(5776);
          (t.write = a),
            (t.parse = n.parse),
            (t.parseParams = n.parseParams),
            (t.parseFmtpConfig = n.parseFmtpConfig),
            (t.parsePayloads = n.parsePayloads),
            (t.parseRemoteCandidates = n.parseRemoteCandidates),
            (t.parseImageAttributes = n.parseImageAttributes),
            (t.parseSimulcastStreamList = n.parseSimulcastStreamList);
        },
        962: (e, t, r) => {
          var n = function (e) {
              return String(Number(e)) === e ? Number(e) : e;
            },
            a = function (e, t, r) {
              var a = e.name && e.names;
              e.push && !t[e.push]
                ? (t[e.push] = [])
                : a && !t[e.name] && (t[e.name] = {});
              var i = e.push ? {} : a ? t[e.name] : t;
              !(function (e, t, r, a) {
                if (a && !r) t[a] = n(e[1]);
                else
                  for (var i = 0; i < r.length; i += 1)
                    null != e[i + 1] && (t[r[i]] = n(e[i + 1]));
              })(r.match(e.reg), i, e.names, e.name),
                e.push && t[e.push].push(i);
            },
            i = r(6692),
            s = RegExp.prototype.test.bind(/^([a-z])=(.*)/);
          t.parse = function (e) {
            var t = {},
              r = [],
              n = t;
            return (
              e
                .split(/(\r\n|\r|\n)/)
                .filter(s)
                .forEach(function (e) {
                  var t = e[0],
                    s = e.slice(2);
                  "m" === t &&
                    (r.push({ rtp: [], fmtp: [] }), (n = r[r.length - 1]));
                  for (var o = 0; o < (i[t] || []).length; o += 1) {
                    var c = i[t][o];
                    if (c.reg.test(s)) return a(c, n, s);
                  }
                }),
              (t.media = r),
              t
            );
          };
          var o = function (e, t) {
            var r = t.split(/=(.+)/, 2);
            return (
              2 === r.length
                ? (e[r[0]] = n(r[1]))
                : 1 === r.length && t.length > 1 && (e[r[0]] = void 0),
              e
            );
          };
          (t.parseParams = function (e) {
            return e.split(/;\s?/).reduce(o, {});
          }),
            (t.parseFmtpConfig = t.parseParams),
            (t.parsePayloads = function (e) {
              return e.toString().split(" ").map(Number);
            }),
            (t.parseRemoteCandidates = function (e) {
              for (
                var t = [], r = e.split(" ").map(n), a = 0;
                a < r.length;
                a += 3
              )
                t.push({ component: r[a], ip: r[a + 1], port: r[a + 2] });
              return t;
            }),
            (t.parseImageAttributes = function (e) {
              return e.split(" ").map(function (e) {
                return e
                  .substring(1, e.length - 1)
                  .split(",")
                  .reduce(o, {});
              });
            }),
            (t.parseSimulcastStreamList = function (e) {
              return e.split(";").map(function (e) {
                return e.split(",").map(function (e) {
                  var t,
                    r = !1;
                  return (
                    "~" !== e[0]
                      ? (t = n(e))
                      : ((t = n(e.substring(1, e.length))), (r = !0)),
                    { scid: t, paused: r }
                  );
                });
              });
            });
        },
        5776: (e, t, r) => {
          var n = r(6692),
            a = /%[sdv%]/g,
            i = function (e) {
              var t = 1,
                r = arguments,
                n = r.length;
              return e.replace(a, function (e) {
                if (t >= n) return e;
                var a = r[t];
                switch (((t += 1), e)) {
                  case "%%":
                    return "%";
                  case "%s":
                    return String(a);
                  case "%d":
                    return Number(a);
                  case "%v":
                    return "";
                }
              });
            },
            s = function (e, t, r) {
              var n = [
                e +
                  "=" +
                  (t.format instanceof Function
                    ? t.format(t.push ? r : r[t.name])
                    : t.format),
              ];
              if (t.names)
                for (var a = 0; a < t.names.length; a += 1) {
                  var s = t.names[a];
                  t.name ? n.push(r[t.name][s]) : n.push(r[t.names[a]]);
                }
              else n.push(r[t.name]);
              return i.apply(null, n);
            },
            o = [
              "v",
              "o",
              "s",
              "i",
              "u",
              "e",
              "p",
              "c",
              "b",
              "t",
              "r",
              "z",
              "a",
            ],
            c = ["i", "c", "b", "a"];
          e.exports = function (e, t) {
            (t = t || {}),
              null == e.version && (e.version = 0),
              null == e.name && (e.name = " "),
              e.media.forEach(function (e) {
                null == e.payloads && (e.payloads = "");
              });
            var r = t.outerOrder || o,
              a = t.innerOrder || c,
              i = [];
            return (
              r.forEach(function (t) {
                n[t].forEach(function (r) {
                  r.name in e && null != e[r.name]
                    ? i.push(s(t, r, e))
                    : r.push in e &&
                      null != e[r.push] &&
                      e[r.push].forEach(function (e) {
                        i.push(s(t, r, e));
                      });
                });
              }),
              e.media.forEach(function (e) {
                i.push(s("m", n.m[0], e)),
                  a.forEach(function (t) {
                    n[t].forEach(function (r) {
                      r.name in e && null != e[r.name]
                        ? i.push(s(t, r, e))
                        : r.push in e &&
                          null != e[r.push] &&
                          e[r.push].forEach(function (e) {
                            i.push(s(t, r, e));
                          });
                    });
                  });
              }),
              i.join("\r\n") + "\r\n"
            );
          };
        },
        5840: (e, t, r) => {
          var n;
          if ("object" == typeof globalThis) n = globalThis;
          else
            try {
              n = r(284);
            } catch (e) {
            } finally {
              if ((n || "undefined" == typeof window || (n = window), !n))
                throw new Error("Could not determine global this");
            }
          var a = n.WebSocket || n.MozWebSocket,
            i = r(9387);
          function s(e, t) {
            return t ? new a(e, t) : new a(e);
          }
          a &&
            ["CONNECTING", "OPEN", "CLOSING", "CLOSED"].forEach(function (e) {
              Object.defineProperty(s, e, {
                get: function () {
                  return a[e];
                },
              });
            }),
            (e.exports = { w3cwebsocket: a ? s : null, version: i });
        },
        9387: (e, t, r) => {
          e.exports = r(9794).version;
        },
        6037: (e, t, r) => {
          "use strict";
          !(function (e) {
            const t = e.performance;
            function r(e) {
              t && t.mark && t.mark(e);
            }
            function n(e, r) {
              t && t.measure && t.measure(e, r);
            }
            r("Zone");
            const a = e.__Zone_symbol_prefix || "__zone_symbol__";
            function i(e) {
              return a + e;
            }
            const s = !0 === e[i("forceDuplicateZoneCheck")];
            if (e.Zone) {
              if (s || "function" != typeof e.Zone.__symbol__)
                throw new Error("Zone already loaded.");
              return e.Zone;
            }
            class o {
              constructor(e, t) {
                (this._parent = e),
                  (this._name = t ? t.name || "unnamed" : "<root>"),
                  (this._properties = (t && t.properties) || {}),
                  (this._zoneDelegate = new d(
                    this,
                    this._parent && this._parent._zoneDelegate,
                    t
                  ));
              }
              static assertZonePatched() {
                if (e.Promise !== x.ZoneAwarePromise)
                  throw new Error(
                    "Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)"
                  );
              }
              static get root() {
                let e = o.current;
                for (; e.parent; ) e = e.parent;
                return e;
              }
              static get current() {
                return I.zone;
              }
              static get currentTask() {
                return L;
              }
              static __load_patch(t, a, i = !1) {
                if (x.hasOwnProperty(t)) {
                  if (!i && s) throw Error("Already loaded patch: " + t);
                } else if (!e["__Zone_disable_" + t]) {
                  const i = "Zone:" + t;
                  r(i), (x[t] = a(e, o, D)), n(i, i);
                }
              }
              get parent() {
                return this._parent;
              }
              get name() {
                return this._name;
              }
              get(e) {
                const t = this.getZoneWith(e);
                if (t) return t._properties[e];
              }
              getZoneWith(e) {
                let t = this;
                for (; t; ) {
                  if (t._properties.hasOwnProperty(e)) return t;
                  t = t._parent;
                }
                return null;
              }
              fork(e) {
                if (!e) throw new Error("ZoneSpec required!");
                return this._zoneDelegate.fork(this, e);
              }
              wrap(e, t) {
                if ("function" != typeof e)
                  throw new Error("Expecting function got: " + e);
                const r = this._zoneDelegate.intercept(this, e, t),
                  n = this;
                return function () {
                  return n.runGuarded(r, this, arguments, t);
                };
              }
              run(e, t, r, n) {
                I = { parent: I, zone: this };
                try {
                  return this._zoneDelegate.invoke(this, e, t, r, n);
                } finally {
                  I = I.parent;
                }
              }
              runGuarded(e, t = null, r, n) {
                I = { parent: I, zone: this };
                try {
                  try {
                    return this._zoneDelegate.invoke(this, e, t, r, n);
                  } catch (e) {
                    if (this._zoneDelegate.handleError(this, e)) throw e;
                  }
                } finally {
                  I = I.parent;
                }
              }
              runTask(e, t, r) {
                if (e.zone != this)
                  throw new Error(
                    "A task can only be run in the zone of creation! (Creation: " +
                      (e.zone || b).name +
                      "; Execution: " +
                      this.name +
                      ")"
                  );
                if (e.state === S && (e.type === O || e.type === k)) return;
                const n = e.state != E;
                n && e._transitionTo(E, T), e.runCount++;
                const a = L;
                (L = e), (I = { parent: I, zone: this });
                try {
                  e.type == k &&
                    e.data &&
                    !e.data.isPeriodic &&
                    (e.cancelFn = void 0);
                  try {
                    return this._zoneDelegate.invokeTask(this, e, t, r);
                  } catch (e) {
                    if (this._zoneDelegate.handleError(this, e)) throw e;
                  }
                } finally {
                  e.state !== S &&
                    e.state !== P &&
                    (e.type == O || (e.data && e.data.isPeriodic)
                      ? n && e._transitionTo(T, E)
                      : ((e.runCount = 0),
                        this._updateTaskCount(e, -1),
                        n && e._transitionTo(S, E, S))),
                    (I = I.parent),
                    (L = a);
                }
              }
              scheduleTask(e) {
                if (e.zone && e.zone !== this) {
                  let t = this;
                  for (; t; ) {
                    if (t === e.zone)
                      throw Error(
                        `can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`
                      );
                    t = t.parent;
                  }
                }
                e._transitionTo(w, S);
                const t = [];
                (e._zoneDelegates = t), (e._zone = this);
                try {
                  e = this._zoneDelegate.scheduleTask(this, e);
                } catch (t) {
                  throw (
                    (e._transitionTo(P, w, S),
                    this._zoneDelegate.handleError(this, t),
                    t)
                  );
                }
                return (
                  e._zoneDelegates === t && this._updateTaskCount(e, 1),
                  e.state == w && e._transitionTo(T, w),
                  e
                );
              }
              scheduleMicroTask(e, t, r, n) {
                return this.scheduleTask(new p(C, e, t, r, n, void 0));
              }
              scheduleMacroTask(e, t, r, n, a) {
                return this.scheduleTask(new p(k, e, t, r, n, a));
              }
              scheduleEventTask(e, t, r, n, a) {
                return this.scheduleTask(new p(O, e, t, r, n, a));
              }
              cancelTask(e) {
                if (e.zone != this)
                  throw new Error(
                    "A task can only be cancelled in the zone of creation! (Creation: " +
                      (e.zone || b).name +
                      "; Execution: " +
                      this.name +
                      ")"
                  );
                e._transitionTo(R, T, E);
                try {
                  this._zoneDelegate.cancelTask(this, e);
                } catch (t) {
                  throw (
                    (e._transitionTo(P, R),
                    this._zoneDelegate.handleError(this, t),
                    t)
                  );
                }
                return (
                  this._updateTaskCount(e, -1),
                  e._transitionTo(S, R),
                  (e.runCount = 0),
                  e
                );
              }
              _updateTaskCount(e, t) {
                const r = e._zoneDelegates;
                -1 == t && (e._zoneDelegates = null);
                for (let n = 0; n < r.length; n++)
                  r[n]._updateTaskCount(e.type, t);
              }
            }
            o.__symbol__ = i;
            const c = {
              name: "",
              onHasTask: (e, t, r, n) => e.hasTask(r, n),
              onScheduleTask: (e, t, r, n) => e.scheduleTask(r, n),
              onInvokeTask: (e, t, r, n, a, i) => e.invokeTask(r, n, a, i),
              onCancelTask: (e, t, r, n) => e.cancelTask(r, n),
            };
            class d {
              constructor(e, t, r) {
                (this._taskCounts = {
                  microTask: 0,
                  macroTask: 0,
                  eventTask: 0,
                }),
                  (this.zone = e),
                  (this._parentDelegate = t),
                  (this._forkZS = r && (r && r.onFork ? r : t._forkZS)),
                  (this._forkDlgt = r && (r.onFork ? t : t._forkDlgt)),
                  (this._forkCurrZone =
                    r && (r.onFork ? this.zone : t._forkCurrZone)),
                  (this._interceptZS =
                    r && (r.onIntercept ? r : t._interceptZS)),
                  (this._interceptDlgt =
                    r && (r.onIntercept ? t : t._interceptDlgt)),
                  (this._interceptCurrZone =
                    r && (r.onIntercept ? this.zone : t._interceptCurrZone)),
                  (this._invokeZS = r && (r.onInvoke ? r : t._invokeZS)),
                  (this._invokeDlgt = r && (r.onInvoke ? t : t._invokeDlgt)),
                  (this._invokeCurrZone =
                    r && (r.onInvoke ? this.zone : t._invokeCurrZone)),
                  (this._handleErrorZS =
                    r && (r.onHandleError ? r : t._handleErrorZS)),
                  (this._handleErrorDlgt =
                    r && (r.onHandleError ? t : t._handleErrorDlgt)),
                  (this._handleErrorCurrZone =
                    r &&
                    (r.onHandleError ? this.zone : t._handleErrorCurrZone)),
                  (this._scheduleTaskZS =
                    r && (r.onScheduleTask ? r : t._scheduleTaskZS)),
                  (this._scheduleTaskDlgt =
                    r && (r.onScheduleTask ? t : t._scheduleTaskDlgt)),
                  (this._scheduleTaskCurrZone =
                    r &&
                    (r.onScheduleTask ? this.zone : t._scheduleTaskCurrZone)),
                  (this._invokeTaskZS =
                    r && (r.onInvokeTask ? r : t._invokeTaskZS)),
                  (this._invokeTaskDlgt =
                    r && (r.onInvokeTask ? t : t._invokeTaskDlgt)),
                  (this._invokeTaskCurrZone =
                    r && (r.onInvokeTask ? this.zone : t._invokeTaskCurrZone)),
                  (this._cancelTaskZS =
                    r && (r.onCancelTask ? r : t._cancelTaskZS)),
                  (this._cancelTaskDlgt =
                    r && (r.onCancelTask ? t : t._cancelTaskDlgt)),
                  (this._cancelTaskCurrZone =
                    r && (r.onCancelTask ? this.zone : t._cancelTaskCurrZone)),
                  (this._hasTaskZS = null),
                  (this._hasTaskDlgt = null),
                  (this._hasTaskDlgtOwner = null),
                  (this._hasTaskCurrZone = null);
                const n = r && r.onHasTask,
                  a = t && t._hasTaskZS;
                (n || a) &&
                  ((this._hasTaskZS = n ? r : c),
                  (this._hasTaskDlgt = t),
                  (this._hasTaskDlgtOwner = this),
                  (this._hasTaskCurrZone = e),
                  r.onScheduleTask ||
                    ((this._scheduleTaskZS = c),
                    (this._scheduleTaskDlgt = t),
                    (this._scheduleTaskCurrZone = this.zone)),
                  r.onInvokeTask ||
                    ((this._invokeTaskZS = c),
                    (this._invokeTaskDlgt = t),
                    (this._invokeTaskCurrZone = this.zone)),
                  r.onCancelTask ||
                    ((this._cancelTaskZS = c),
                    (this._cancelTaskDlgt = t),
                    (this._cancelTaskCurrZone = this.zone)));
              }
              fork(e, t) {
                return this._forkZS
                  ? this._forkZS.onFork(this._forkDlgt, this.zone, e, t)
                  : new o(e, t);
              }
              intercept(e, t, r) {
                return this._interceptZS
                  ? this._interceptZS.onIntercept(
                      this._interceptDlgt,
                      this._interceptCurrZone,
                      e,
                      t,
                      r
                    )
                  : t;
              }
              invoke(e, t, r, n, a) {
                return this._invokeZS
                  ? this._invokeZS.onInvoke(
                      this._invokeDlgt,
                      this._invokeCurrZone,
                      e,
                      t,
                      r,
                      n,
                      a
                    )
                  : t.apply(r, n);
              }
              handleError(e, t) {
                return (
                  !this._handleErrorZS ||
                  this._handleErrorZS.onHandleError(
                    this._handleErrorDlgt,
                    this._handleErrorCurrZone,
                    e,
                    t
                  )
                );
              }
              scheduleTask(e, t) {
                let r = t;
                if (this._scheduleTaskZS)
                  this._hasTaskZS &&
                    r._zoneDelegates.push(this._hasTaskDlgtOwner),
                    (r = this._scheduleTaskZS.onScheduleTask(
                      this._scheduleTaskDlgt,
                      this._scheduleTaskCurrZone,
                      e,
                      t
                    )),
                    r || (r = t);
                else if (t.scheduleFn) t.scheduleFn(t);
                else {
                  if (t.type != C)
                    throw new Error("Task is missing scheduleFn.");
                  v(t);
                }
                return r;
              }
              invokeTask(e, t, r, n) {
                return this._invokeTaskZS
                  ? this._invokeTaskZS.onInvokeTask(
                      this._invokeTaskDlgt,
                      this._invokeTaskCurrZone,
                      e,
                      t,
                      r,
                      n
                    )
                  : t.callback.apply(r, n);
              }
              cancelTask(e, t) {
                let r;
                if (this._cancelTaskZS)
                  r = this._cancelTaskZS.onCancelTask(
                    this._cancelTaskDlgt,
                    this._cancelTaskCurrZone,
                    e,
                    t
                  );
                else {
                  if (!t.cancelFn) throw Error("Task is not cancelable");
                  r = t.cancelFn(t);
                }
                return r;
              }
              hasTask(e, t) {
                try {
                  this._hasTaskZS &&
                    this._hasTaskZS.onHasTask(
                      this._hasTaskDlgt,
                      this._hasTaskCurrZone,
                      e,
                      t
                    );
                } catch (t) {
                  this.handleError(e, t);
                }
              }
              _updateTaskCount(e, t) {
                const r = this._taskCounts,
                  n = r[e],
                  a = (r[e] = n + t);
                if (a < 0)
                  throw new Error("More tasks executed then were scheduled.");
                if (0 == n || 0 == a) {
                  const t = {
                    microTask: r.microTask > 0,
                    macroTask: r.macroTask > 0,
                    eventTask: r.eventTask > 0,
                    change: e,
                  };
                  this.hasTask(this.zone, t);
                }
              }
            }
            class p {
              constructor(t, r, n, a, i, s) {
                if (
                  ((this._zone = null),
                  (this.runCount = 0),
                  (this._zoneDelegates = null),
                  (this._state = "notScheduled"),
                  (this.type = t),
                  (this.source = r),
                  (this.data = a),
                  (this.scheduleFn = i),
                  (this.cancelFn = s),
                  !n)
                )
                  throw new Error("callback is not defined");
                this.callback = n;
                const o = this;
                t === O && a && a.useG
                  ? (this.invoke = p.invokeTask)
                  : (this.invoke = function () {
                      return p.invokeTask.call(e, o, this, arguments);
                    });
              }
              static invokeTask(e, t, r) {
                e || (e = this), M++;
                try {
                  return e.runCount++, e.zone.runTask(e, t, r);
                } finally {
                  1 == M && y(), M--;
                }
              }
              get zone() {
                return this._zone;
              }
              get state() {
                return this._state;
              }
              cancelScheduleRequest() {
                this._transitionTo(S, w);
              }
              _transitionTo(e, t, r) {
                if (this._state !== t && this._state !== r)
                  throw new Error(
                    `${this.type} '${
                      this.source
                    }': can not transition to '${e}', expecting state '${t}'${
                      r ? " or '" + r + "'" : ""
                    }, was '${this._state}'.`
                  );
                (this._state = e), e == S && (this._zoneDelegates = null);
              }
              toString() {
                return this.data && void 0 !== this.data.handleId
                  ? this.data.handleId.toString()
                  : Object.prototype.toString.call(this);
              }
              toJSON() {
                return {
                  type: this.type,
                  state: this.state,
                  source: this.source,
                  zone: this.zone.name,
                  runCount: this.runCount,
                };
              }
            }
            const l = i("setTimeout"),
              u = i("Promise"),
              h = i("then");
            let m,
              f = [],
              _ = !1;
            function g(t) {
              if ((m || (e[u] && (m = e[u].resolve(0))), m)) {
                let e = m[h];
                e || (e = m.then), e.call(m, t);
              } else e[l](t, 0);
            }
            function v(e) {
              0 === M && 0 === f.length && g(y), e && f.push(e);
            }
            function y() {
              if (!_) {
                for (_ = !0; f.length; ) {
                  const e = f;
                  f = [];
                  for (let t = 0; t < e.length; t++) {
                    const r = e[t];
                    try {
                      r.zone.runTask(r, null, null);
                    } catch (e) {
                      D.onUnhandledError(e);
                    }
                  }
                }
                D.microtaskDrainDone(), (_ = !1);
              }
            }
            const b = { name: "NO ZONE" },
              S = "notScheduled",
              w = "scheduling",
              T = "scheduled",
              E = "running",
              R = "canceling",
              P = "unknown",
              C = "microTask",
              k = "macroTask",
              O = "eventTask",
              x = {},
              D = {
                symbol: i,
                currentZoneFrame: () => I,
                onUnhandledError: A,
                microtaskDrainDone: A,
                scheduleMicroTask: v,
                showUncaughtError: () =>
                  !o[i("ignoreConsoleErrorUncaughtError")],
                patchEventTarget: () => [],
                patchOnProperties: A,
                patchMethod: () => A,
                bindArguments: () => [],
                patchThen: () => A,
                patchMacroTask: () => A,
                patchEventPrototype: () => A,
                isIEOrEdge: () => !1,
                getGlobalObjects: () => {},
                ObjectDefineProperty: () => A,
                ObjectGetOwnPropertyDescriptor: () => {},
                ObjectCreate: () => {},
                ArraySlice: () => [],
                patchClass: () => A,
                wrapWithCurrentZone: () => A,
                filterProperties: () => [],
                attachOriginToPatched: () => A,
                _redefineProperty: () => A,
                patchCallbacks: () => A,
                nativeScheduleMicroTask: g,
              };
            let I = { parent: null, zone: new o(null, null) },
              L = null,
              M = 0;
            function A() {}
            n("Zone", "Zone"), (e.Zone = o);
          })(
            ("undefined" != typeof window && window) ||
              ("undefined" != typeof self && self) ||
              r.g
          );
          const n = Object.getOwnPropertyDescriptor,
            a = Object.defineProperty,
            i = Object.getPrototypeOf,
            s = Object.create,
            o = Array.prototype.slice,
            c = "addEventListener",
            d = "removeEventListener",
            p = Zone.__symbol__(c),
            l = Zone.__symbol__(d),
            u = "true",
            h = "false",
            m = Zone.__symbol__("");
          function f(e, t) {
            return Zone.current.wrap(e, t);
          }
          function _(e, t, r, n, a) {
            return Zone.current.scheduleMacroTask(e, t, r, n, a);
          }
          const g = Zone.__symbol__,
            v = "undefined" != typeof window,
            y = v ? window : void 0,
            b = (v && y) || ("object" == typeof self && self) || r.g;
          function S(e, t) {
            for (let r = e.length - 1; r >= 0; r--)
              "function" == typeof e[r] && (e[r] = f(e[r], t + "_" + r));
            return e;
          }
          function w(e) {
            return (
              !e ||
              (!1 !== e.writable &&
                !("function" == typeof e.get && void 0 === e.set))
            );
          }
          const T =
              "undefined" != typeof WorkerGlobalScope &&
              self instanceof WorkerGlobalScope,
            E =
              !("nw" in b) &&
              void 0 !== b.process &&
              "[object process]" === {}.toString.call(b.process),
            R = !E && !T && !(!v || !y.HTMLElement),
            P =
              void 0 !== b.process &&
              "[object process]" === {}.toString.call(b.process) &&
              !T &&
              !(!v || !y.HTMLElement),
            C = {},
            k = function (e) {
              if (!(e = e || b.event)) return;
              let t = C[e.type];
              t || (t = C[e.type] = g("ON_PROPERTY" + e.type));
              const r = this || e.target || b,
                n = r[t];
              let a;
              if (R && r === y && "error" === e.type) {
                const t = e;
                (a =
                  n &&
                  n.call(
                    this,
                    t.message,
                    t.filename,
                    t.lineno,
                    t.colno,
                    t.error
                  )),
                  !0 === a && e.preventDefault();
              } else
                (a = n && n.apply(this, arguments)),
                  null == a || a || e.preventDefault();
              return a;
            };
          function O(e, t, r) {
            let i = n(e, t);
            if (!i && r) {
              n(r, t) && (i = { enumerable: !0, configurable: !0 });
            }
            if (!i || !i.configurable) return;
            const s = g("on" + t + "patched");
            if (e.hasOwnProperty(s) && e[s]) return;
            delete i.writable, delete i.value;
            const o = i.get,
              c = i.set,
              d = t.slice(2);
            let p = C[d];
            p || (p = C[d] = g("ON_PROPERTY" + d)),
              (i.set = function (t) {
                let r = this;
                if ((r || e !== b || (r = b), !r)) return;
                "function" == typeof r[p] && r.removeEventListener(d, k),
                  c && c.call(r, null),
                  (r[p] = t),
                  "function" == typeof t && r.addEventListener(d, k, !1);
              }),
              (i.get = function () {
                let r = this;
                if ((r || e !== b || (r = b), !r)) return null;
                const n = r[p];
                if (n) return n;
                if (o) {
                  let e = o.call(this);
                  if (e)
                    return (
                      i.set.call(this, e),
                      "function" == typeof r.removeAttribute &&
                        r.removeAttribute(t),
                      e
                    );
                }
                return null;
              }),
              a(e, t, i),
              (e[s] = !0);
          }
          function x(e, t, r) {
            if (t) for (let n = 0; n < t.length; n++) O(e, "on" + t[n], r);
            else {
              const t = [];
              for (const r in e) "on" == r.slice(0, 2) && t.push(r);
              for (let n = 0; n < t.length; n++) O(e, t[n], r);
            }
          }
          const D = g("originalInstance");
          function I(e) {
            const t = b[e];
            if (!t) return;
            (b[g(e)] = t),
              (b[e] = function () {
                const r = S(arguments, e);
                switch (r.length) {
                  case 0:
                    this[D] = new t();
                    break;
                  case 1:
                    this[D] = new t(r[0]);
                    break;
                  case 2:
                    this[D] = new t(r[0], r[1]);
                    break;
                  case 3:
                    this[D] = new t(r[0], r[1], r[2]);
                    break;
                  case 4:
                    this[D] = new t(r[0], r[1], r[2], r[3]);
                    break;
                  default:
                    throw new Error("Arg list too long.");
                }
              }),
              A(b[e], t);
            const r = new t(function () {});
            let n;
            for (n in r)
              ("XMLHttpRequest" === e && "responseBlob" === n) ||
                (function (t) {
                  "function" == typeof r[t]
                    ? (b[e].prototype[t] = function () {
                        return this[D][t].apply(this[D], arguments);
                      })
                    : a(b[e].prototype, t, {
                        set: function (r) {
                          "function" == typeof r
                            ? ((this[D][t] = f(r, e + "." + t)),
                              A(this[D][t], r))
                            : (this[D][t] = r);
                        },
                        get: function () {
                          return this[D][t];
                        },
                      });
                })(n);
            for (n in t)
              "prototype" !== n && t.hasOwnProperty(n) && (b[e][n] = t[n]);
          }
          function L(e, t, r) {
            let a = e;
            for (; a && !a.hasOwnProperty(t); ) a = i(a);
            !a && e[t] && (a = e);
            const s = g(t);
            let o = null;
            if (a && (!(o = a[s]) || !a.hasOwnProperty(s))) {
              o = a[s] = a[t];
              if (w(a && n(a, t))) {
                const e = r(o, s, t);
                (a[t] = function () {
                  return e(this, arguments);
                }),
                  A(a[t], o);
              }
            }
            return o;
          }
          function M(e, t, r) {
            let n = null;
            function a(e) {
              const t = e.data;
              return (
                (t.args[t.cbIdx] = function () {
                  e.invoke.apply(this, arguments);
                }),
                n.apply(t.target, t.args),
                e
              );
            }
            n = L(
              e,
              t,
              (e) =>
                function (t, n) {
                  const i = r(t, n);
                  return i.cbIdx >= 0 && "function" == typeof n[i.cbIdx]
                    ? _(i.name, n[i.cbIdx], i, a)
                    : e.apply(t, n);
                }
            );
          }
          function A(e, t) {
            e[g("OriginalDelegate")] = t;
          }
          let N = !1,
            j = !1;
          function F() {
            try {
              const e = y.navigator.userAgent;
              if (-1 !== e.indexOf("MSIE ") || -1 !== e.indexOf("Trident/"))
                return !0;
            } catch (e) {}
            return !1;
          }
          function B() {
            if (N) return j;
            N = !0;
            try {
              const e = y.navigator.userAgent;
              (-1 === e.indexOf("MSIE ") &&
                -1 === e.indexOf("Trident/") &&
                -1 === e.indexOf("Edge/")) ||
                (j = !0);
            } catch (e) {}
            return j;
          }
          Zone.__load_patch("ZoneAwarePromise", (e, t, r) => {
            const n = Object.getOwnPropertyDescriptor,
              a = Object.defineProperty;
            const i = r.symbol,
              s = [],
              o = !0 === e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],
              c = i("Promise"),
              d = i("then");
            (r.onUnhandledError = (e) => {
              if (r.showUncaughtError()) {
                const t = e && e.rejection;
                t
                  ? console.error(
                      "Unhandled Promise rejection:",
                      t instanceof Error ? t.message : t,
                      "; Zone:",
                      e.zone.name,
                      "; Task:",
                      e.task && e.task.source,
                      "; Value:",
                      t,
                      t instanceof Error ? t.stack : void 0
                    )
                  : console.error(e);
              }
            }),
              (r.microtaskDrainDone = () => {
                for (; s.length; ) {
                  const e = s.shift();
                  try {
                    e.zone.runGuarded(() => {
                      if (e.throwOriginal) throw e.rejection;
                      throw e;
                    });
                  } catch (e) {
                    l(e);
                  }
                }
              });
            const p = i("unhandledPromiseRejectionHandler");
            function l(e) {
              r.onUnhandledError(e);
              try {
                const r = t[p];
                "function" == typeof r && r.call(this, e);
              } catch (e) {}
            }
            function u(e) {
              return e && e.then;
            }
            function h(e) {
              return e;
            }
            function m(e) {
              return I.reject(e);
            }
            const f = i("state"),
              _ = i("value"),
              g = i("finally"),
              v = i("parentPromiseValue"),
              y = i("parentPromiseState"),
              b = null,
              S = !0,
              w = !1;
            function T(e, t) {
              return (r) => {
                try {
                  P(e, t, r);
                } catch (t) {
                  P(e, !1, t);
                }
              };
            }
            const E = function () {
                let e = !1;
                return function (t) {
                  return function () {
                    e || ((e = !0), t.apply(null, arguments));
                  };
                };
              },
              R = i("currentTaskTrace");
            function P(e, n, i) {
              const c = E();
              if (e === i) throw new TypeError("Promise resolved with itself");
              if (e[f] === b) {
                let d = null;
                try {
                  ("object" != typeof i && "function" != typeof i) ||
                    (d = i && i.then);
                } catch (t) {
                  return (
                    c(() => {
                      P(e, !1, t);
                    })(),
                    e
                  );
                }
                if (
                  n !== w &&
                  i instanceof I &&
                  i.hasOwnProperty(f) &&
                  i.hasOwnProperty(_) &&
                  i[f] !== b
                )
                  k(i), P(e, i[f], i[_]);
                else if (n !== w && "function" == typeof d)
                  try {
                    d.call(i, c(T(e, n)), c(T(e, !1)));
                  } catch (t) {
                    c(() => {
                      P(e, !1, t);
                    })();
                  }
                else {
                  e[f] = n;
                  const c = e[_];
                  if (
                    ((e[_] = i),
                    e[g] === g && n === S && ((e[f] = e[y]), (e[_] = e[v])),
                    n === w && i instanceof Error)
                  ) {
                    const e =
                      t.currentTask &&
                      t.currentTask.data &&
                      t.currentTask.data.__creationTrace__;
                    e &&
                      a(i, R, {
                        configurable: !0,
                        enumerable: !1,
                        writable: !0,
                        value: e,
                      });
                  }
                  for (let t = 0; t < c.length; )
                    O(e, c[t++], c[t++], c[t++], c[t++]);
                  if (0 == c.length && n == w) {
                    e[f] = 0;
                    let n = i;
                    try {
                      throw new Error(
                        "Uncaught (in promise): " +
                          (function (e) {
                            if (e && e.toString === Object.prototype.toString) {
                              return (
                                ((e.constructor && e.constructor.name) || "") +
                                ": " +
                                JSON.stringify(e)
                              );
                            }
                            return e
                              ? e.toString()
                              : Object.prototype.toString.call(e);
                          })(i) +
                          (i && i.stack ? "\n" + i.stack : "")
                      );
                    } catch (e) {
                      n = e;
                    }
                    o && (n.throwOriginal = !0),
                      (n.rejection = i),
                      (n.promise = e),
                      (n.zone = t.current),
                      (n.task = t.currentTask),
                      s.push(n),
                      r.scheduleMicroTask();
                  }
                }
              }
              return e;
            }
            const C = i("rejectionHandledHandler");
            function k(e) {
              if (0 === e[f]) {
                try {
                  const r = t[C];
                  r &&
                    "function" == typeof r &&
                    r.call(this, { rejection: e[_], promise: e });
                } catch (e) {}
                e[f] = w;
                for (let t = 0; t < s.length; t++)
                  e === s[t].promise && s.splice(t, 1);
              }
            }
            function O(e, t, r, n, a) {
              k(e);
              const i = e[f],
                s = i
                  ? "function" == typeof n
                    ? n
                    : h
                  : "function" == typeof a
                  ? a
                  : m;
              t.scheduleMicroTask(
                "Promise.then",
                () => {
                  try {
                    const n = e[_],
                      a = !!r && g === r[g];
                    a && ((r[v] = n), (r[y] = i));
                    const o = t.run(
                      s,
                      void 0,
                      a && s !== m && s !== h ? [] : [n]
                    );
                    P(r, !0, o);
                  } catch (e) {
                    P(r, !1, e);
                  }
                },
                r
              );
            }
            const x = function () {},
              D = e.AggregateError;
            class I {
              static toString() {
                return "function ZoneAwarePromise() { [native code] }";
              }
              static resolve(e) {
                return P(new this(null), S, e);
              }
              static reject(e) {
                return P(new this(null), w, e);
              }
              static any(e) {
                if (!e || "function" != typeof e[Symbol.iterator])
                  return Promise.reject(
                    new D([], "All promises were rejected")
                  );
                const t = [];
                let r = 0;
                try {
                  for (let n of e) r++, t.push(I.resolve(n));
                } catch (e) {
                  return Promise.reject(
                    new D([], "All promises were rejected")
                  );
                }
                if (0 === r)
                  return Promise.reject(
                    new D([], "All promises were rejected")
                  );
                let n = !1;
                const a = [];
                return new I((e, i) => {
                  for (let s = 0; s < t.length; s++)
                    t[s].then(
                      (t) => {
                        n || ((n = !0), e(t));
                      },
                      (e) => {
                        a.push(e),
                          r--,
                          0 === r &&
                            ((n = !0),
                            i(new D(a, "All promises were rejected")));
                      }
                    );
                });
              }
              static race(e) {
                let t,
                  r,
                  n = new this((e, n) => {
                    (t = e), (r = n);
                  });
                function a(e) {
                  t(e);
                }
                function i(e) {
                  r(e);
                }
                for (let t of e) u(t) || (t = this.resolve(t)), t.then(a, i);
                return n;
              }
              static all(e) {
                return I.allWithCallback(e);
              }
              static allSettled(e) {
                return (
                  this && this.prototype instanceof I ? this : I
                ).allWithCallback(e, {
                  thenCallback: (e) => ({ status: "fulfilled", value: e }),
                  errorCallback: (e) => ({ status: "rejected", reason: e }),
                });
              }
              static allWithCallback(e, t) {
                let r,
                  n,
                  a = new this((e, t) => {
                    (r = e), (n = t);
                  }),
                  i = 2,
                  s = 0;
                const o = [];
                for (let a of e) {
                  u(a) || (a = this.resolve(a));
                  const e = s;
                  try {
                    a.then(
                      (n) => {
                        (o[e] = t ? t.thenCallback(n) : n),
                          i--,
                          0 === i && r(o);
                      },
                      (a) => {
                        t
                          ? ((o[e] = t.errorCallback(a)), i--, 0 === i && r(o))
                          : n(a);
                      }
                    );
                  } catch (e) {
                    n(e);
                  }
                  i++, s++;
                }
                return (i -= 2), 0 === i && r(o), a;
              }
              constructor(e) {
                const t = this;
                if (!(t instanceof I))
                  throw new Error("Must be an instanceof Promise.");
                (t[f] = b), (t[_] = []);
                try {
                  const r = E();
                  e && e(r(T(t, S)), r(T(t, w)));
                } catch (e) {
                  P(t, !1, e);
                }
              }
              get [Symbol.toStringTag]() {
                return "Promise";
              }
              get [Symbol.species]() {
                return I;
              }
              then(e, r) {
                var n;
                let a =
                  null === (n = this.constructor) || void 0 === n
                    ? void 0
                    : n[Symbol.species];
                (a && "function" == typeof a) || (a = this.constructor || I);
                const i = new a(x),
                  s = t.current;
                return (
                  this[f] == b ? this[_].push(s, i, e, r) : O(this, s, i, e, r),
                  i
                );
              }
              catch(e) {
                return this.then(null, e);
              }
              finally(e) {
                var r;
                let n =
                  null === (r = this.constructor) || void 0 === r
                    ? void 0
                    : r[Symbol.species];
                (n && "function" == typeof n) || (n = I);
                const a = new n(x);
                a[g] = g;
                const i = t.current;
                return (
                  this[f] == b ? this[_].push(i, a, e, e) : O(this, i, a, e, e),
                  a
                );
              }
            }
            (I.resolve = I.resolve),
              (I.reject = I.reject),
              (I.race = I.race),
              (I.all = I.all);
            const M = (e[c] = e.Promise);
            e.Promise = I;
            const A = i("thenPatched");
            function N(e) {
              const t = e.prototype,
                r = n(t, "then");
              if (r && (!1 === r.writable || !r.configurable)) return;
              const a = t.then;
              (t[d] = a),
                (e.prototype.then = function (e, t) {
                  return new I((e, t) => {
                    a.call(this, e, t);
                  }).then(e, t);
                }),
                (e[A] = !0);
            }
            return (
              (r.patchThen = N),
              M &&
                (N(M),
                L(e, "fetch", (e) => {
                  return (
                    (t = e),
                    function (e, r) {
                      let n = t.apply(e, r);
                      if (n instanceof I) return n;
                      let a = n.constructor;
                      return a[A] || N(a), n;
                    }
                  );
                  var t;
                })),
              (Promise[t.__symbol__("uncaughtPromiseErrors")] = s),
              I
            );
          }),
            Zone.__load_patch("toString", (e) => {
              const t = Function.prototype.toString,
                r = g("OriginalDelegate"),
                n = g("Promise"),
                a = g("Error"),
                i = function () {
                  if ("function" == typeof this) {
                    const i = this[r];
                    if (i)
                      return "function" == typeof i
                        ? t.call(i)
                        : Object.prototype.toString.call(i);
                    if (this === Promise) {
                      const r = e[n];
                      if (r) return t.call(r);
                    }
                    if (this === Error) {
                      const r = e[a];
                      if (r) return t.call(r);
                    }
                  }
                  return t.call(this);
                };
              (i[r] = t), (Function.prototype.toString = i);
              const s = Object.prototype.toString;
              Object.prototype.toString = function () {
                return "function" == typeof Promise && this instanceof Promise
                  ? "[object Promise]"
                  : s.call(this);
              };
            });
          let U = !1;
          if ("undefined" != typeof window)
            try {
              const e = Object.defineProperty({}, "passive", {
                get: function () {
                  U = !0;
                },
              });
              window.addEventListener("test", e, e),
                window.removeEventListener("test", e, e);
            } catch (e) {
              U = !1;
            }
          const Z = { useG: !0 },
            H = {},
            z = {},
            V = new RegExp("^" + m + "(\\w+)(true|false)$"),
            W = g("propagationStopped");
          function G(e, t) {
            const r = (t ? t(e) : e) + h,
              n = (t ? t(e) : e) + u,
              a = m + r,
              i = m + n;
            (H[e] = {}), (H[e].false = a), (H[e].true = i);
          }
          function q(e, t, r, n) {
            const a = (n && n.add) || c,
              s = (n && n.rm) || d,
              o = (n && n.listeners) || "eventListeners",
              p = (n && n.rmAll) || "removeAllListeners",
              l = g(a),
              f = "." + a + ":",
              _ = function (e, t, r) {
                if (e.isRemoved) return;
                const n = e.callback;
                let a;
                "object" == typeof n &&
                  n.handleEvent &&
                  ((e.callback = (e) => n.handleEvent(e)),
                  (e.originalDelegate = n));
                try {
                  e.invoke(e, t, [r]);
                } catch (e) {
                  a = e;
                }
                const i = e.options;
                if (i && "object" == typeof i && i.once) {
                  const n = e.originalDelegate
                    ? e.originalDelegate
                    : e.callback;
                  t[s].call(t, r.type, n, i);
                }
                return a;
              };
            function v(r, n, a) {
              if (!(n = n || e.event)) return;
              const i = r || n.target || e,
                s = i[H[n.type][a ? u : h]];
              if (s) {
                const e = [];
                if (1 === s.length) {
                  const t = _(s[0], i, n);
                  t && e.push(t);
                } else {
                  const t = s.slice();
                  for (let r = 0; r < t.length && (!n || !0 !== n[W]); r++) {
                    const a = _(t[r], i, n);
                    a && e.push(a);
                  }
                }
                if (1 === e.length) throw e[0];
                for (let r = 0; r < e.length; r++) {
                  const n = e[r];
                  t.nativeScheduleMicroTask(() => {
                    throw n;
                  });
                }
              }
            }
            const y = function (e) {
                return v(this, e, !1);
              },
              b = function (e) {
                return v(this, e, !0);
              };
            function S(t, r) {
              if (!t) return !1;
              let n = !0;
              r && void 0 !== r.useG && (n = r.useG);
              const c = r && r.vh;
              let d = !0;
              r && void 0 !== r.chkDup && (d = r.chkDup);
              let _ = !1;
              r && void 0 !== r.rt && (_ = r.rt);
              let v = t;
              for (; v && !v.hasOwnProperty(a); ) v = i(v);
              if ((!v && t[a] && (v = t), !v)) return !1;
              if (v[l]) return !1;
              const S = r && r.eventNameToString,
                w = {},
                T = (v[l] = v[a]),
                R = (v[g(s)] = v[s]),
                P = (v[g(o)] = v[o]),
                C = (v[g(p)] = v[p]);
              let k;
              function O(e, t) {
                return !U && "object" == typeof e && e
                  ? !!e.capture
                  : U && t
                  ? "boolean" == typeof e
                    ? { capture: e, passive: !0 }
                    : e
                    ? "object" == typeof e && !1 !== e.passive
                      ? Object.assign(Object.assign({}, e), { passive: !0 })
                      : e
                    : { passive: !0 }
                  : e;
              }
              r && r.prepend && (k = v[g(r.prepend)] = v[r.prepend]);
              const x = function (e) {
                  return k.call(w.target, w.eventName, e.invoke, w.options);
                },
                D = n
                  ? function (e) {
                      if (!w.isExisting)
                        return T.call(
                          w.target,
                          w.eventName,
                          w.capture ? b : y,
                          w.options
                        );
                    }
                  : function (e) {
                      return T.call(w.target, w.eventName, e.invoke, w.options);
                    },
                I = n
                  ? function (e) {
                      if (!e.isRemoved) {
                        const t = H[e.eventName];
                        let r;
                        t && (r = t[e.capture ? u : h]);
                        const n = r && e.target[r];
                        if (n)
                          for (let t = 0; t < n.length; t++) {
                            if (n[t] === e) {
                              n.splice(t, 1),
                                (e.isRemoved = !0),
                                0 === n.length &&
                                  ((e.allRemoved = !0), (e.target[r] = null));
                              break;
                            }
                          }
                      }
                      if (e.allRemoved)
                        return R.call(
                          e.target,
                          e.eventName,
                          e.capture ? b : y,
                          e.options
                        );
                    }
                  : function (e) {
                      return R.call(e.target, e.eventName, e.invoke, e.options);
                    },
                L =
                  r && r.diff
                    ? r.diff
                    : function (e, t) {
                        const r = typeof t;
                        return (
                          ("function" === r && e.callback === t) ||
                          ("object" === r && e.originalDelegate === t)
                        );
                      },
                M = Zone[g("UNPATCHED_EVENTS")],
                N = e[g("PASSIVE_EVENTS")],
                j = function (t, a, i, s, o = !1, p = !1) {
                  return function () {
                    const l = this || e;
                    let m = arguments[0];
                    r && r.transferEventName && (m = r.transferEventName(m));
                    let f = arguments[1];
                    if (!f) return t.apply(this, arguments);
                    if (E && "uncaughtException" === m)
                      return t.apply(this, arguments);
                    let _ = !1;
                    if ("function" != typeof f) {
                      if (!f.handleEvent) return t.apply(this, arguments);
                      _ = !0;
                    }
                    if (c && !c(t, f, l, arguments)) return;
                    const g = U && !!N && -1 !== N.indexOf(m),
                      v = O(arguments[2], g);
                    if (M)
                      for (let e = 0; e < M.length; e++)
                        if (m === M[e])
                          return g
                            ? t.call(l, m, f, v)
                            : t.apply(this, arguments);
                    const y = !!v && ("boolean" == typeof v || v.capture),
                      b = !(!v || "object" != typeof v) && v.once,
                      T = Zone.current;
                    let R = H[m];
                    R || (G(m, S), (R = H[m]));
                    const P = R[y ? u : h];
                    let C,
                      k = l[P],
                      x = !1;
                    if (k) {
                      if (((x = !0), d))
                        for (let e = 0; e < k.length; e++)
                          if (L(k[e], f)) return;
                    } else k = l[P] = [];
                    const D = l.constructor.name,
                      I = z[D];
                    I && (C = I[m]),
                      C || (C = D + a + (S ? S(m) : m)),
                      (w.options = v),
                      b && (w.options.once = !1),
                      (w.target = l),
                      (w.capture = y),
                      (w.eventName = m),
                      (w.isExisting = x);
                    const A = n ? Z : void 0;
                    A && (A.taskData = w);
                    const j = T.scheduleEventTask(C, f, A, i, s);
                    return (
                      (w.target = null),
                      A && (A.taskData = null),
                      b && (v.once = !0),
                      (U || "boolean" != typeof j.options) && (j.options = v),
                      (j.target = l),
                      (j.capture = y),
                      (j.eventName = m),
                      _ && (j.originalDelegate = f),
                      p ? k.unshift(j) : k.push(j),
                      o ? l : void 0
                    );
                  };
                };
              return (
                (v[a] = j(T, f, D, I, _)),
                k &&
                  (v.prependListener = j(k, ".prependListener:", x, I, _, !0)),
                (v[s] = function () {
                  const t = this || e;
                  let n = arguments[0];
                  r && r.transferEventName && (n = r.transferEventName(n));
                  const a = arguments[2],
                    i = !!a && ("boolean" == typeof a || a.capture),
                    s = arguments[1];
                  if (!s) return R.apply(this, arguments);
                  if (c && !c(R, s, t, arguments)) return;
                  const o = H[n];
                  let d;
                  o && (d = o[i ? u : h]);
                  const p = d && t[d];
                  if (p)
                    for (let e = 0; e < p.length; e++) {
                      const r = p[e];
                      if (L(r, s)) {
                        if (
                          (p.splice(e, 1),
                          (r.isRemoved = !0),
                          0 === p.length &&
                            ((r.allRemoved = !0),
                            (t[d] = null),
                            "string" == typeof n))
                        ) {
                          t[m + "ON_PROPERTY" + n] = null;
                        }
                        return r.zone.cancelTask(r), _ ? t : void 0;
                      }
                    }
                  return R.apply(this, arguments);
                }),
                (v[o] = function () {
                  const t = this || e;
                  let n = arguments[0];
                  r && r.transferEventName && (n = r.transferEventName(n));
                  const a = [],
                    i = K(t, S ? S(n) : n);
                  for (let e = 0; e < i.length; e++) {
                    const t = i[e];
                    let r = t.originalDelegate
                      ? t.originalDelegate
                      : t.callback;
                    a.push(r);
                  }
                  return a;
                }),
                (v[p] = function () {
                  const t = this || e;
                  let n = arguments[0];
                  if (n) {
                    r && r.transferEventName && (n = r.transferEventName(n));
                    const e = H[n];
                    if (e) {
                      const r = e.false,
                        a = e.true,
                        i = t[r],
                        o = t[a];
                      if (i) {
                        const e = i.slice();
                        for (let t = 0; t < e.length; t++) {
                          const r = e[t];
                          let a = r.originalDelegate
                            ? r.originalDelegate
                            : r.callback;
                          this[s].call(this, n, a, r.options);
                        }
                      }
                      if (o) {
                        const e = o.slice();
                        for (let t = 0; t < e.length; t++) {
                          const r = e[t];
                          let a = r.originalDelegate
                            ? r.originalDelegate
                            : r.callback;
                          this[s].call(this, n, a, r.options);
                        }
                      }
                    }
                  } else {
                    const e = Object.keys(t);
                    for (let t = 0; t < e.length; t++) {
                      const r = e[t],
                        n = V.exec(r);
                      let a = n && n[1];
                      a && "removeListener" !== a && this[p].call(this, a);
                    }
                    this[p].call(this, "removeListener");
                  }
                  if (_) return this;
                }),
                A(v[a], T),
                A(v[s], R),
                C && A(v[p], C),
                P && A(v[o], P),
                !0
              );
            }
            let w = [];
            for (let e = 0; e < r.length; e++) w[e] = S(r[e], n);
            return w;
          }
          function K(e, t) {
            if (!t) {
              const r = [];
              for (let n in e) {
                const a = V.exec(n);
                let i = a && a[1];
                if (i && (!t || i === t)) {
                  const t = e[n];
                  if (t) for (let e = 0; e < t.length; e++) r.push(t[e]);
                }
              }
              return r;
            }
            let r = H[t];
            r || (G(t), (r = H[t]));
            const n = e[r.false],
              a = e[r.true];
            return n ? (a ? n.concat(a) : n.slice()) : a ? a.slice() : [];
          }
          function $(e, t) {
            const r = e.Event;
            r &&
              r.prototype &&
              t.patchMethod(
                r.prototype,
                "stopImmediatePropagation",
                (e) =>
                  function (t, r) {
                    (t[W] = !0), e && e.apply(t, r);
                  }
              );
          }
          function X(e, t, r, n, a) {
            const i = Zone.__symbol__(n);
            if (t[i]) return;
            const s = (t[i] = t[n]);
            (t[n] = function (i, o, c) {
              return (
                o &&
                  o.prototype &&
                  a.forEach(function (t) {
                    const a = `${r}.${n}::` + t,
                      i = o.prototype;
                    try {
                      if (i.hasOwnProperty(t)) {
                        const r = e.ObjectGetOwnPropertyDescriptor(i, t);
                        r && r.value
                          ? ((r.value = e.wrapWithCurrentZone(r.value, a)),
                            e._redefineProperty(o.prototype, t, r))
                          : i[t] && (i[t] = e.wrapWithCurrentZone(i[t], a));
                      } else i[t] && (i[t] = e.wrapWithCurrentZone(i[t], a));
                    } catch (e) {}
                  }),
                s.call(t, i, o, c)
              );
            }),
              e.attachOriginToPatched(t[n], s);
          }
          function J(e, t, r) {
            if (!r || 0 === r.length) return t;
            const n = r.filter((t) => t.target === e);
            if (!n || 0 === n.length) return t;
            const a = n[0].ignoreProperties;
            return t.filter((e) => -1 === a.indexOf(e));
          }
          function Q(e, t, r, n) {
            if (!e) return;
            x(e, J(e, t, r), n);
          }
          function Y(e) {
            return Object.getOwnPropertyNames(e)
              .filter((e) => e.startsWith("on") && e.length > 2)
              .map((e) => e.substring(2));
          }
          function ee(e, t) {
            if (E && !P) return;
            if (Zone[e.symbol("patchEvents")]) return;
            const r = t.__Zone_ignore_on_properties;
            let n = [];
            if (R) {
              const e = window;
              n = n.concat([
                "Document",
                "SVGElement",
                "Element",
                "HTMLElement",
                "HTMLBodyElement",
                "HTMLMediaElement",
                "HTMLFrameSetElement",
                "HTMLFrameElement",
                "HTMLIFrameElement",
                "HTMLMarqueeElement",
                "Worker",
              ]);
              const t = F() ? [{ target: e, ignoreProperties: ["error"] }] : [];
              Q(e, Y(e), r ? r.concat(t) : r, i(e));
            }
            n = n.concat([
              "XMLHttpRequest",
              "XMLHttpRequestEventTarget",
              "IDBIndex",
              "IDBRequest",
              "IDBOpenDBRequest",
              "IDBDatabase",
              "IDBTransaction",
              "IDBCursor",
              "WebSocket",
            ]);
            for (let e = 0; e < n.length; e++) {
              const a = t[n[e]];
              a && a.prototype && Q(a.prototype, Y(a.prototype), r);
            }
          }
          Zone.__load_patch("util", (e, t, r) => {
            const i = Y(e);
            (r.patchOnProperties = x),
              (r.patchMethod = L),
              (r.bindArguments = S),
              (r.patchMacroTask = M);
            const p = t.__symbol__("BLACK_LISTED_EVENTS"),
              l = t.__symbol__("UNPATCHED_EVENTS");
            e[l] && (e[p] = e[l]),
              e[p] && (t[p] = t[l] = e[p]),
              (r.patchEventPrototype = $),
              (r.patchEventTarget = q),
              (r.isIEOrEdge = B),
              (r.ObjectDefineProperty = a),
              (r.ObjectGetOwnPropertyDescriptor = n),
              (r.ObjectCreate = s),
              (r.ArraySlice = o),
              (r.patchClass = I),
              (r.wrapWithCurrentZone = f),
              (r.filterProperties = J),
              (r.attachOriginToPatched = A),
              (r._redefineProperty = Object.defineProperty),
              (r.patchCallbacks = X),
              (r.getGlobalObjects = () => ({
                globalSources: z,
                zoneSymbolEventNames: H,
                eventNames: i,
                isBrowser: R,
                isMix: P,
                isNode: E,
                TRUE_STR: u,
                FALSE_STR: h,
                ZONE_SYMBOL_PREFIX: m,
                ADD_EVENT_LISTENER_STR: c,
                REMOVE_EVENT_LISTENER_STR: d,
              }));
          });
          const te = g("zoneTask");
          function re(e, t, r, n) {
            let a = null,
              i = null;
            r += n;
            const s = {};
            function o(t) {
              const r = t.data;
              return (
                (r.args[0] = function () {
                  return t.invoke.apply(this, arguments);
                }),
                (r.handleId = a.apply(e, r.args)),
                t
              );
            }
            function c(t) {
              return i.call(e, t.data.handleId);
            }
            (a = L(
              e,
              (t += n),
              (r) =>
                function (a, i) {
                  if ("function" == typeof i[0]) {
                    const e = {
                        isPeriodic: "Interval" === n,
                        delay:
                          "Timeout" === n || "Interval" === n
                            ? i[1] || 0
                            : void 0,
                        args: i,
                      },
                      r = i[0];
                    i[0] = function () {
                      try {
                        return r.apply(this, arguments);
                      } finally {
                        e.isPeriodic ||
                          ("number" == typeof e.handleId
                            ? delete s[e.handleId]
                            : e.handleId && (e.handleId[te] = null));
                      }
                    };
                    const a = _(t, i[0], e, o, c);
                    if (!a) return a;
                    const d = a.data.handleId;
                    return (
                      "number" == typeof d ? (s[d] = a) : d && (d[te] = a),
                      d &&
                        d.ref &&
                        d.unref &&
                        "function" == typeof d.ref &&
                        "function" == typeof d.unref &&
                        ((a.ref = d.ref.bind(d)), (a.unref = d.unref.bind(d))),
                      "number" == typeof d || d ? d : a
                    );
                  }
                  return r.apply(e, i);
                }
            )),
              (i = L(
                e,
                r,
                (t) =>
                  function (r, n) {
                    const a = n[0];
                    let i;
                    "number" == typeof a
                      ? (i = s[a])
                      : ((i = a && a[te]), i || (i = a)),
                      i && "string" == typeof i.type
                        ? "notScheduled" !== i.state &&
                          ((i.cancelFn && i.data.isPeriodic) ||
                            0 === i.runCount) &&
                          ("number" == typeof a
                            ? delete s[a]
                            : a && (a[te] = null),
                          i.zone.cancelTask(i))
                        : t.apply(e, n);
                  }
              ));
          }
          function ne(e, t) {
            if (Zone[t.symbol("patchEventTarget")]) return;
            const {
              eventNames: r,
              zoneSymbolEventNames: n,
              TRUE_STR: a,
              FALSE_STR: i,
              ZONE_SYMBOL_PREFIX: s,
            } = t.getGlobalObjects();
            for (let e = 0; e < r.length; e++) {
              const t = r[e],
                o = s + (t + i),
                c = s + (t + a);
              (n[t] = {}), (n[t][i] = o), (n[t][a] = c);
            }
            const o = e.EventTarget;
            return o && o.prototype
              ? (t.patchEventTarget(e, t, [o && o.prototype]), !0)
              : void 0;
          }
          Zone.__load_patch("legacy", (e) => {
            const t = e[Zone.__symbol__("legacyPatch")];
            t && t();
          }),
            Zone.__load_patch("queueMicrotask", (e, t, r) => {
              r.patchMethod(
                e,
                "queueMicrotask",
                (e) =>
                  function (e, r) {
                    t.current.scheduleMicroTask("queueMicrotask", r[0]);
                  }
              );
            }),
            Zone.__load_patch("timers", (e) => {
              const t = "set",
                r = "clear";
              re(e, t, r, "Timeout"),
                re(e, t, r, "Interval"),
                re(e, t, r, "Immediate");
            }),
            Zone.__load_patch("requestAnimationFrame", (e) => {
              re(e, "request", "cancel", "AnimationFrame"),
                re(e, "mozRequest", "mozCancel", "AnimationFrame"),
                re(e, "webkitRequest", "webkitCancel", "AnimationFrame");
            }),
            Zone.__load_patch("blocking", (e, t) => {
              const r = ["alert", "prompt", "confirm"];
              for (let n = 0; n < r.length; n++) {
                L(
                  e,
                  r[n],
                  (r, n, a) =>
                    function (n, i) {
                      return t.current.run(r, e, i, a);
                    }
                );
              }
            }),
            Zone.__load_patch("EventTarget", (e, t, r) => {
              !(function (e, t) {
                t.patchEventPrototype(e, t);
              })(e, r),
                ne(e, r);
              const n = e.XMLHttpRequestEventTarget;
              n && n.prototype && r.patchEventTarget(e, r, [n.prototype]);
            }),
            Zone.__load_patch("MutationObserver", (e, t, r) => {
              I("MutationObserver"), I("WebKitMutationObserver");
            }),
            Zone.__load_patch("IntersectionObserver", (e, t, r) => {
              I("IntersectionObserver");
            }),
            Zone.__load_patch("FileReader", (e, t, r) => {
              I("FileReader");
            }),
            Zone.__load_patch("on_property", (e, t, r) => {
              ee(r, e);
            }),
            Zone.__load_patch("customElements", (e, t, r) => {
              !(function (e, t) {
                const { isBrowser: r, isMix: n } = t.getGlobalObjects();
                if ((!r && !n) || !e.customElements || !("customElements" in e))
                  return;
                t.patchCallbacks(
                  t,
                  e.customElements,
                  "customElements",
                  "define",
                  [
                    "connectedCallback",
                    "disconnectedCallback",
                    "adoptedCallback",
                    "attributeChangedCallback",
                  ]
                );
              })(e, r);
            }),
            Zone.__load_patch("XHR", (e, t) => {
              !(function (e) {
                const c = e.XMLHttpRequest;
                if (!c) return;
                const d = c.prototype;
                let u = d[p],
                  h = d[l];
                if (!u) {
                  const t = e.XMLHttpRequestEventTarget;
                  if (t) {
                    const e = t.prototype;
                    (u = e[p]), (h = e[l]);
                  }
                }
                const m = "readystatechange",
                  f = "scheduled";
                function v(e) {
                  const n = e.data,
                    s = n.target;
                  (s[i] = !1), (s[o] = !1);
                  const c = s[a];
                  u || ((u = s[p]), (h = s[l])), c && h.call(s, m, c);
                  const d = (s[a] = () => {
                    if (s.readyState === s.DONE)
                      if (!n.aborted && s[i] && e.state === f) {
                        const r = s[t.__symbol__("loadfalse")];
                        if (0 !== s.status && r && r.length > 0) {
                          const a = e.invoke;
                          (e.invoke = function () {
                            const r = s[t.__symbol__("loadfalse")];
                            for (let t = 0; t < r.length; t++)
                              r[t] === e && r.splice(t, 1);
                            n.aborted || e.state !== f || a.call(e);
                          }),
                            r.push(e);
                        } else e.invoke();
                      } else n.aborted || !1 !== s[i] || (s[o] = !0);
                  });
                  u.call(s, m, d);
                  return s[r] || (s[r] = e), E.apply(s, n.args), (s[i] = !0), e;
                }
                function y() {}
                function b(e) {
                  const t = e.data;
                  return (t.aborted = !0), R.apply(t.target, t.args);
                }
                const S = L(
                    d,
                    "open",
                    () =>
                      function (e, t) {
                        return (e[n] = 0 == t[2]), (e[s] = t[1]), S.apply(e, t);
                      }
                  ),
                  w = g("fetchTaskAborting"),
                  T = g("fetchTaskScheduling"),
                  E = L(
                    d,
                    "send",
                    () =>
                      function (e, r) {
                        if (!0 === t.current[T]) return E.apply(e, r);
                        if (e[n]) return E.apply(e, r);
                        {
                          const t = {
                              target: e,
                              url: e[s],
                              isPeriodic: !1,
                              args: r,
                              aborted: !1,
                            },
                            n = _("XMLHttpRequest.send", y, t, v, b);
                          e &&
                            !0 === e[o] &&
                            !t.aborted &&
                            n.state === f &&
                            n.invoke();
                        }
                      }
                  ),
                  R = L(
                    d,
                    "abort",
                    () =>
                      function (e, n) {
                        const a = e[r];
                        if (a && "string" == typeof a.type) {
                          if (null == a.cancelFn || (a.data && a.data.aborted))
                            return;
                          a.zone.cancelTask(a);
                        } else if (!0 === t.current[w]) return R.apply(e, n);
                      }
                  );
              })(e);
              const r = g("xhrTask"),
                n = g("xhrSync"),
                a = g("xhrListener"),
                i = g("xhrScheduled"),
                s = g("xhrURL"),
                o = g("xhrErrorBeforeScheduled");
            }),
            Zone.__load_patch("geolocation", (e) => {
              e.navigator &&
                e.navigator.geolocation &&
                (function (e, t) {
                  const r = e.constructor.name;
                  for (let a = 0; a < t.length; a++) {
                    const i = t[a],
                      s = e[i];
                    if (s) {
                      if (!w(n(e, i))) continue;
                      e[i] = ((e) => {
                        const t = function () {
                          return e.apply(this, S(arguments, r + "." + i));
                        };
                        return A(t, e), t;
                      })(s);
                    }
                  }
                })(e.navigator.geolocation, [
                  "getCurrentPosition",
                  "watchPosition",
                ]);
            }),
            Zone.__load_patch("PromiseRejectionEvent", (e, t) => {
              function r(t) {
                return function (r) {
                  K(e, t).forEach((n) => {
                    const a = e.PromiseRejectionEvent;
                    if (a) {
                      const e = new a(t, {
                        promise: r.promise,
                        reason: r.rejection,
                      });
                      n.invoke(e);
                    }
                  });
                };
              }
              e.PromiseRejectionEvent &&
                ((t[g("unhandledPromiseRejectionHandler")] =
                  r("unhandledrejection")),
                (t[g("rejectionHandledHandler")] = r("rejectionhandled")));
            });
        },
        2480: () => {},
        907: (e, t, r) => {
          "use strict";
          function n(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n;
          }
          r.d(t, { Z: () => n });
        },
        5861: (e, t, r) => {
          "use strict";
          function n(e, t, r, n, a, i, s) {
            try {
              var o = e[i](s),
                c = o.value;
            } catch (e) {
              return void r(e);
            }
            o.done ? t(c) : Promise.resolve(c).then(n, a);
          }
          function a(e) {
            return function () {
              var t = this,
                r = arguments;
              return new Promise(function (a, i) {
                var s = e.apply(t, r);
                function o(e) {
                  n(s, a, i, o, c, "next", e);
                }
                function c(e) {
                  n(s, a, i, o, c, "throw", e);
                }
                o(void 0);
              });
            };
          }
          r.d(t, { Z: () => a });
        },
        5671: (e, t, r) => {
          "use strict";
          function n(e, t) {
            if (!(e instanceof t))
              throw new TypeError("Cannot call a class as a function");
          }
          r.d(t, { Z: () => n });
        },
        3144: (e, t, r) => {
          "use strict";
          function n(e, t) {
            for (var r = 0; r < t.length; r++) {
              var n = t[r];
              (n.enumerable = n.enumerable || !1),
                (n.configurable = !0),
                "value" in n && (n.writable = !0),
                Object.defineProperty(e, n.key, n);
            }
          }
          function a(e, t, r) {
            return (
              t && n(e.prototype, t),
              r && n(e, r),
              Object.defineProperty(e, "prototype", { writable: !1 }),
              e
            );
          }
          r.d(t, { Z: () => a });
        },
        4942: (e, t, r) => {
          "use strict";
          function n(e, t, r) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = r),
              e
            );
          }
          r.d(t, { Z: () => n });
        },
        885: (e, t, r) => {
          "use strict";
          r.d(t, { Z: () => a });
          var n = r(181);
          function a(e, t) {
            return (
              (function (e) {
                if (Array.isArray(e)) return e;
              })(e) ||
              (function (e, t) {
                var r =
                  null == e
                    ? null
                    : ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
                      e["@@iterator"];
                if (null != r) {
                  var n,
                    a,
                    i = [],
                    s = !0,
                    o = !1;
                  try {
                    for (
                      r = r.call(e);
                      !(s = (n = r.next()).done) &&
                      (i.push(n.value), !t || i.length !== t);
                      s = !0
                    );
                  } catch (e) {
                    (o = !0), (a = e);
                  } finally {
                    try {
                      s || null == r.return || r.return();
                    } finally {
                      if (o) throw a;
                    }
                  }
                  return i;
                }
              })(e, t) ||
              (0, n.Z)(e, t) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                );
              })()
            );
          }
        },
        181: (e, t, r) => {
          "use strict";
          r.d(t, { Z: () => a });
          var n = r(907);
          function a(e, t) {
            if (e) {
              if ("string" == typeof e) return (0, n.Z)(e, t);
              var r = Object.prototype.toString.call(e).slice(8, -1);
              return (
                "Object" === r && e.constructor && (r = e.constructor.name),
                "Map" === r || "Set" === r
                  ? Array.from(e)
                  : "Arguments" === r ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                  ? (0, n.Z)(e, t)
                  : void 0
              );
            }
          }
        },
        7002: (e) => {
          "use strict";
          e.exports = JSON.parse(
            '{"name":"protoo-client","version":"4.0.6","description":"protoo JavaScript client module","author":"Iñaki Baz Castillo <ibc@aliax.net>","homepage":"https://protoo.versatica.com","license":"MIT","repository":{"type":"git","url":"https://github.com/ibc/protoo.git"},"main":"lib/index.js","keywords":["nodejs","browser","websocket"],"engines":{"node":">=8.0.0"},"scripts":{"lint":"eslint -c .eslintrc.js lib"},"dependencies":{"debug":"^4.3.1","events":"^3.2.0","retry":"^0.12.0"},"devDependencies":{"eslint":"^5.16.0"},"optionalDependencies":{"websocket":"^1.0.33"}}'
          );
        },
        9794: (e) => {
          "use strict";
          e.exports = { version: "1.0.34" };
        },
      },
      t = {};
    function r(n) {
      var a = t[n];
      if (void 0 !== a) return a.exports;
      var i = (t[n] = { exports: {} });
      return e[n].call(i.exports, i, i.exports, r), i.exports;
    }
    return (
      (r.n = (e) => {
        var t = e && e.__esModule ? () => e.default : () => e;
        return r.d(t, { a: t }), t;
      }),
      (r.d = (e, t) => {
        for (var n in t)
          r.o(t, n) &&
            !r.o(e, n) &&
            Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
      }),
      (r.g = (function () {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (e) {
          if ("object" == typeof window) return window;
        }
      })()),
      (r.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
      (r.r = (e) => {
        "undefined" != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(e, "__esModule", { value: !0 });
      }),
      r(710)
    );
  })()
);
